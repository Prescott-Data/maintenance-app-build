{"version":3,"file":"static/js/8501.34896065.chunk.js","mappings":"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","sources":["D2App/pages/categoryOptionGroupSets/Edit.js","D2App/pages/categoryOptionGroupSets/form/CategoryOptionGroupSetFormFields.js","D2App/pages/categoryOptionGroupSets/form/categoryOptionGroupSetSchema.js"],"sourcesContent":["import React from 'react';\nimport { useQuery } from 'react-query';\nimport { useParams } from 'react-router-dom';\nimport { DefaultEditFormContents, FormBase } from '../../components';\nimport { ATTRIBUTE_VALUES_FIELD_FILTERS, DEFAULT_FIELD_FILTERS, SECTIONS_MAP, useOnSubmitEdit } from '../../lib';\nimport { useBoundResourceQueryFn } from '../../lib/query/useBoundQueryFn';\nimport CategoryOptionGroupSetFormFields from './form/CategoryOptionGroupSetFormFields';\nimport { validate } from './form/categoryOptionGroupSetSchema';\nconst fieldFilters = [...DEFAULT_FIELD_FILTERS, ...ATTRIBUTE_VALUES_FIELD_FILTERS, 'name', 'shortName', 'code', 'description', 'categoryOptionGroups[id,displayName]', 'dataDimension', 'dataDimensionType'];\nexport const Component = () => {\n  const section = SECTIONS_MAP.categoryOptionGroupSet;\n  const queryFn = useBoundResourceQueryFn();\n  const modelId = useParams().id;\n  const query = {\n    resource: 'categoryOptionGroupSets',\n    id: modelId,\n    params: {\n      fields: fieldFilters.concat()\n    }\n  };\n  const categoryOptionGroupSetQuery = useQuery({\n    queryKey: [query],\n    queryFn: queryFn\n  });\n  return /*#__PURE__*/React.createElement(FormBase, {\n    onSubmit: useOnSubmitEdit({\n      section,\n      modelId\n    }),\n    section: section,\n    initialValues: categoryOptionGroupSetQuery.data,\n    validate: validate\n  }, /*#__PURE__*/React.createElement(DefaultEditFormContents, {\n    section: section\n  }, /*#__PURE__*/React.createElement(CategoryOptionGroupSetFormFields, null)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { RadioFieldFF, CheckboxFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CustomAttributesSection, DefaultIdentifiableFields, DescriptionField, HorizontalFieldGroup, ModelTransferField, StandardFormField, StandardFormSection, StandardFormSectionDescription, StandardFormSectionTitle } from '../../../components';\nimport { SECTIONS_MAP } from '../../../lib';\nfunction CategoryOptionGroupSetFormFields() {\n  const section = SECTIONS_MAP.categoryOptionGroupSet;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, i18n.t('Basic information')), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Set up the basic information for this category option group set.')), /*#__PURE__*/React.createElement(DefaultIdentifiableFields, null), /*#__PURE__*/React.createElement(DescriptionField, {\n    schemaSection: section,\n    helpText: i18n.t('Explain the purpose of this category option group set.')\n  })), /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, i18n.t('Data configuration')), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Choose how this category option group set will be used to capture and analyze')), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(HorizontalFieldGroup, {\n    label: 'Data dimension type (required)'\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimensionType\",\n    component: RadioFieldFF,\n    label: i18n.t('Disaggregation'),\n    type: \"radio\",\n    value: 'DISAGGREGATION'\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimensionType\",\n    component: RadioFieldFF,\n    label: i18n.t('Attribute'),\n    type: \"radio\",\n    value: 'ATTRIBUTE'\n  }))), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimension\",\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    label: i18n.t('Use as data dimension'),\n    helpText: i18n.t('Category option group set will be available to the analytics as another dimension')\n  }))), /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: 'categoryOptionGroups'\n  }, i18n.t('Category option Groups'))), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Choose the category option groups to include in this category option group set.')), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(ModelTransferField, {\n    name: \"categoryOptionGroups\",\n    query: {\n      resource: 'categoryOptionGroups'\n    },\n    leftHeader: i18n.t('Available category option groups'),\n    rightHeader: i18n.t('Selected category option groups'),\n    filterPlaceholder: i18n.t('Filter available category option groups'),\n    filterPlaceholderPicked: i18n.t('Filter selected category option groups')\n  })))), /*#__PURE__*/React.createElement(CustomAttributesSection, {\n    schemaSection: section\n  }));\n}\nexport default CategoryOptionGroupSetFormFields;","import { z } from 'zod';\nimport { getDefaults, createFormValidate, modelFormSchemas } from '../../../lib';\nimport { CategoryOptionGroupSet } from '../../../types/generated';\nconst {\n  identifiable,\n  referenceCollection,\n  withAttributeValues\n} = modelFormSchemas;\nexport const categoryOptionGroupSetSchema = identifiable.merge(withAttributeValues).extend({\n  shortName: z.string().trim(),\n  code: z.string().trim().optional(),\n  description: z.string().trim().optional(),\n  dataDimensionType: z.nativeEnum(CategoryOptionGroupSet.dataDimensionType).default(CategoryOptionGroupSet.dataDimensionType.DISAGGREGATION),\n  dataDimension: z.boolean().default(true),\n  categoryOptionGroups: referenceCollection.min(1, 'At least one category option group is required').default([])\n});\nexport const initialValues = getDefaults(categoryOptionGroupSetSchema);\nexport const validate = createFormValidate(categoryOptionGroupSetSchema);"],"names":["fieldFilters","DEFAULT_FIELD_FILTERS","ATTRIBUTE_VALUES_FIELD_FILTERS","Component","section","SECTIONS_MAP","categoryOptionGroupSet","queryFn","useBoundResourceQueryFn","modelId","useParams","id","query","resource","params","fields","concat","categoryOptionGroupSetQuery","useQuery","queryKey","React","FormBase","onSubmit","useOnSubmitEdit","initialValues","data","validate","DefaultEditFormContents","CategoryOptionGroupSetFormFields","StandardFormSection","StandardFormSectionTitle","i18n","t","StandardFormSectionDescription","DefaultIdentifiableFields","DescriptionField","schemaSection","helpText","StandardFormField","HorizontalFieldGroup","label","Field","name","component","RadioFieldFF","type","value","CheckboxFieldFF","htmlFor","ModelTransferField","leftHeader","rightHeader","filterPlaceholder","filterPlaceholderPicked","CustomAttributesSection","identifiable","referenceCollection","withAttributeValues","modelFormSchemas","categoryOptionGroupSetSchema","merge","extend","shortName","z","string","trim","code","optional","description","dataDimensionType","nativeEnum","CategoryOptionGroupSet","default","DISAGGREGATION","dataDimension","boolean","categoryOptionGroups","min","getDefaults","createFormValidate"],"sourceRoot":""}