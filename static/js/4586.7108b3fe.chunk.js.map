{"version":3,"file":"static/js/4586.7108b3fe.chunk.js","mappings":"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","sources":["D2App/pages/categories/New.js","D2App/pages/categories/form/CategoryFormFields.js","D2App/pages/categories/form/categorySchema.js"],"sourcesContent":["import React from 'react';\nimport { FormBase } from '../../components';\nimport { DefaultNewFormContents } from '../../components/form/DefaultFormContents';\nimport { SECTIONS_MAP, useOnSubmitNew } from '../../lib';\nimport { validate } from './form';\nimport { CategoryFormFields } from './form/CategoryFormFields';\nimport { initialValues } from './form/categorySchema';\nconst section = SECTIONS_MAP.category;\nexport const Component = () => {\n  return /*#__PURE__*/React.createElement(FormBase, {\n    section: section,\n    onSubmit: useOnSubmitNew({\n      section\n    }),\n    initialValues: initialValues,\n    validate: validate\n  }, /*#__PURE__*/React.createElement(DefaultNewFormContents, {\n    section: section\n  }, /*#__PURE__*/React.createElement(CategoryFormFields, null)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { CheckboxFieldFF, RadioFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { Field } from 'react-final-form';\nimport { CustomAttributesSection, DefaultIdentifiableFields, StandardFormField, StandardFormSection, StandardFormSectionTitle, StandardFormSectionDescription, DescriptionField, HorizontalFieldGroup, ModelTransferField } from '../../../components';\nimport { SECTIONS_MAP } from '../../../lib';\nexport const CategoryFormFields = () => {\n  const section = SECTIONS_MAP.category;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, i18n.t('Basic information')), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Set up the basic information for this category.')), /*#__PURE__*/React.createElement(DefaultIdentifiableFields, null), /*#__PURE__*/React.createElement(DescriptionField, {\n    schemaSection: section,\n    helpText: i18n.t('Explain the purpose of this category option group.')\n  })), /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, i18n.t('Data configuration')), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Choose how this category option group will be used to capture and analyze')), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(HorizontalFieldGroup, {\n    label: 'Data dimension type (required)'\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimensionType\",\n    component: RadioFieldFF,\n    label: i18n.t('Disaggregation'),\n    type: \"radio\",\n    value: 'DISAGGREGATION'\n  }), /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimensionType\",\n    component: RadioFieldFF,\n    label: i18n.t('Attribute'),\n    type: \"radio\",\n    value: 'ATTRIBUTE'\n  }))), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"dataDimension\",\n    type: \"checkbox\",\n    component: CheckboxFieldFF,\n    label: i18n.t('Use as data dimension'),\n    helpText: i18n.t('Category option group will be available to the analytics as another dimension')\n  }))), /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: 'categoryOptions'\n  }, i18n.t('Category options'))), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Choose the category options to include in this category option group.')), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(ModelTransferField, {\n    name: \"categoryOptions\",\n    query: {\n      resource: 'categoryOptions',\n      params: {\n        filter: ['isDefault:eq:false']\n      }\n    },\n    leftHeader: i18n.t('Available category options'),\n    rightHeader: i18n.t('Selected category options'),\n    filterPlaceholder: i18n.t('Filter available category options'),\n    filterPlaceholderPicked: i18n.t('Filter selected category options')\n  })))), /*#__PURE__*/React.createElement(CustomAttributesSection, {\n    schemaSection: section\n  }));\n};","import { z } from 'zod';\nimport { getDefaults, createFormValidate, modelFormSchemas } from '../../../lib';\nimport { Category } from '../../../types/generated';\n\n/*  Note that this describes what we send to the server,\n    and not what is stored in the form. */\nconst {\n  identifiable,\n  referenceCollection,\n  withAttributeValues\n} = modelFormSchemas;\nexport const categorySchema = identifiable.merge(withAttributeValues).extend({\n  shortName: z.string().trim(),\n  code: z.string().trim().optional(),\n  description: z.string().trim().optional(),\n  dataDimensionType: z.nativeEnum(Category.dataDimensionType).default(Category.dataDimensionType.DISAGGREGATION),\n  dataDimension: z.boolean().default(true),\n  categoryOptions: referenceCollection.min(1, 'At least one category option is required').default([])\n});\nexport const initialValues = getDefaults(categorySchema);\nexport const validate = createFormValidate(categorySchema);"],"names":["section","SECTIONS_MAP","category","Component","React","FormBase","onSubmit","useOnSubmitNew","initialValues","validate","DefaultNewFormContents","CategoryFormFields","StandardFormSection","StandardFormSectionTitle","i18n","t","StandardFormSectionDescription","DefaultIdentifiableFields","DescriptionField","schemaSection","helpText","StandardFormField","HorizontalFieldGroup","label","Field","name","component","RadioFieldFF","type","value","CheckboxFieldFF","htmlFor","ModelTransferField","query","resource","params","filter","leftHeader","rightHeader","filterPlaceholder","filterPlaceholderPicked","CustomAttributesSection","identifiable","referenceCollection","withAttributeValues","modelFormSchemas","categorySchema","merge","extend","shortName","z","string","trim","code","optional","description","dataDimensionType","nativeEnum","Category","default","DISAGGREGATION","dataDimension","boolean","categoryOptions","min","getDefaults","createFormValidate"],"sourceRoot":""}