"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[8728,2197,8999,6003],{82332:function(e,t,n){n.d(t,{v:function(){return u}});var a=n(28014),r=n(18707),i=n(72176),l=n(50445),o=n(16680);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}function u(e){let{name:t,label:n,required:u,...d}=e;const s=(0,o.hJ)("keyCalendar"),m=o.s8,[p,f]=(0,i.useState)({error:!1,valid:!0}),{input:v}=(0,l.Mt)(t,{format:e=>e?e.substring(0,10):""});return i.createElement("div",null,i.createElement(r.p,c({inputWidth:"400px",date:v.value,name:t,required:u,calendar:s,onDateSelect:e=>{null!==e&&void 0!==e&&e.calendarDateString||!u?f((null===e||void 0===e?void 0:e.validation)||{error:!1,valid:!0}):f({error:!0,valid:!1,validationCode:"EMPTY",validationText:a.A.t("Required")}),v.onChange((null===e||void 0===e?void 0:e.calendarDateString)||""),v.onBlur()},timeZone:"utc",locale:m,format:"YYYY-MM-DD",onBlur:(e,t)=>v.onBlur(t),clearable:!0,label:u?`${n} (required)`:n},p,{valid:(null===p||void 0===p?void 0:p.valid)&&""!==(null===v||void 0===v?void 0:v.value)},d)))}},28728:function(e,t,n){n.r(t),n.d(t,{Component:function(){return m}});var a=n(72176),r=n(84586),i=n(14571),l=n(87899),o=n(16680),c=n(27648),u=n(2197);const d=[...o.VQ,...o.VM,"name","formName","code","shortName","description","startDate","endDate","organisationUnits[id,displayName,path]"],s=o.In.categoryOption,m=()=>{const e=(0,c.sf)(),t=(0,i.g)().id,n={resource:"categoryOptions",id:t,params:{fields:d.concat()}},m=(0,r.useQuery)({queryKey:[n],queryFn:e});return a.createElement(l.C7,{onSubmit:(0,o.p6)({section:s,modelId:t}),section:s,initialValues:m.data,validate:u.validate},a.createElement(l.Q8,{section:s},a.createElement(u.CategoryOptionFormFields,null)))}},48999:function(e,t,n){n.r(t),n.d(t,{CategoryOptionFormFields:function(){return d}});var a=n(28014),r=n(87949),i=n(72176),l=n(50445),o=n(87899),c=n(82332);const u=n(16680).In.categoryOption,d=()=>i.createElement(i.Fragment,null,i.createElement(o.Hl,null,i.createElement(o.L7,null,a.A.t("Basic information")),i.createElement(o.hK,null,a.A.t("Set up the basic information for this category option.")),i.createElement(o.Vd,null),i.createElement(o.Ys,null,i.createElement(l.D0,{component:r.f,dataTest:"formfields-formname",inputWidth:"400px",name:"formName",label:a.A.t("Form name"),helpText:a.A.t("An alternative name used in section or automatic data entry forms."),validateFields:[]})),i.createElement(o.Ys,null,i.createElement(o.zO,{schemaSection:u}))),i.createElement(o.Hl,null,i.createElement(o.L7,null,a.A.t("Availability configuration")),i.createElement(o.hK,null,a.A.t("Choose when, and for which organisation units this category option will be available.")),i.createElement(o.Ys,null,i.createElement(c.v,{name:"startDate",label:"Pick a start date"})),i.createElement(o.Ys,null,i.createElement(c.v,{name:"endDate",label:"Pick an end date"})),i.createElement(o.Ys,null,i.createElement(o.DK,null))),i.createElement(o.Ot,{schemaSection:u}))},26003:function(e,t,n){n.r(t),n.d(t,{categoryOptionSchema:function(){return d},initialValues:function(){return s},validate:function(){return m}});var a=n(28014),r=n(73044),i=n(16680),l=n(55073);const{withAttributeValues:o,identifiable:c,referenceCollection:u}=i.UH,d=c.merge(o).extend({code:r.z.string().trim().optional(),shortName:r.z.string().trim(),formName:r.z.string().trim().max(230,{message:a.A.t("Form name should not exceed 230 characters")}).optional(),description:r.z.string().trim().optional(),startDate:r.z.coerce.date().optional(),endDate:r.z.coerce.date().optional(),organisationUnits:u.optional()}).refine((e=>!e.startDate||!e.endDate||e.startDate<=e.endDate),{message:a.A.t("End date should be after start date"),path:["endDate"]}),s=(0,i.rV)(d),m=(0,l.R)(d)},2197:function(e,t,n){n.r(t),n.d(t,{CategoryOptionFormFields:function(){return r.CategoryOptionFormFields},categoryOptionComboSchema:function(){return a.categoryOptionSchema},validate:function(){return a.validate}});var a=n(26003),r=n(48999)}}]);
//# sourceMappingURL=8728.983ee130.chunk.js.map