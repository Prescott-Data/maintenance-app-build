{"version":3,"file":"static/js/9761.f211126a.chunk.js","mappings":"2XAUO,MAAMA,EAA8BC,IACzC,IAAI,MACFC,EAAK,mBACLC,GACEF,EACJ,MAAMG,GAAYC,EAAAA,EAAAA,IAAeH,GAC3BI,GAAcC,EAAAA,EAAAA,kBAQpB,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAa,KAAmBD,EAAAA,cAAoBE,EAAAA,GAAY,CACtGC,QAAST,EAAMU,KACAJ,EAAAA,cAAoBK,EAA4B,CAC/DT,UAAWA,EACXF,MAAOA,EAGPY,gBAd0BC,KAC1BT,EAAYU,kBAAkB,CAC5BC,SAAU,CAAC,CACTC,SAAU,uBAEZ,EAUFf,mBAAoBA,IACnB,EAECU,EAA6BM,IACjC,IAAI,UACFf,EAAS,MACTF,EAAK,gBAELY,EAAe,mBACfX,GACEgB,EACJ,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,WAAS,GAC3BC,GAAMC,EAAAA,EAAAA,QAAO,MACbC,GAAOC,EAAAA,EAAAA,IAAQxB,EAAMU,GAAI,CAC7Be,SAAU,SAENC,GAAkBC,EAAAA,EAAAA,IAAoB3B,EAAMU,IAClD,OAAoBJ,EAAAA,cAAoB,MAAO,CAC7Ce,IAAKA,GACSf,EAAAA,cAAoBsB,EAAAA,EAAQ,CAC1CC,OAAO,EACPC,WAAW,EACXC,QAASA,IAAMZ,GAASD,GACxBc,SAAU,0BACVC,KAAmB3B,EAAAA,cAAoB4B,EAAAA,EAAY,QACjDhB,GAAqBZ,EAAAA,cAAoB6B,EAAAA,EAAS,CACpDC,OAAO,EACPC,UAAW,aACXC,UAAWjB,EACXkB,eAAgBA,IAAMpB,GAAQ,GAC9Ba,SAAU,oBACI1B,EAAAA,cAAoBkC,EAAAA,EAAY,KAAmBlC,EAAAA,cAAoBmC,EAAAA,EAAU,CAC/FC,OAAO,EACPC,MAAOC,EAAAA,EAAKC,EAAE,gBACdZ,KAAmB3B,EAAAA,cAAoBwC,EAAAA,EAAY,MACnDf,QAASA,KACP9B,EAAmBD,GACnBmB,GAAQ,EAAM,IAEDb,EAAAA,cAAoBmC,EAAAA,EAAU,CAC7CC,OAAO,EACPC,MAAOC,EAAAA,EAAKC,EAAE,QACdZ,KAAmB3B,EAAAA,cAAoByC,EAAAA,EAAY,MACnDhB,QAASA,CAACiB,EAAGC,KACXvB,EAAgBuB,GAChB9B,GAAQ,EAAM,EAEhB+B,OAAQ,SACR3B,KAAMA,IACSjB,EAAAA,cAAoB6C,EAAAA,EAAgB,CACnDC,WAAYlD,EACZmD,QAASC,EAAAA,GAASC,gBACJjD,EAAAA,cAAoBkD,EAAAA,EAAc,CAChDxD,MAAOA,EACPyD,UAAWvD,EACXU,gBAAiBA,KACfA,IACAO,GAAQ,EAAM,EAEhBuC,SAAUA,IAAMvC,GAAQ,QACpB,C","sources":["D2App/pages/organisationUnits/list/OrganisationUnitListActions.js"],"sourcesContent":["import i18n from '@dhis2/d2-i18n';\nimport { Button, FlyoutMenu, IconEdit16, IconMore16, IconMore24, MenuItem, Popover } from '@dhis2/ui';\nimport React, { useState, useRef } from 'react';\nimport { useQueryClient } from 'react-query';\nimport { useHref, useLinkClickHandler } from 'react-router-dom';\nimport { DeleteAction } from '../../../components/sectionList/listActions/DeleteAction';\nimport { ListActions, ActionEdit } from '../../../components/sectionList/listActions/SectionListActions';\nimport { TooltipWrapper } from '../../../components/tooltip';\nimport { TOOLTIPS } from '../../../lib';\nimport { canDeleteModel } from '../../../lib/models/access';\nexport const OrganisationUnitListActions = _ref => {\n  let {\n    model,\n    onShowDetailsClick\n  } = _ref;\n  const deletable = canDeleteModel(model);\n  const queryClient = useQueryClient();\n  const handleDeleteSuccess = () => {\n    queryClient.invalidateQueries({\n      queryKey: [{\n        resource: 'organisationUnits'\n      }]\n    });\n  };\n  return /*#__PURE__*/React.createElement(ListActions, null, /*#__PURE__*/React.createElement(ActionEdit, {\n    modelId: model.id\n  }), /*#__PURE__*/React.createElement(OrganisationUnitActionMore, {\n    deletable: deletable,\n    model: model\n    // onTranslateClick={() => onOpenTranslationClick(model)}\n    ,\n    onDeleteSuccess: handleDeleteSuccess,\n    onShowDetailsClick: onShowDetailsClick\n  }));\n};\nconst OrganisationUnitActionMore = _ref2 => {\n  let {\n    deletable,\n    model,\n    // onTranslateClick,\n    onDeleteSuccess,\n    onShowDetailsClick\n  } = _ref2;\n  const [open, setOpen] = useState(false);\n  const ref = useRef(null);\n  const href = useHref(model.id, {\n    relative: 'path'\n  });\n  const handleEditClick = useLinkClickHandler(model.id);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    onClick: () => setOpen(!open),\n    dataTest: \"row-actions-menu-button\",\n    icon: /*#__PURE__*/React.createElement(IconMore24, null)\n  }), open && /*#__PURE__*/React.createElement(Popover, {\n    arrow: false,\n    placement: \"bottom-end\",\n    reference: ref,\n    onClickOutside: () => setOpen(false),\n    dataTest: \"row-actions-menu\"\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, null, /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    label: i18n.t('Show details'),\n    icon: /*#__PURE__*/React.createElement(IconMore16, null),\n    onClick: () => {\n      onShowDetailsClick(model);\n      setOpen(false);\n    }\n  }), /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    label: i18n.t('Edit'),\n    icon: /*#__PURE__*/React.createElement(IconEdit16, null),\n    onClick: (_, e) => {\n      handleEditClick(e);\n      setOpen(false);\n    },\n    target: \"_blank\",\n    href: href\n  }), /*#__PURE__*/React.createElement(TooltipWrapper, {\n    condition: !deletable,\n    content: TOOLTIPS.noDeleteAccess\n  }, /*#__PURE__*/React.createElement(DeleteAction, {\n    model: model,\n    disabled: !deletable,\n    onDeleteSuccess: () => {\n      onDeleteSuccess();\n      setOpen(false);\n    },\n    onCancel: () => setOpen(false)\n  })))));\n};"],"names":["OrganisationUnitListActions","_ref","model","onShowDetailsClick","deletable","canDeleteModel","queryClient","useQueryClient","React","ListActions","ActionEdit","modelId","id","OrganisationUnitActionMore","onDeleteSuccess","handleDeleteSuccess","invalidateQueries","queryKey","resource","_ref2","open","setOpen","useState","ref","useRef","href","useHref","relative","handleEditClick","useLinkClickHandler","Button","small","secondary","onClick","dataTest","icon","IconMore24","Popover","arrow","placement","reference","onClickOutside","FlyoutMenu","MenuItem","dense","label","i18n","t","IconMore16","IconEdit16","_","e","target","TooltipWrapper","condition","content","TOOLTIPS","noDeleteAccess","DeleteAction","disabled","onCancel"],"sourceRoot":""}