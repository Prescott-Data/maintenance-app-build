{"version":3,"file":"static/js/9107.fd59cf95.chunk.js","mappings":"gTAKA,MAAM,aACJA,EAAY,oBACZC,EAAmB,eACnBC,GACEC,EAAAA,GAESC,EAAsBJ,EAAaK,MAAMJ,GAAqBK,OAAO,CAChFC,KAAMC,EAAAA,EAAEC,SAASC,OAAOC,WACxBC,kBAAmBJ,EAAAA,EAAEK,WAAWC,EAAAA,GAAcF,mBAAmBG,QAAQD,EAAAA,GAAcF,kBAAkBI,gBACzGC,UAAWT,EAAAA,EAAEU,UAAUH,SAAQ,GAC/BI,WAAYX,EAAAA,EAAEY,MAAMlB,EAAeI,OAAO,CACxCe,YAAab,EAAAA,EAAEC,SACfa,oBAAqBd,EAAAA,EAAEe,YACrBC,IAAI,EAAGC,EAAAA,EAAKC,EAAE,sCAAsCC,QAAOR,GAClCA,EAAWS,QAAO,CAACC,EAAKC,IAAaD,EAAMC,EAASR,qBAAqB,GAT5E,KAWvB,CACDS,QAASN,EAAAA,EAAKC,EAAE,sFAAuF,CACrGM,MAbsB,QAevBjB,QAAQ,MAEAkB,GAAgBC,EAAAA,EAAAA,IAAY9B,GAC5B+B,GAAWC,EAAAA,EAAAA,GAAmBhC,E","sources":["D2App/pages/categoryCombos/form/categoryComboSchema.js"],"sourcesContent":["import i18n from '@dhis2/d2-i18n';\nimport { z } from 'zod';\nimport { getDefaults, modelFormSchemas } from '../../../lib';\nimport { createFormValidate } from '../../../lib/form/validate';\nimport { CategoryCombo } from './../../../types/generated/models';\nconst {\n  identifiable,\n  withAttributeValues,\n  modelReference\n} = modelFormSchemas;\nconst GENERATED_COC_LIMIT = 50000;\nexport const categoryComboSchema = identifiable.merge(withAttributeValues).extend({\n  code: z.string().trim().optional(),\n  dataDimensionType: z.nativeEnum(CategoryCombo.dataDimensionType).default(CategoryCombo.dataDimensionType.DISAGGREGATION),\n  skipTotal: z.boolean().default(false),\n  categories: z.array(modelReference.extend({\n    displayName: z.string(),\n    categoryOptionsSize: z.number()\n  })).min(1, i18n.t('At least one category is required')).refine(categories => {\n    const generatedCocsCount = categories.reduce((acc, category) => acc * category.categoryOptionsSize, 1);\n    return generatedCocsCount < GENERATED_COC_LIMIT;\n  }, {\n    message: i18n.t('The number of generated category option combinations exceeds the limit of {{limit}}', {\n      limit: GENERATED_COC_LIMIT\n    })\n  }).default([])\n});\nexport const initialValues = getDefaults(categoryComboSchema);\nexport const validate = createFormValidate(categoryComboSchema);"],"names":["identifiable","withAttributeValues","modelReference","modelFormSchemas","categoryComboSchema","merge","extend","code","z","string","trim","optional","dataDimensionType","nativeEnum","CategoryCombo","default","DISAGGREGATION","skipTotal","boolean","categories","array","displayName","categoryOptionsSize","number","min","i18n","t","refine","reduce","acc","category","message","limit","initialValues","getDefaults","validate","createFormValidate"],"sourceRoot":""}