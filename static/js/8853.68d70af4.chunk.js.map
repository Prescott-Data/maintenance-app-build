{"version":3,"file":"static/js/8853.68d70af4.chunk.js","mappings":"2MACO,MAAMA,EAAyBC,EAAAA,EAAEC,OAAO,CAC7CC,KAAMF,EAAAA,EAAEG,SAASC,OACjBC,UAAWL,EAAAA,EAAEG,SAASC,OACtBE,KAAMN,EAAAA,EAAEG,SAASC,OACjBG,YAAaP,EAAAA,EAAEG,SAASC,OACxBI,aAAcR,EAAAA,EAAES,MAAMT,EAAAA,EAAEC,OAAO,CAC7BS,GAAIV,EAAAA,EAAEG,cAEPQ,S,+FCDI,SAASC,EAASC,GACvB,MAAMC,EAAYf,EAAAA,uBAAuBgB,UAAUF,GACnD,IAA0B,IAAtBC,EAAUE,QACZ,OAMF,OAJsBF,EAAUG,MAAMC,OAAOC,QAAO,CAACC,EAAYH,KAC/D,MAAMI,EAA2BJ,EAAMK,KAVzBH,QAAO,CAACG,EAAMC,IACF,kBAAZA,EAAuB,GAAGD,KAAQC,KAAa,GAAGD,KAAQC,MAUxE,OAAOC,EAAAA,EAAAA,IAAMJ,EAAYC,EAAWJ,EAAMQ,QAAQ,GACjD,CAAC,EAEN,C","sources":["D2App/pages/dataElementGroups/form/dataElementGroupSchema.js","D2App/pages/dataElementGroups/form/validate.js"],"sourcesContent":["import { z } from 'zod';\nexport const dataElementGroupSchema = z.object({\n  name: z.string().trim(),\n  shortName: z.string().trim(),\n  code: z.string().trim(),\n  description: z.string().trim(),\n  dataElements: z.array(z.object({\n    id: z.string()\n  }))\n}).partial();","import { setIn } from 'final-form';\nimport { dataElementGroupSchema } from './dataElementGroupSchema';\n// @TODO: Figure out if there's a utility for this? I couldn't find one\nfunction segmentsToPath(segments) {\n  return segments.reduce((path, segment) => {\n    return typeof segment === 'number' ? `${path}[${segment}]` : `${path}.${segment}`;\n  });\n}\nexport function validate(values) {\n  const zodResult = dataElementGroupSchema.safeParse(values);\n  if (zodResult.success !== false) {\n    return undefined;\n  }\n  const allFormErrors = zodResult.error.issues.reduce((formErrors, error) => {\n    const errorPath = segmentsToPath(error.path);\n    return setIn(formErrors, errorPath, error.message);\n  }, {});\n  return allFormErrors;\n}"],"names":["dataElementGroupSchema","z","object","name","string","trim","shortName","code","description","dataElements","array","id","partial","validate","values","zodResult","safeParse","success","error","issues","reduce","formErrors","errorPath","path","segment","setIn","message"],"sourceRoot":""}