{"version":3,"file":"static/js/3443.51abf8e5.chunk.js","mappings":"oSASA,MAAMA,EAAe,CAAC,OAAQ,UACjBC,EAAYA,KACvB,MAAMC,EAAUC,EAAAA,GAAaC,cACvBC,GAAUC,EAAAA,EAAAA,MACVC,GAAUC,EAAAA,EAAAA,KAAYC,GACtBC,EAAQ,CACZC,SAAU,iBACVF,GAAIF,EACJK,OAAQ,CACNC,OAAQb,EAAac,WAGnBC,GAAqBC,EAAAA,EAAAA,UAAS,CAClCC,SAAU,CAACP,GACXL,QAASA,IAEX,OAAoBa,EAAAA,cAAoBC,EAAAA,EAAU,CAChDC,UAAUC,EAAAA,EAAAA,IAAgB,CACxBnB,UACAK,YAEFL,QAASA,EACToB,cAAeP,EAAmBQ,KAClCC,SAAUA,EAAAA,SACVC,mBAAmB,GACLP,EAAAA,cAAoBQ,EAAAA,EAAwB,CAC1DxB,QAASA,GACKgB,EAAAA,cAAoBS,EAAAA,yBAA0B,OAAO,C,+IC9BhE,MAAMC,EAAcA,KACzB,MACMC,GAAgBC,EAAAA,EAAAA,MAChBN,GAAWO,EAAAA,EAAAA,IAAa,CAC5BF,gBACAG,SAAU,YAEN,MACJC,EAAK,KACLC,IACEC,EAAAA,EAAAA,IATc,SASM,CACtBX,WACAY,KAAM,SACNC,OAAQC,GAAmB,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMC,aAEvE,OAAoBrB,EAAAA,cAAoBsB,EAAAA,EAAc,CACpDP,MAAOA,EACPC,KAAMA,EACNO,WAAY,QACZC,MAAOC,EAAAA,EAAKC,EAAE,UACdC,UAAU,GACV,C,iJCtBG,MAAMlB,EAA2BA,KACtC,MAAMzB,EAAUC,EAAAA,GAAaC,cACvByB,GAAgBC,EAAAA,EAAAA,MACtB,OAAoBZ,EAAAA,cAAoBA,EAAAA,SAAgB,KAAmBA,EAAAA,cAAoB4B,EAAAA,GAAqB,KAAmB5B,EAAAA,cAAoB6B,EAAAA,GAA0B,KAAMJ,EAAAA,EAAKC,EAAE,sBAAoC1B,EAAAA,cAAoB8B,EAAAA,GAAgC,KAAML,EAAAA,EAAKC,EAAE,0DAAwE1B,EAAAA,cAAoB+B,EAAAA,GAAmB,KAAmB/B,EAAAA,cAAoBgC,EAAAA,GAAW,CACtcrB,cAAeA,KACCX,EAAAA,cAAoB+B,EAAAA,GAAmB,KAAmB/B,EAAAA,cAAoBU,EAAAA,YAAa,QAAsBV,EAAAA,cAAoBiC,EAAAA,GAAyB,CAC9KtB,cAAe3B,IACd,C,wKCVL,MAAM,aACJkD,GACEC,EAAAA,GACSC,EAAkBF,EAAaG,OAAO,CACjDC,OAAQC,EAAAA,EAAEC,OAAOC,OAAO,CACtBC,mBAAoB,0BACnBC,QAEQvC,GAAgBwC,EAAAA,EAAAA,IAAYR,GAC5B9B,GAAWuC,EAAAA,EAAAA,IAAmBT,E","sources":["D2App/pages/indicatorTypes/Edit.js","D2App/pages/indicatorTypes/form/FactorField.js","D2App/pages/indicatorTypes/form/IndicatorTypesFormFields.js","D2App/pages/indicatorTypes/form/IndicatorTypesSchema.js"],"sourcesContent":["import React from 'react';\nimport { useQuery } from 'react-query';\nimport { useParams } from 'react-router-dom';\nimport { DefaultNewFormContents } from '../../components/form/DefaultFormContents';\nimport { FormBase } from '../../components/form/FormBase';\nimport { SECTIONS_MAP, useOnSubmitEdit } from '../../lib';\nimport { useBoundResourceQueryFn } from '../../lib/query/useBoundQueryFn';\nimport { validate } from './form';\nimport { IndicatorTypesFormFields } from './form/IndicatorTypesFormFields';\nconst fieldFilters = ['name', 'factor'];\nexport const Component = () => {\n  const section = SECTIONS_MAP.indicatorType;\n  const queryFn = useBoundResourceQueryFn();\n  const modelId = useParams().id;\n  const query = {\n    resource: 'indicatorTypes',\n    id: modelId,\n    params: {\n      fields: fieldFilters.concat()\n    }\n  };\n  const indicatorTypeQuery = useQuery({\n    queryKey: [query],\n    queryFn: queryFn\n  });\n  return /*#__PURE__*/React.createElement(FormBase, {\n    onSubmit: useOnSubmitEdit({\n      section,\n      modelId\n    }),\n    section: section,\n    initialValues: indicatorTypeQuery.data,\n    validate: validate,\n    includeAttributes: false\n  }, /*#__PURE__*/React.createElement(DefaultNewFormContents, {\n    section: section\n  }, /*#__PURE__*/React.createElement(IndicatorTypesFormFields, null)));\n};","import i18n from '@dhis2/d2-i18n';\nimport { InputFieldFF } from '@dhis2/ui';\nimport React from 'react';\nimport { useField } from 'react-final-form';\nimport { useSchemaSectionHandleOrThrow } from '../../../lib';\nimport { useValidator } from '../../../lib/models/useFieldValidators';\nexport const FactorField = () => {\n  const fieldName = 'factor';\n  const schemaSection = useSchemaSectionHandleOrThrow();\n  const validate = useValidator({\n    schemaSection,\n    property: 'factor'\n  });\n  const {\n    input,\n    meta\n  } = useField(fieldName, {\n    validate,\n    type: 'number',\n    format: value => value === null || value === void 0 ? void 0 : value.toString()\n  });\n  return /*#__PURE__*/React.createElement(InputFieldFF, {\n    input: input,\n    meta: meta,\n    inputWidth: \"400px\",\n    label: i18n.t('Factor'),\n    required: true\n  });\n};","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CustomAttributesSection, StandardFormField, StandardFormSection, StandardFormSectionTitle, StandardFormSectionDescription, NameField } from '../../../components';\nimport { SECTIONS_MAP, useSchemaSectionHandleOrThrow } from '../../../lib';\nimport { FactorField } from './FactorField';\nexport const IndicatorTypesFormFields = () => {\n  const section = SECTIONS_MAP.indicatorType;\n  const schemaSection = useSchemaSectionHandleOrThrow();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StandardFormSection, null, /*#__PURE__*/React.createElement(StandardFormSectionTitle, null, i18n.t('Basic information')), /*#__PURE__*/React.createElement(StandardFormSectionDescription, null, i18n.t('Set up the basic information for this Indicator Type.')), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(NameField, {\n    schemaSection: schemaSection\n  })), /*#__PURE__*/React.createElement(StandardFormField, null, /*#__PURE__*/React.createElement(FactorField, null))), /*#__PURE__*/React.createElement(CustomAttributesSection, {\n    schemaSection: section\n  }));\n};","import { z } from 'zod';\nimport { getDefaults, createFormValidate, modelFormSchemas } from '../../../lib';\nconst {\n  identifiable\n} = modelFormSchemas;\nexport const IndicatorSchema = identifiable.extend({\n  factor: z.coerce.number({\n    invalid_type_error: 'Please enter a number'\n  }).int()\n});\nexport const initialValues = getDefaults(IndicatorSchema);\nexport const validate = createFormValidate(IndicatorSchema);"],"names":["fieldFilters","Component","section","SECTIONS_MAP","indicatorType","queryFn","useBoundResourceQueryFn","modelId","useParams","id","query","resource","params","fields","concat","indicatorTypeQuery","useQuery","queryKey","React","FormBase","onSubmit","useOnSubmitEdit","initialValues","data","validate","includeAttributes","DefaultNewFormContents","IndicatorTypesFormFields","FactorField","schemaSection","useSchemaSectionHandleOrThrow","useValidator","property","input","meta","useField","type","format","value","toString","InputFieldFF","inputWidth","label","i18n","t","required","StandardFormSection","StandardFormSectionTitle","StandardFormSectionDescription","StandardFormField","NameField","CustomAttributesSection","identifiable","modelFormSchemas","IndicatorSchema","extend","factor","z","coerce","number","invalid_type_error","int","getDefaults","createFormValidate"],"sourceRoot":""}