{"version":3,"file":"static/js/2467.d57f6f1c.chunk.js","mappings":"iKAEIA,E,KCFJ,SAASC,EAAcC,EAASC,EAAKC,GACjC,QAAIF,EAAQG,cAAyC,iCAAzBH,EAAQG,mBAGpCF,EAAMG,MAAMC,QAAQJ,GAAOA,EAAM,CAC7BA,IAGKK,SAASN,EAAQO,QAAQC,kBAG9BN,GACOO,OAAOC,QAAQR,GAAOS,OAAMC,IAAA,IAAEC,EAAGC,GAAEF,EAAA,OAAGZ,EAAQa,KAAOC,CAAC,KAGrE,CDFA,SAASC,EAAiBf,GACtB,OAAOD,EAAcC,EAAS,WAAaD,EAAcC,EAAS,UAAYA,EAAQgB,QAAQlB,CAClG,CEfA,SAASmB,EAAUC,GACf,IAAIC,EAWUC,EAVd,GAOJ,SAAoBF,GAChB,OAAyB,IAAlBA,EAAKG,QAChB,CATQC,CAAWJ,IAASA,EAAKK,YACzB,OAAOL,EAAKK,YACT,GAAmD,QAA9CJ,EAAsBD,EAAKM,qBAAmD,IAAxBL,OAAiC,EAASA,EAAoBI,YAC5H,OAAOL,EAAKM,cAAcD,YAE9B,MAAM,IAAIE,MAAM,gDAKFL,EAL2DF,EAMnD,oBAARE,EAAqB,YAAYA,EAAIM,OAAiB,OAARN,EAAe,OAASO,OAAOP,KAL/F,CCPA,SAASQ,EAAaC,EAAMC,GACxB,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACrB,MAAMC,EAAK,IAAIJ,EACfI,EAAGC,QAAUF,EACbC,EAAGE,QAAUH,EACbC,EAAGG,OAAS,KACRL,EAAIL,OAAOO,EAAGI,QAAQ,EAE1BJ,EAAGK,WAAWV,EAAK,GAE3B,CCVA,SAASW,EAAeC,EAAQC,GAC5B,MAAMC,EAAO,IACND,EACHE,OAAQF,EAAME,OACdC,KAAOC,GAAQH,EAAKG,GACpB,CAACC,OAAOC,UAAW,YACf,IAAI,IAAIC,EAAI,EAAGA,EAAIN,EAAKC,OAAQK,UACtBN,EAAKM,EAEnB,GAQJ,OANAN,EAAKO,YAAcT,EAAOU,SAEKV,EAAOU,UAClC1C,OAAO2C,eAAeT,EAAMF,EAAOU,SAASE,WAEhD5C,OAAO6C,OAAOX,GACPA,CACX,CCjBA,SAASY,EAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,C,6eLXA,SAAU1D,GACNA,EAA4B,OAAI,SAChCA,EAA2B,MAAI,QAC/BA,EAA0B,KAAI,OAC9BA,EAA2B,MAAI,QAC/BA,EAA2B,MAAI,QAC/BA,EAA4B,OAAI,SAChCA,EAA8B,SAAI,WAClCA,EAA2B,MAAI,OAClC,CATD,CASGA,IAAwBA,EAAsB,CAAC,IKKlD,MAAMiE,EACFC,SAAAA,GACI,OAAOC,KAAKC,IAChB,CACAC,WAAAA,CAAYC,GACiB,kBAAdH,KAAKI,MACZD,EAASH,KAAKI,KAEtB,CAC2BC,gBAAAA,GACvB,MAAM,IAAI7C,MAAM,kBACpB,CACAyB,WAAAA,CAAYqB,EAAYvD,GACpBuC,EAAiBU,KAAM,YAAQ,GAC/BV,EAAiBU,KAAM,YAAQ,GAC/BV,EAAiBU,KAAM,OAAQ,MAC/BV,EAAiBU,KAAM,YAAQO,GACL,kBAAfD,GACPN,KAAKQ,KAAO,SACZR,KAAKjD,KAAOW,OAAOX,GACnBiD,KAAKI,KAAOE,IAEZN,KAAKQ,KAAO,OACZR,KAAKjD,KAAOuD,EAAWvD,KACvBiD,KAAKC,KAAOK,EAEpB,EAEJ,MAAMG,UAAiCtE,MACnCuE,GAAAA,GACI,MAAM9B,EAAO,IAAIkB,EAAoBa,UAAAhC,QAAA,OAAA4B,EAAAI,UAAA,GAAAA,UAAAhC,QAAA,OAAA4B,EAAAI,UAAA,IAErC,OADAX,KAAKY,KAAKhC,GACHA,CACX,CACAiC,KAAAA,GACIb,KAAKc,OAAO,EAAGd,KAAKrB,OACxB,CACAoC,MAAAA,CAAOlC,GACHmB,KAAKc,OAAOjC,EAAO,EACvB,EAEJ,SAASmC,EAAejE,EAAMkE,GAC1B,MAAOC,EAAOC,GAAOpE,EAAKqE,MAAM,KAC1BC,GAAWF,GAAe,MAARA,EACxB,OAAQvC,GACGqC,EAAQrC,EAAK7B,QAAUsE,EAAUH,EAAQnE,GAAQsE,EAAUzC,EAAK7B,KAAKuE,WAAW,GAAGJ,MAAYtC,EAAK7B,OAASmE,CAE5H,CAiDA,SAASK,EAAmB/C,GAAoB,IAAZC,EAAKkC,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,GAExC,MAAMa,EAAoC,qBAAxBhD,EAAOiD,aAlD7B,SAAgCjD,GAC5B,OAAO,IAAI,MACPkD,OAAAA,CAAQC,GACJ,IAAIC,EACJ,MAAMC,EAA+E,QAAtED,EAAmB5B,KAAK8B,MAAMC,KAAKf,EAAeW,GAAQ,WAAyC,IAArBC,EAA8BA,EAAmB5B,KAAK8B,MAAMC,KAAKf,EAAeW,GAAQ,IACrL,IAAIK,EAAO,GAIX,OAHU,OAAVH,QAA4B,IAAVA,GAA4BA,EAAM3B,aAAa+B,IAC7DD,EAAOC,CAAC,IAELD,CACX,CACAE,OAAAA,CAAQP,EAAQvB,GACZ,MAAM+B,EAAanC,KAAK8B,MAAMM,UAAUpB,EAAeW,GAAQ,IACzD/C,EAAO,IAAIkB,EAAqBM,EAAMuB,GACxCQ,GAAc,EACdnC,KAAK8B,MAAMhB,OAAOqB,EAAY,EAAGvD,GAEjCoB,KAAK8B,MAAMlB,KAAKhC,EAExB,CACAyD,SAAAA,CAAUV,GACN,GAAIA,EAAQ,CACR,MAAMQ,EAAanC,KAAK8B,MAAMM,UAAUpB,EAAeW,GAAQ,IAC3DQ,GAAc,GACdnC,KAAK8B,MAAMf,OAAOoB,EAE1B,MACInC,KAAK8B,MAAMjB,OAEnB,CACA,SAAIyB,GACA,MAAML,EAAI,GAMV,OALIjC,KAAKvB,MAAME,QACXsD,EAAErB,KAAK,SAEXZ,KAAK8B,MAAMS,SAASvD,GAAIiD,EAAErB,KAAK5B,EAAEjC,QACjCP,OAAO6C,OAAO4C,GACPA,CACX,CAC2BO,YAAAA,GAAgB,CAC3CvD,WAAAA,GACIK,EAAiBU,KAAM,aAAc,QACrCV,EAAiBU,KAAM,gBAAiB,iBACxCV,EAAiBU,KAAM,QAAS,IAAIS,GACpCnB,EAAiBU,KAAM,QAASzB,EAAeC,EAAQ,IAC3D,EAER,CAG4DiE,CAAuBjE,GAAqC,IAAIA,EAAOiD,aAI/H,OAHAjF,OAAOkD,eAAe8B,EAAI,QAAS,CAC/BkB,IAAKA,IAAInE,EAAeC,EAAQC,KAE7B+C,CACX,CACA,SAASmB,EAA4BnE,EAAQI,GACzC,GAAkB,SAAdA,EAAK4B,KACL,OAAO5B,EAAKmB,YAEhB,IAAIK,EAAO,GAIX,OAHAxB,EAAKsB,aAAa0C,IACdxC,EAAOwC,CAAC,IAEL,IAAIpE,EAAOqE,KAAK,CACnBzC,GACD,CACCrD,KAAM6B,EAAK7B,MAEnB,CCjIA,SAASuC,EAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CAIA,SAASuD,EAAoBtE,GAAkB,QAAAuE,EAAApC,UAAAhC,OAAPqE,EAAK,IAAA7G,MAAA4G,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAALD,EAAKC,EAAA,GAAAtC,UAAAsC,GACzC,MAAMC,EAAU1G,OAAO2G,YAAYH,EAAMI,KAAKC,GAAI,CAC7B,kBAANA,EAAiB,aAAeA,EAAEtG,KACzCe,QAAQwF,QAAQD,OAGC,MAAoC,qBAAzB7E,EAAO+E,cAChC,IAAI/E,EAAO+E,cAAcL,GAE7B,IAAI,MACP,SAAIZ,GACA,OAAOnG,MAAMqH,KAAKhH,OAAOiH,KAAKzD,KAAKI,MACvC,CACA,aAAMsD,CAAQ3G,GACV,MAAM0C,QAAcO,KAAKI,KAAKrD,GAC9B,IAAK0C,EACD,MAAM,IAAIjC,MAAM,GAAGT,0DAEvB,OAAO0C,aAAiBjB,EAAOqE,KAAOpD,EAAQ,IAAIjB,EAAOqE,KAAK,CAC1DpD,GACD,CACC1C,QAER,CACAkC,WAAAA,CAAY0E,GACRrE,EAAiBU,KAAM,YAAQ,GAC/BA,KAAKI,KAAOuD,CAChB,GACFT,EACN,CACA,MAAMU,EAAuB9E,OAAO,uBACpC,SAAS+E,EAAoBrF,EAAQsF,GACjC,OAAOtH,OAAOuH,OAAO,IAAI,cAAwBvF,EAAOwF,YACpD,UAAMC,GACF,OAAO9H,MAAMqH,KAAKxD,KAAK8B,MAC3B,CACA,cAAMoC,GACF,IAAIlC,EAAO,GACX,IAAK,MAAMpD,KAAQoB,KAAK8B,MAAM,CAC1B,MAAM/E,EAAO6B,EAAK0D,MAAMjG,SAAS,cAAgB,aAAeuC,EAAK0D,MAAMP,MAAME,GAAIA,EAAEX,WAAW,WAC9FvE,IACAiF,SAAcpD,EAAK8E,QAAQ3G,GAAMoH,MAAMd,GAAI1F,EAAa0F,EAAG7E,EAAOX,cAE1E,CACA,OAAOmE,CACX,CACA,WAAMoC,CAAMhE,GACRJ,KAAK8B,MAAQ1B,CACjB,CACA,eAAMiE,CAAUrC,GACZhC,KAAK8B,MAAQ,CACTgB,EAAoBtE,EAAQwD,GAEpC,CACA/C,WAAAA,GACIqF,SAAM3D,WACNrB,EAAiBU,KAAM,QAAS,GACpC,GACC,CACD,CAAC4D,GAAuBE,GAEhC,CACA,SAASS,EAAgBC,GACrB,SAAwB,OAAdA,QAAoC,IAAdA,OAAuB,EAASA,EAAUZ,GAC9E,CAsDAa,eAAeC,EAA6BC,EAAUC,GAClD,MAAMpG,EAASxB,EAAU2H,GACnBH,EAAYhG,EAAOqG,UAAUL,UAC7B1C,EAAQ,GACd,IAAI,IAAI9C,EAAI,EAAGA,EAAI4F,EAAc9C,MAAMnD,OAAQK,IAAI,CAC/C,MACMpB,EAAO+E,EAA4BnE,EAD1BoG,EAAc9C,MAAM9C,IAEnC8C,EAAMlB,KAAKkC,EAAoBtE,EAAQZ,GAC3C,CAGA,KAFgB4G,SAAmBA,EAAUJ,MAAMtC,GAAOqC,MAAK,KAAI,IACxC,KAAI,KAE3B,MAAM,IAAI3G,MAAM,oCAExB,CACA,MAAMsH,EAAIC,WCzJV,SAASC,EAAkBjJ,GACvB,OAAOA,EAAQkJ,aAAa,qBAAkE,QAA3ClJ,EAAQmJ,aAAa,oBAA2E,IAA3CnJ,EAAQmJ,aAAa,mBACjI,CAGI,SAASC,EAAmBlI,GAC5B,MAAMlB,EAGV,SAAoBkB,GAChB,OAAyB,IAAlBA,EAAKG,SAAiBH,EAAOA,EAAKmI,aAC7C,CALoBC,CAAWpI,GAC3B,OAAOlB,IAAYA,EAAQuJ,QAAQ,yBAA2BvJ,EAAQuJ,QAAQ,4BAClF,CCNA,SAASC,EAAWxJ,GAChB,OAAOyJ,EAA0BzJ,KAAaA,EAAQ0J,UAAYT,EAAkBjJ,EACxF,CACA,IAAI2J,ECJAC,EDmBJ,SAASH,EAA0BzJ,GAC/B,OAAOD,EAAcC,EAAS,aAAeD,EAAcC,EAAS,UAAYA,EAAQgB,QAAQ2I,CACpG,CFoIsD,oBAAhBZ,EAAEc,WACpCd,EAAEc,WAAU,KA1ChB,IAAkCpH,EAC1B+F,GAD0B/F,EA0CWuG,WAAWvG,QAzCzBqG,UAAUL,YACjChG,EAAOqG,UAAUL,UAAUZ,GAAsBiC,oBAwCM,IAEV,oBAAff,EAAEgB,UACpChB,EAAEgB,UAAS,KAxCf,IAAqCtH,EAC7B+F,GAD6B/F,EAwCUuG,WAAWvG,QAvC3BqG,UAAUL,YACjChG,EAAOqG,UAAUL,UAAUZ,GAAsBmC,qBAsCQ,IExJjE,SAAUL,GACNA,EAAyB,KAAI,OAC7BA,EAAyB,KAAI,OAC7BA,EAAmB,kBAAoB,iBACvCA,EAA0B,MAAI,QAC9BA,EAA0B,MAAI,QAC9BA,EAA2B,OAAI,SAC/BA,EAA6B,SAAI,WACjCA,EAA2B,OAAI,SAC/BA,EAAwB,IAAI,MAC5BA,EAAyB,KAAI,OAC7BA,EAAwB,IAAI,MAC5BA,EAAyB,KAAI,MAChC,CAbD,CAaGA,IAAuBA,EAAqB,CAAC,ICjBhD,SAAUC,GACNA,EAA+B,MAAI,QACnCA,EAAkC,SAAI,WACtCA,EAAgC,OAAI,SACpCA,EAAmC,UAAI,YACvCA,EAA8B,KAAI,OAClCA,EAA6B,IAAI,KACpC,CAPD,CAOGA,IAA4BA,EAA0B,CAAC,ICV1D,MAAMK,EAAqB,CACvB,2CACA,yBACA,yBACA,2BACA,uBACA,2BACA,UACA,8BACFC,KAAK,MCPP,SAASC,EAAYnK,GACjB,OAAOA,EAAQoK,QAAQH,EAC3B,CCJA,IAAII,ECAAC,ECAAC,EFeA,SAASC,EAAmBvE,EAAMwE,GAClC,IAAIC,EAAM,EACV,MAAMC,EAAe1E,EAAKyE,KAAQL,EAAcpE,EAAKyE,GAAO,GAC5DA,GAAOC,EAAa/H,OACpB,MACM5B,EADgB,IAAI4J,OAAO,MAAMD,QAAmBE,KAAK5E,GAClC,GAAK0E,EAClC,MAAO,CACH3J,UACY,KAATA,EAAc8J,EAAkB7E,EAAMyE,EAAKD,GAAWM,EAAQ9E,EAAMyE,EAAK1J,EAAMyJ,GAE1F,CACA,SAASK,EAAkB7E,EAAMyE,EAAKD,GAClC,MAAMO,EAAa/E,EAAKyE,GAGxB,OAFAO,EAAiBD,EAAY/E,EAAMyE,EAAKD,GAEjC,CACHS,eAFJR,GAAOM,EAAWpI,OAGdoI,aACAG,iBAAiB,EACjBC,aAAa,EACbC,OAAQ,EAEhB,CACA,SAASN,EAAQ9E,EAAMyE,EAAKC,EAAcF,GACtC,IAAIa,EAAmBC,EACvB,MAAMC,EAAwC,MAAdvF,EAAKyE,GAAe,IAAM,GAC1DA,GAAOc,EAAwB5I,OAC/B,MAAM6I,EAAqC,MAAjBd,GAAsC,OAAd1E,EAAKyE,GACvDA,GAAOgB,OAAOD,GACd,MAAMT,EAAaS,EAAoBxF,EAAKyE,GAAuG,QAA/FY,EAAoBrF,EAAK0F,MAAMjB,GAAK5E,MAAuB,MAAjB6E,EAAuB,eAAiB,eAA2C,IAAtBW,OAA+B,EAASA,EAAkB,GAGrN,IAAIM,EAFJX,EAAiBD,EAAY/E,EAAMyE,EAAKD,GACxCC,GAAOM,EAAWpI,OAElB,MAAMiJ,EAA6K,QAA3JD,EAA+E,QAAzDL,EAAqBtF,EAAK0F,MAAMjB,GAAK5E,MAAM,gBAA6C,IAAvByF,OAAgC,EAASA,EAAmB,UAAuC,IAAvBK,EAAgCA,EAAqB,GAE1OE,EAAoC,MAAd7F,EAD5ByE,GAAOmB,EAAejJ,UAC4BiJ,GAAgC,MAAd5F,EAAKyE,GAAezE,EAAKyE,GAAO,GACpGA,GAAOoB,EAAoBlJ,OAC3B,MAAMmJ,EAAqB1B,EAAYM,GACjCqB,EAAa/F,EAAKyE,KAASqB,EAAqBA,EAAqB,GAC3E,IAAKC,EACD,MAAM,IAAIvK,MAAMwK,EAAgB,EAC3BJ,GAAkB,mBAClBC,GAAuB,mBACxB,IAAIC,MACNG,OAAOC,SAASjC,KAAK,QAASjE,EAAKyE,GAAMzE,EAAMwE,IAGrD,MAAO,CACHS,eAFJR,GAAOsB,EAAWpJ,OAGdoI,aACAG,kBAAmBK,EACnBH,OAAQQ,EAAiBO,KAAKC,IAAIX,OAAOG,EAAeS,OAAO,IAAK,GAAK,EACzElB,YAAamB,EAAeT,EAAqBD,GAEzD,CACA,SAASZ,EAAiBD,EAAY/E,EAAMyE,EAAKD,GAC7C,IAAKO,EACD,MAAM,IAAIvJ,MAAMwK,EAAgB,iBAAkBhG,EAAKyE,GAAMzE,EAAMwE,GAE3E,CACA,SAAS8B,EAAeT,EAAqBD,GACzC,OAAIC,EAC+B,MAAxBA,GAEPD,QAAJ,CAGJ,CACA,SAASI,EAAgBO,EAAUC,EAAOxG,EAAMwE,GAC5C,MAAO,YAAY+B,gBAAiC,OAAVC,QAA4B,IAAVA,EAAmBA,EAAQ,WAAWxG,eAChF,YAAZwE,EAAwB,+FAAiG,yHAEnI,CClFA,SAASiC,EAAYC,EAAUC,GAC3BD,EAASE,UAAUD,GAAS,CAAC,CACjC,CACA,SAASE,EAAYH,EAAUC,GAC3B,OAAOD,EAASE,UAAUD,EAC9B,CEPA,SAASG,EAAW/M,GAChB,IAAI,IAAIgN,EAAKhN,EAASgN,EAAIA,EAAKA,EAAG3D,cAC9B,GAAItJ,EAAciN,EAAI,CAClB,SACA,QACA,SACA,WACA,WACA,YAEA,GAAIA,EAAG9D,aAAa,YAChB,OAAO,OAER,GAAInJ,EAAciN,EAAI,YAAa,CACtC,IAAIC,EACJ,GAAID,EAAG9D,aAAa,eAA+E,QAA7D+D,EAAoBD,EAAGE,cAAc,0BAAsD,IAAtBD,OAA+B,EAASA,EAAkBE,SAASnN,IAC1K,OAAO,CAEf,MAAO,GAAIgN,EAAGzM,QAAQD,SAAS,MACvB0M,EAAG9J,YAAYkK,gBAAkBJ,EAAG9D,aAAa,YACjD,OAAO,EAInB,OAAO,CACX,CC1BA,SAASmE,EAAiBzE,GACtB,MAAM0E,EAAgB1E,EAAS0E,cAC/B,OAAsB,OAAlBA,QAA4C,IAAlBA,OAA2B,EAASA,EAAcC,YACrEF,EAAiBC,EAAcC,YAGlCR,EAAWO,GACJ1E,EAASpH,cAA2CoH,EAASpH,cAAcgM,KAAO5E,EAAS4E,KAE/FF,CAEf,CACA,SAASG,EAAuB7E,GAC5B,IAAI8E,EACJ,OAA4D,QAApDA,EAAoBL,EAAiBzE,UAA6C,IAAtB8E,EAA+BA,EAA+C9E,EAAS4E,IAC/J,CCXI,SAASG,EAAgBzM,GACzB,OAAO0M,EAAU1M,IAASuI,EAA0BvI,EACxD,CAIA,SAAS0M,EAAU1M,GACf,OAAyB,IAAlBA,EAAKG,QAChB,ELbA,SAAUgJ,GACNA,EAAY,KAAO,IACnBA,EAAY,KAAO,GACtB,CAHD,CAGGA,IAAgBA,EAAc,CAAC,ICHlC,SAAUC,GACNA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAe,KAAI,GAAK,MACpC,CAHD,CAGGA,IAAaA,EAAW,CAAC,ICH5B,SAAUC,GAIJA,EAAwBA,EAAqC,YAAI,GAAK,cACRA,EAAwBA,EAAqC,YAAI,GAAK,cAClGA,EAAwBA,EAAoC,WAAI,GAAK,aAC1EA,EAAwBA,EAA+B,MAAI,GAAK,OAClG,CARD,CAQGA,IAA4BA,EAA0B,CAAC,I,eIP1D,SAASsD,EAAUC,EAAIC,GACnB,OAAOC,EAAAA,EAAAA,MAAYC,aAAaH,EACpC,CCWI,SAASI,EAAalO,GACtB,MAAMmO,EChBV,SAAqBnO,EAASoE,GAC1B,IAAI4I,EAAKhN,EACT,EAAG,CACC,GAAIoE,EAAS4I,GACT,OAAOA,EAEXA,EAAKA,EAAG3D,aACZ,OAAQ2D,GAAMA,IAAOhN,EAAQwB,cAAcgM,KAE/C,CDOmBY,CAAYpO,EAASmK,GAC9BmD,EAAgBD,EAAiBrN,EAAQwB,gBAC/B,OAAX2M,QAA8B,IAAXA,EAAoBA,EAASnO,EAAQwB,cAAcgM,QAAUF,IAGjFO,EADOM,EACG,IAAIA,EAAOE,QAEX,IAAsB,OAAlBf,QAA4C,IAAlBA,OAA2B,EAASA,EAAcgB,QEV9F,SAAgCtO,GAChC,MAAMuO,EAAYvO,EAAQwB,cAAcgN,eACf,IAAoB,OAAdD,QAAoC,IAAdA,OAAuB,EAASA,EAAUE,YAU3Fd,EAAgB3N,GAAU,CAC1B,MAAM0O,EAAkBtF,EAAmBmF,EAAUE,WACrD,GAAIC,GACA,IAAKH,EAAUI,YAAa,CACxB,IAAIC,EACJ,MAAMH,EAAgL,KAApG,QAA9DG,EAA8BF,EAAgBG,kBAAwD,IAAhCD,OAAyC,EAASA,EAA4BvN,UAAkBqN,EAAgBG,WAAaH,EACvNH,EAAUO,iBAAiBL,EAAW,EAAGA,EAAW,EACxD,OAEAF,EAAUO,iBAAiB9O,EAAS,EAAGA,EAAS,EAExD,CACJ,CFZI+O,CAAkC,OAAXZ,QAA8B,IAAXA,EAAoBA,EAASnO,EAAQwB,cAAcgM,MACjG,CG1BA,MAAMwB,EAAW,CAAC,ECclBA,EAASC,MAAQ,CAACC,EAAOf,EAAQxB,KAC7B,MAAMlC,EAAU0D,EAAO5E,QAAQ,sCACzBxB,EAAU0C,GAAW1K,EAAc0K,EAAS,UAAYA,EAAQ1C,QACtE,OAAIA,EACO,KACCoC,EAAYpC,IACZmG,EAAanG,GAEjB4E,EAASwC,cAAcpH,ECtBnC,SAAoBmH,GAChB,OAAO,IAAIA,EAAMhM,YAAYgM,EAAMlO,KAAMkO,EAC7C,CDoB4CE,CAAWF,GAAO,EAE/CnP,EAAcoO,EAAQ,QAAS,CACtCnN,KAAM,SAEC,MJAf,SAAqBhB,GACjB,IAAKmK,EAAYnK,GAAU,OACTqN,EAAiBrN,EAAQwB,iBAAmBxB,GAE9D6N,GAAU,IAAI7N,EAAQsO,QAC1B,CIHYe,CAAYlB,GACZA,EAAOgB,cAAc,IAAKlO,EAAUkN,GAAc,OAAC,eAEnDD,EAAaC,EAAO,OARrB,CAUP,EElCJ,MAAMmB,EAAUvM,OAAO,yBACjBwM,EAAcxM,OAAO,6BACrByM,EAAezM,OAAO,oCAiB5B,SAAS0M,GAAWzP,GAChB,YAA4BwE,IAArBxE,EAAQsP,GAAyBtP,EAAQ0D,MAAQ/B,OAAO3B,EAAQsP,GAC3E,CACmE,SAASI,GAAgB1P,GACxFA,EAAQsP,QAAW9K,CACvB,CACA,SAASmL,GAAkB3P,GACvBA,EAAQwP,QAAgBhL,CAC5B,CAOA,SAASoL,GAAe5P,EAAOY,GAA2G,IAAvGiP,YAAaC,EAAkBC,aAAcC,EAAoBF,GAAkBlP,EAAEqP,EAAIrL,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,UAC3H,MAAMsL,EAAcT,GAAWzP,GAAS4C,OAClCuN,EAAkBC,GAAIhE,KAAKC,IAAI,EAAGD,KAAKiE,IAAIH,EAAaE,IACxDL,EAAwB,YAATE,QAA+CzL,IAAzBxE,EAAQuP,GAA6BY,EAAeH,GAAqBhQ,EAAQuP,GAAaQ,aACnIF,EAAcM,EAAeL,GAC7BQ,EAAclE,KAAKiE,IAAIN,EAAcF,GACrCU,EAAYnE,KAAKC,IAAI0D,EAAcF,GAKzC,GAJA7P,EAAQuP,GAAe,CACnBQ,eACAF,eAEA7P,EAAQwQ,iBAAmBF,GAAetQ,EAAQyQ,eAAiBF,EACnE,OAGJ,MAAMG,EAAWjQ,OAAOuH,OAAO,IAAI0D,OAAO4E,GAAc,CACpD,CAACf,IAAc,IAEnB,IACIvP,EAAQ2Q,kBAAkBD,EAAUH,EACxC,CAAE,MAEF,CAEJ,CACA,SAASK,GAAe5Q,GACpB,IAAI6Q,EAAyBC,EAAuBC,EACpD,MAAMC,EAAwD,QAAjDD,EAAuB/Q,EAAQuP,UAAmD,IAAzBwB,EAAkCA,EAAuB,CAC3HhB,aAAqE,QAAtDc,EAA0B7Q,EAAQwQ,sBAAwD,IAA5BK,EAAqCA,EAA0B,EAC5IhB,YAAgE,QAAlDiB,EAAwB9Q,EAAQyQ,oBAAoD,IAA1BK,EAAmCA,EAAwB,GAEvI,MAAO,IACAE,EACHV,YAAalE,KAAKiE,IAAIW,EAAIjB,aAAciB,EAAInB,aAC5CU,UAAWnE,KAAKC,IAAI2E,EAAIjB,aAAciB,EAAInB,aAElD,CAI4E,SAASoB,GAAoBjR,GACrGA,EAAQuP,QAAe/K,CAC3B,CC5EA,MAAM0M,GAAWlI,WAAWkI,SAsB5B,SAASC,GAAMC,EAAiBtO,GAC5B,MAAMuO,EAAQD,EAAgBzF,MAAM,EAAG7I,GACjCwO,EAAalF,KAAKiE,IAAIa,GAASG,EAAO,IAAK,IAC3CE,EAAmBH,EAAgBzF,MAAM7I,GACzC0O,EAAgBN,GAASK,EAAkB,IAC3CE,EAAerF,KAAKiE,IAAImB,EAAe,IAC7C,MAAO,GAAGF,EAAWI,WAAWC,SAAS,EAAG,QAAQF,EAAaC,WAAWC,SAAS,EAAG,MAC5F,CACA,SAASC,GAAuB5R,EAAS0D,GACrC,MAAMmO,EAAQ7R,EAAQ8R,YAEtB,OADAD,EAAMnO,MAAQA,EACPmO,EAAMnO,QAAUA,CAC3B,CC/BA,SAASqO,GAAsB7Q,EAAM8Q,EAAQC,EAAWC,GASpD,GAAIC,GAAWjR,IAAS8Q,EAASC,GAAa,GAAKD,EAASC,GAAa/Q,EAAKkR,UAAUxP,OACpF,MAAO,CACH1B,OACA8Q,OAAQA,EAASC,GAGzB,MAAMI,EAAWC,GAA4BpR,EAAM8Q,EAAQC,GAC3D,GAAII,EAAU,CACV,GAAIF,GAAWE,GACX,MAAO,CACHnR,KAAMmR,EACNL,OAAQC,EAAY,EAAI7F,KAAKiE,IAAI,EAAGgC,EAASD,UAAUxP,QAAUwJ,KAAKC,IAAIgG,EAASD,UAAUxP,OAAS,EAAG,IAE1G,GAAI7C,EAAcsS,EAAU,MAAO,CACtC,MAAME,EAAcD,GAA4BD,OAAU7N,EAAWyN,GACrE,OAAKM,EAYMJ,GAAWI,GACX,CACHrR,KAAMqR,EACNP,OAAQC,EAAY,EAAI,EAAIM,EAAYH,UAAUxP,QAE/CqP,EAAY,GAAKlS,EAAcwS,EAAa,MAC5C,CACHrR,KAAMmR,EAASG,WACfR,OAAQS,GAAUJ,IAGf,CACHnR,KAAMqR,EAAYC,WAClBR,OAAQS,GAAUF,IAAgBN,EAAY,EAAI,EAAI,IApBtDA,EAAY,GAAmB,0BAAdC,EACV,CACHhR,KAAMmR,EAASG,WACfR,OAAQS,GAAUJ,SAG1B,CAiBR,CACI,MAAO,CACHnR,KAAMmR,EAASG,WACfR,OAAQS,GAAUJ,IAAaJ,EAAY,EAAI,EAAI,GAG/D,CACJ,CACA,SAASK,GAA4BpR,EAAM8Q,EAAQC,GAC/C,MAAMS,EAAahH,OAAOsG,IAAWC,EAAY,GAAK,EAAI,GAI1D,YAHezN,IAAXwN,GAAwBpE,GAAU1M,IAASwR,GAAc,GAAKA,EAAaxR,EAAKyR,SAAS/P,SACzF1B,EAAOA,EAAKyR,SAASD,IAkC7B,SAAmBxR,EAAM+Q,EAAW7N,GAChC,OAAO,CACH,IAAIjD,EACJ,MAAMyR,EAAU1R,EAAK,GAAG+Q,YACxB,GAAIW,GAEA,GAAIxO,EADJlD,EAAO2R,GAAcD,EAAuB,SAAdX,EAAuB,QAAU,SAE3D,OAAO/Q,MAER,KAAIA,EAAKsR,YAAgB5E,GAAU1M,EAAKsR,cAAgBvJ,EAAkB/H,EAAKsR,aAAetR,EAAKsR,cAA+D,QAA9CrR,EAAsBD,EAAKM,qBAAmD,IAAxBL,OAAiC,EAASA,EAAoBqM,OAG3O,MAFAtM,EAAOA,EAAKsR,UAGhB,CACJ,CACJ,CA/CWM,CAAU5R,EAAoB,IAAd+Q,EAAkB,OAAS,WAAYc,GAClE,CACA,SAASA,GAA4B7R,GACjC,GAAIiR,GAAWjR,GACX,OAAO,EAEX,GAAI0M,GAAU1M,GAAO,CACjB,GAAInB,EAAcmB,EAAM,CACpB,QACA,aAEA,MAAqB,WAAdA,EAAKF,KACT,GAAIjB,EAAcmB,EAAM,MAC3B,OAAO,CAEf,CACA,OAAO,CACX,CACA,SAASuR,GAAUvR,GACf,IAAI+B,EAAI,EACR,KAAM/B,EAAK8R,iBACP/P,IACA/B,EAAOA,EAAK8R,gBAEhB,OAAO/P,CACX,CACA,SAAS2K,GAAU1M,GACf,OAAyB,IAAlBA,EAAKG,QAChB,CACA,SAAS8Q,GAAWjR,GAChB,OAAyB,IAAlBA,EAAKG,QAChB,CAiBA,SAASwR,GAAc3R,EAAM+Q,GACzB,KAAM/Q,EAAK+R,iBACP/R,EAAOA,EAAK,GAAG+Q,UAEnB,OAAO/Q,CACX,CC/GA,MAAMgS,GAAenQ,OAAO,mDAW5B,SAASoQ,GAAgBnT,IAHzB,SAA0BA,GACtB,OAAOS,OAAO2S,oBAAoBpT,GAASqT,MAAMxS,GAAIA,EAAE0E,WAAW,cAAoD,KAArCtE,EAAUjB,GAASsT,aACxG,EAESC,CAAiBvT,KAGtBA,EAAQkT,IAAgB,CACpBM,cAAe7R,OAAO3B,EAAQ0D,OAC9B+P,QAAS,IAEjB,CAWA,SAASC,GAAsB1T,EAAS2T,GACpC,IAAIC,EACJ,MAAMC,EAAU7T,EAAQkT,IAExB,GADAlT,EAAQkT,SAAgB1O,IACN,OAAZqP,QAAgC,IAAZA,GAAuE,QAAxCD,EAAmBC,EAAQJ,eAA0C,IAArBG,OAA1D,EAAiGA,EAAiBhR,QAC7J,OAEJ,MAAMkR,EAAoD,IAA3BD,EAAQJ,QAAQ7Q,QAAgBiR,EAAQJ,QAAQ,KAAOI,EAAQL,eAAiBK,EAAQJ,QAAQ,KAAOzT,EAAQ0D,MACzIoQ,GACDpE,GAAgB1P,GHsBxB,SAAwBA,GACpB,QAASA,EAAQuP,EACrB,CGtBQwE,CAAe/T,IACf4P,GAAe5P,EAAS,CACpB6P,YAAaiE,EAAyBH,EAAe3T,EAAQ0D,MAAMd,QAG/E,CC3CI,SAASoR,GAA0B9S,GACnC,MAAMlB,EAgBV,SAAoBkB,GAChB,OAAyB,IAAlBA,EAAKG,SAAiBH,EAAOA,EAAKmI,aAC7C,CAlBoBC,CAAWpI,GAC3B,GAAIlB,GAAW2N,EAAgB3N,GAC3B,MAAO,CACHgB,KAAM,QACNuN,UAAWqC,GAAe5Q,IAGlC,MAAMuO,EAAwB,OAAZvO,QAAgC,IAAZA,OAAqB,EAASA,EAAQwB,cAAcgN,eAI1F,MAAO,CACHxN,KAFSoI,EAAmBlI,KAAwB,OAAdqN,QAAoC,IAAdA,OAAuB,EAASA,EAAU0F,aAAe7K,EAAmBmF,EAAU0F,YAErI,kBAAoB,UACjC1F,YAER,CCjBI,SAAS2F,GAAYtT,GAAiF,IAAhF,UAAE6N,EAAS,YAAEoB,EAAW,WAAEoE,EAAaxF,EAAS,aAAEsB,EAAeF,GAAajP,EACpG,IAAIuT,EAAwCC,EAE5C,GAA8B,UADLJ,GAA0BvF,GAC9BzN,KACjB,OAAO4O,GAAenB,EAAW,CAC7BsB,eACAF,gBAGmD,QAA1DuE,EAA4BH,EAAWzS,qBAAyD,IAA9B4S,GAAwI,QAAvFD,EAAyCC,EAA0B5F,sBAAuE,IAA3C2F,GAA6DA,EAAuCrF,iBAAiBmF,EAAYlE,EAActB,EAAWoB,EACjX,CCPA,SAASwE,GAAarU,GAClB,OAAOD,EAAcC,EAAS,UAAY,CACtC,OACA,QACFM,SAASN,EAAQgB,KACvB,CACA,SAASsT,GAAM3H,EAAU3M,EAASqE,GAAgC,IAA1B6N,EAAStN,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,aAChD,MAAM2P,EClBN,SAAuB9F,GACvB,MAAM+F,EAAmBR,GAA0BvF,GACnD,MAA8B,UAA1B+F,EAAiBxT,KACVwT,EAAiBjG,UACS,oBAA1BiG,EAAiBxT,KAG8C,QAA9DyT,EAA8BD,EAAiBjG,iBAAuD,IAAhCkG,OAAyC,EAASA,EAA4BC,WAAW,QAHpK,EACH,IAAID,CAIZ,CDSuBE,CAAc3U,GACR,GAAKuU,EAAL,CAIzB,IAAKF,GAAarU,GAAU,CAKxB,IAJoB2M,EAASiI,gBAAgB5U,EAAS,cAAe,CACjEkS,YACA7N,SAGA,MAER,CACI,mBAAoBkQ,EAM5B,SAA6B5H,EAAU3M,EAASuU,EAAYlQ,EAAM6N,GAC9D,IAAI2C,GAAM,EACV,GAAKN,EAAWO,WAGT,GAAI,CACP,wBACA,wBACFxU,SAAS4R,GAAY,CACnB,MAAM6C,EAAehD,GAAsBwC,EAAWS,eAAgBT,EAAWjE,YAA2B,0BAAd4B,GAAyC,EAAI,EAAGA,GAC9I,GAAI6C,EAAc,CACdF,GAAM,EACN,MAAMI,EAAWV,EAAWW,aACxBD,EAASE,aAAaJ,EAAa7T,KAAM6T,EAAa/C,QAAU,EAChEiD,EAASG,SAASL,EAAa7T,KAAM6T,EAAa/C,QAElDiD,EAASI,OAAON,EAAa7T,KAAM6T,EAAa/C,QAEpDiD,EAASK,gBACb,CACJ,OAjBIT,GAAM,EACNN,EAAWe,iBAiBf,GAAIjR,EACA,GAAyC,IAArCkQ,EAAWgB,aAAalU,SAAgB,CACxC,MAAM2Q,EAASuC,EAAWhE,UAC1BgE,EAAWgB,aAAaC,WAAWxD,EAAQ3N,GAC3CkQ,EAAWa,SAASb,EAAWgB,aAAcvD,EAAS3N,EAAKzB,QAC3D2R,EAAWc,OAAOd,EAAWgB,aAAcvD,EAAS3N,EAAKzB,OAC7D,KAAO,CACH,MAAMqD,EAAOjG,EAAQwB,cAAciU,eAAepR,GAClDkQ,EAAWmB,WAAWzP,GACtBsO,EAAWa,SAASnP,EAAM5B,EAAKzB,QAC/B2R,EAAWc,OAAOpP,EAAM5B,EAAKzB,OACjC,EAEAiS,GAAOxQ,IACPsI,EAASiI,gBAAgB5U,EAAS,QAAS,CACvCkS,aAGZ,CA5CQyD,CAAoBhJ,EAAU3M,EAASuU,EAAYlQ,EAAM6N,GA6CjE,SAA0BvF,EAAU3M,EAASuU,EAAYlQ,EAAM6N,GAC3D,IAAI0D,EAAevR,EACnB,GtBlEJ,SAA2BrE,GACvB,OAAOD,EAAcC,EAAS,aAAeD,EAAcC,EAAS,UAAYA,EAAQgB,QAAQ4I,CACpG,CsBgEQiM,CAAkB7V,GAAU,CAC5B,MAAM8V,EtBxEd,SAAsB9V,GAClB,IAAI+V,EACJ,MAAMC,EAAuE,QAA/DD,EAAwB/V,EAAQmJ,aAAa,oBAAoD,IAA1B4M,EAAmCA,EAAwB,GAChJ,MAAO,QAAQlL,KAAKmL,IAAStK,OAAOsK,IAAS,EAAItK,OAAOsK,QAAQxR,CACpE,CsBoE0ByR,CAAajW,GAC/B,QAAkBwE,IAAdsR,GAA2BzR,EAAKzB,OAAS,EAAG,CAC5C,MAAMsT,EAAsBJ,EAAY9V,EAAQ0D,MAAMd,OACtD,KAAIsT,EAAsB,GAGtB,OAFAN,EAAevR,EAAK8R,UAAU,EAAGD,EAIzC,CACJ,CACA,MAAM,SAAEE,EAAQ,UAAEC,EAAS,SAAEC,GA4BjC,SAA2BC,EAAWrV,EAAIN,EAA8BsR,GAAW,IAAvC,YAAE5B,EAAW,UAAEC,GAAW3P,EAClE,MAAM8C,EAAQ+L,GAAWvO,GACnBsV,EAAYpK,KAAKC,IAAI,EAAGiE,IAAgBC,GAA2B,0BAAd2B,EAAwC5B,EAAc,EAAIA,GAC/GmG,EAAS/S,EAAMyS,UAAU,EAAGK,GAC5BE,EAActK,KAAKiE,IAAI3M,EAAMd,OAAQ0N,IAAgBC,GAA2B,yBAAd2B,EAAuC5B,EAAc,EAAIC,GAC3HoG,EAASjT,EAAMyS,UAAUO,EAAahT,EAAMd,QAClD,IAAIwT,EAAW,GAAGK,IAASF,IAAYI,IACnCN,EAAYG,EAAYD,EAAU3T,OACtC,GAAI7C,EAAcmB,EAAM,QAAS,CAC7BF,KAAM,SACN,CACA,MAAM4V,ELrId,SAAwBlT,GACpB,MAAM0N,EAAkB1N,EAAMmT,QAAQ,MAAO,IAC7C,GAAIzF,EAAgBxO,OAAS,EACzB,OAAOc,EAEX,MAAMoT,EAAa5F,GAASE,EAAgB,GAAI,IAC1C2F,EAAc7F,GAASE,EAAgB,GAAI,IACjD,GAAI0F,GAAc,GAAoB,IAAfA,GAAoBC,GAAe,EAAG,CACzD,IAAIjU,EAMJ,OAJIA,EADAgU,GAAc,EACN,EAEA,EAEL3F,GAAMC,EAAiBtO,EAClC,CACA,OAAqB,IAAjBY,EAAMd,OACCc,EAEJyN,GAAMC,EAAiB,EAClC,CKiH2B4F,CAAeZ,GACf,KAAfQ,GAAqBhF,GAAuB1Q,EAAM0V,KAClDR,EAAWQ,EACXP,EAAYO,EAAWhU,OAE/B,CACA,MAAO,CACH0T,SAAU5S,EACV0S,WACAC,YAER,CAlD8CY,CAAkBrB,EAAc5V,EAASuU,EAAYrC,GAC/F,GAAIkE,IAAaE,GAAYD,IAAc9B,EAAWjE,aAAe+F,IAAc9B,EAAWhE,UAC1F,OAEJ,GAAIxQ,EAAcC,EAAS,QAAS,CAChCgB,KAAM,aAkDd,SAA4B0C,GACxB,IAAIwT,EAAcC,EAIlB,MAAMC,EAAa1T,EAAM2B,MAAM,IAAK,GACpC,QAAS,YAAYwF,KAAKnH,IAAUgI,OAA8C,QAAtCwL,EAAexT,EAAMoC,MAAM,aAAoC,IAAjBoR,OAA0B,EAASA,EAAatU,QAAU,GAAK8I,OAAgD,QAAxCyL,EAAgBzT,EAAMoC,MAAM,cAAsC,IAAlBqR,OAA2B,EAASA,EAAcvU,QAAU,GAAKwU,EAAW,KAAO,UAAUvM,KAAKuM,EAAW,IAClU,CAxDWC,CAAmBjB,GACtB,QN7FR,SAAoBpW,EAAS0D,QACKc,IAA1BxE,EAAQwP,KACRxP,EAAQwP,GAAgBxP,EAAQ0D,OAEpC1D,EAAQsP,GAAW5L,EAEnB1D,EAAQ0D,MAAQjD,OAAOuH,OAAO,IAAIrG,OAAO+B,GAAQ,CAC7C,CAAC4L,IAAU,GAEnB,EMsFIgI,CAAWtX,EAASoW,GACpBlC,GAAa,CACTzF,UAAWzO,EACX+P,aAAcsG,EACdxG,YAAawG,IAEbhC,GAAarU,GACT4R,GAAuB5R,EAASoW,KAChCmB,GAAY5K,EAAU3M,EAASqW,EAAW,CAAC,GAC3C1J,EAASiI,gBAAgB5U,EAAS,UAClC2P,GAAkB3P,IAGtBuX,GAAY5K,EAAU3M,EAASqW,EAAW,CACtChS,OACA6N,aAGZ,CAnFQsF,CAAiB7K,EAAU3M,EAASuU,EAAYlQ,EAAM6N,EAd1D,CAgBJ,CAyGA,SAASqF,GAAY5K,EAAU3M,EAASqW,EAAWoB,GAC/C9K,EAASiI,gBAAgB5U,EAAS,QAASyX,GAC3C/D,GAAsB1T,EAASqW,EACnC,CEnJA,SAASqB,GAAU1X,GACf,MAAMyC,EAASxB,EAAUjB,GACzB,IAAI,IAAIgN,EAAKhN,EAAgB,OAAPgN,QAAsB,IAAPA,OAAgB,EAASA,EAAGxL,cAAewL,EAAKA,EAAG3D,cAAc,CAClG,MAAM,QAAEsO,EAAO,WAAEC,GAAenV,EAAOoV,iBAAiB7K,GACxD,GAAgB,SAAZ2K,EACA,OAAO,EAEX,GAAmB,WAAfC,EACA,OAAO,CAEf,CACA,OAAO,CACX,CCAI,SAASE,GAAc5W,EAAM+Q,GAE7B,GAAItE,EAAgBzM,GAAO,CACvB,MAAMqN,EAAYqC,GAAe1P,GACjCgT,GAAa,CACTzF,UAAWvN,EACX2O,YAAatB,EAAU+B,cAAgB/B,EAAUgC,UAAYhC,EAAUsB,YAAcoC,EAAYA,EAAY,EAAI1D,EAAU+B,YAAc/B,EAAUgC,WAE3J,KAAO,CACH,MAAMhC,EAAYrN,EAAKM,cAAcgN,eACrC,KAAoB,OAAdD,QAAoC,IAAdA,OAAuB,EAASA,EAAUE,WAClE,OAEJ,GAAIF,EAAUI,YAAa,CACvB,MAAMoG,EAAehD,GAAsBxD,EAAUE,UAAWF,EAAUsB,YAAaoC,GACnF8C,GACAb,GAAa,CACTzF,UAAWsG,EAAa7T,KACxB2O,YAAakF,EAAa/C,QAGtC,MACIzD,EAAU0D,EAAY,EAAI,kBAAoB,kBAEtD,CACJ,CCzBI,SAAS8F,GAAU5J,GACnB,GAAIR,EAAgBQ,GAChB,OAAO+F,GAAa,CAChBzF,UAAWN,EACX4B,aAAc,EACdF,YAAaJ,GAAWtB,GAAQvL,SAGxC,IAAIoV,EACJ,MAAMvJ,EAAmE,QAAtDuJ,EAAsB5O,EAAmB+E,UAA6C,IAAxB6J,EAAiCA,EAAsB7J,EAAO3M,cAAcgM,KAC7J0G,GAAa,CACTzF,YACAsB,aAAc,EACdF,YAAapB,EAAUwJ,WAAWrV,QAE1C,CCdI,SAAS+N,GAAkB3Q,EAAS+P,EAAcF,GAClD,IAAIqI,EACJ,GAAIvK,EAAgB3N,GAChB,OAAOkU,GAAa,CAChBzF,UAAWzO,EACX+P,eACAF,gBAGmB,GAAI5G,EAAkBjJ,IAAgJ,KAApF,QAA9CkY,EAAsBlY,EAAQ6O,kBAAgD,IAAxBqJ,OAAiC,EAASA,EAAoB7W,UAC/K,OAAO6S,GAAa,CAChBzF,UAAWzO,EAAQ6O,WACnBkB,eACAF,gBAGmB,MAAM,IAAIpO,MAAM,iEAC/C,CCrBA,SAAS0W,GAAUxL,EAAUK,EAAIiF,GAC7B,MAAMxP,EAASxB,EAAU+L,GACnB7H,EAAQ/E,MAAMqH,KAAKuF,EAAGxL,cAAc4W,iBAAiBpL,EAAGtL,KAAO,6BAA6Be,EAAO4V,IAAIC,OAAOtL,EAAGtL,UAAY,kEACnI,IAAI,IAAIuB,EAAIkC,EAAMkB,WAAWkS,GAAIA,IAAMvL,IAAMiF,GAAYhP,GAAKgP,EAAU,CAIpE,GAHK9M,EAAMlC,KACPA,EAAIgP,EAAY,EAAI,EAAI9M,EAAMvC,OAAS,GAEvCuC,EAAMlC,KAAO+J,EACb,OAEAD,EAAW5H,EAAMlC,MAGrBiL,EAAa/I,EAAMlC,IACnB0J,EAASiI,gBAAgBzP,EAAMlC,GAAI,SACvC,CACJ,CCjBA+L,EAASwJ,IAAM,CAACtJ,EAAOf,EAAQxB,IACpB,KACCnD,EAAW2E,IACXmG,GAAM3H,EAAUwB,EAAQ,GAAI,cAChC,ECORa,EAASyJ,QAAU,CAACvJ,EAAOf,EAAQxB,KAC/B,IAAI+L,EACAC,EACJ,OAA4O,QAApOA,EAA4F,QAA7DD,EAA6BE,GAAgB1J,EAAMzL,YAAiD,IAA/BiV,OAAwC,EAASA,EAA2BG,KAAKD,GAAiB1J,EAAOf,EAAQxB,UAAuD,IAAhCgM,EAAyCA,EAA8BG,GAAoB5J,EAAOf,EAAQxB,EAAS,EAE3W,MAAMiM,GAAkB,CACpBG,UAAWA,CAAC7J,EAAOf,EAAQxB,KACI,GAAI5M,EAAcoO,EAAQ,QAAS,CAC1DnN,KAAM,UAEN,MAAO,IAAImX,GAAUxL,EAAUwB,GAAS,EAC5C,EAEJ6K,UAAWA,CAAC9J,EAAOf,EAAQxB,IACnB5M,EAAcoO,EAAQ,QAAS,CAC/BnN,KAAM,UAEC,IAAImX,GAAUxL,EAAUwB,GAAS,GAErC,IAAI2J,GAAc3J,GAAS,GAEtC8K,WAAYA,CAAC/J,EAAOf,EAAQxB,IACpB5M,EAAcoO,EAAQ,QAAS,CAC/BnN,KAAM,UAEC,IAAImX,GAAUxL,EAAUwB,EAAQ,GAEpC,IAAI2J,GAAc3J,EAAQ,GAErC+K,QAASA,CAAChK,EAAOf,EAAQxB,KACM,GAAI5M,EAAcoO,EAAQ,QAAS,CAC1DnN,KAAM,UAEN,MAAO,IAAImX,GAAUxL,EAAUwB,EAAQ,EAC3C,EAEJgL,UAAWA,CAACjK,EAAOf,EAAQxB,KACvB,GAAInD,EAAW2E,GACX,MAAO,KACHmG,GAAM3H,EAAUwB,EAAQ,GAAI,wBAAwB,CAE5D,EAEJiL,OAAQA,CAAClK,EAAOf,EAAQxB,KACpB,GAAInD,EAAW2E,GACX,MAAO,KACHmG,GAAM3H,EAAUwB,EAAQ,GAAI,uBAAuB,CAE3D,EAEJkL,IAAKA,CAACnK,EAAOf,KACT,GAAIpO,EAAcoO,EAAQ,CACtB,QACA,cACElF,EAAkBkF,GACpB,MAAO,KACH,IAAImL,EACAC,EACJ,MAAMC,EAA+L,QAArLD,EAA6F,QAA5DD,GCrElCtZ,EDqEiFmO,GChExGlF,EAAkBjJ,GACXA,EAAQyZ,YAEZhK,GAAWzP,GALP,YDkEiJ,IAA3BsZ,OAAoC,EAASA,EAAuB1W,cAAsD,IAAlC2W,EAA2CA,EAA2D,ECrEnU,IAA+BvZ,EDsEf2Q,GAAkBxC,EAAQqL,EAAQA,EAAO,CAEjD,EAEJE,KAAMA,CAACxK,EAAOf,KACV,GAAIpO,EAAcoO,EAAQ,CACtB,QACA,cACElF,EAAkBkF,GACpB,MAAO,KACHwC,GAAkBxC,EAAQ,EAAG,EAAE,CAEvC,EAEJwL,SAAUA,CAACzK,EAAOf,KACd,GAAIpO,EAAcoO,EAAQ,CACtB,UAEA,MAAO,KACH,MAAMqL,EAAS/J,GAAWtB,GAAQvL,OAClC+N,GAAkBxC,EAAQqL,EAAQA,EAAO,CAEjD,EAEJI,OAAQA,CAAC1K,EAAOf,KACZ,GAAIpO,EAAcoO,EAAQ,CACtB,UAEA,MAAO,KACHwC,GAAkBxC,EAAQ,EAAG,EAAE,CAEvC,EAEJ0L,IAAKA,CAAC3K,EAAOf,EAAQxB,IACV,KACH,MAAMmN,EE9GlB,SAA2BxM,EAAeyM,GACtC,MAAMnR,EAAW0E,EAAc9L,cACzBwY,EAAoBpR,EAASwP,iBAAiBnO,GAC9CgQ,EAAkB7Z,MAAMqH,KAAKuS,GAAmB9N,QAAQc,GAAKA,IAAOM,KAAmB5B,OAAOsB,EAAG7D,aAAa,aAAe,GAAK4D,EAAWC,MAE/ItB,OAAO4B,EAAcnE,aAAa,cAAgB,GAClD8Q,EAAgBC,MAAK,CAACC,EAAG7S,KACrB,MAAMrE,EAAIyI,OAAOyO,EAAEhR,aAAa,aAC1BiR,EAAI1O,OAAOpE,EAAE6B,aAAa,aAChC,OAAIlG,IAAMmX,EACC,EACM,IAANnX,EACA,EACM,IAANmX,GACC,EAELnX,EAAImX,CAAC,IAGpB,MAAMC,EAAe,CAAC,EACtB,IAAIC,EAAiB,CACjB1R,EAAS4E,MAEb,MAAM+M,EAAmBxa,EAAcuN,EAAe,QAAS,CAC3DtM,KAAM,UACLsM,EAAc5L,UAAO8C,EAC1ByV,EAAgBzT,SAASgU,IACrB,MAAMxN,EAAKwN,EAIX,GAAIza,EAAciN,EAAI,QAAS,CAC3BhM,KAAM,WACJgM,EAAGtL,KAAM,CAEX,GAAIsL,IAAOM,EAEP,YADAgN,EAAezV,KAAKmI,GAEjB,GAAIA,EAAGtL,OAAS6Y,EACnB,OAGJ,GAAIvN,EAAGyN,QAOH,OANAH,EAAiBA,EAAepO,QAAQqM,IAAKxY,EAAcwY,EAAG,QAAS,CAC/DvX,KAAM,QACNU,KAAMsL,EAAGtL,SAEjB4Y,EAAezV,KAAKmI,QACpBqN,EAAarN,EAAGtL,MAAQsL,GAI5B,GAAqC,qBAA1BqN,EAAarN,EAAGtL,MACvB,MAER,CACA4Y,EAAezV,KAAKmI,EAAG,IAE3B,IAAI,IAAIlK,EAAQwX,EAAejU,WAAW2G,GAAKA,IAAOM,MAQlD,GAPAxK,GAASiX,GAAS,EAAI,EAElBjX,IAAUwX,EAAe1X,OACzBE,EAAQ,GACU,IAAXA,IACPA,EAAQwX,EAAe1X,OAAS,GAEhC0X,EAAexX,KAAWwK,GAAiBgN,EAAexX,KAAW8F,EAAS4E,MAAQkK,GAAU4C,EAAexX,IAC/G,OAAOwX,EAAexX,EAGlC,CFwCyB4X,CAAkBvM,EAAQxB,EAASgO,OAAOC,SAASC,UAAUC,OAC1E5M,EAAa4L,GACTnM,EAAgBmM,IAChBlK,GAAekK,EAAM,CACjB/J,aAAc,EACdF,YAAaiK,EAAKpW,MAAMd,QAEhC,GAINkW,GAAsBA,CAAC5J,EAAOf,EAAQxB,KACxC,GAAmB,SAAfuC,EAAM6L,MAAmBpO,EAASgO,OAAOC,SAASC,UAAUG,QAC5D,MAAO,IAAIjD,GAAU5J,EACzB,EGrHJa,EAASiM,SAAW,CAAC/L,EAAOf,EAAQxB,KAChC,GAAkB,UAAduC,EAAMzL,IAAiB,CACvB,GAAI1D,EAAcoO,EAAQ,WAAapO,EAAcoO,EAAQ,UAAY+M,GAAkB5a,SAAS6N,EAAOnN,OAASjB,EAAcoO,EAAQ,MAAQhC,QAAQgC,EAAOgN,MAC7J,MAAO,KACHxO,EAASiI,gBAAgBzG,EAAQ,QAAQ,EAE1C,GAAIpO,EAAcoO,EAAQ,SAAU,CACvC,MAAMiN,EAAOjN,EAAOiN,KACdC,EAAkB,OAATD,QAA0B,IAATA,OAAkB,EAASA,EAAKlO,cAAc,mEAC9E,OAAImO,EACO,IAAI1O,EAASiI,gBAAgByG,EAAQ,SACrCD,GAAQE,GAAyBhb,SAAS6N,EAAOnN,OAAmD,IAA1Coa,EAAKhD,iBAAiB,SAASxV,OACzF,IAAI+J,EAASiI,gBAAgBwG,EAAM,eAE1C,CAER,CACJ,CACA,GAAI5R,EAAW2E,GAAS,CACpB,MAAM+D,EAA0B,UAAdhD,EAAMzL,IAAkBwF,EAAkBkF,KAAYxB,EAASgO,OAAOC,SAASC,UAAUC,MAAQ,kBAAoB,kBAAoB,aACrJvE,EAA0B,UAAdrH,EAAMzL,IAAkB,KAAOyL,EAAMzL,IACvD,MAAO,IAAI6Q,GAAM3H,EAAUwB,EAAQoI,EAAWrE,EAClD,GAEJ,MAAMgJ,GAAoB,CACtB,SACA,QACA,OACA,QACA,QACA,UAEEI,GAA2B,CAC7B,QACA,QACA,WACA,SACA,MACA,OACA,MACA,QC3CJtM,EAASuM,MAAQ,CAACrM,EAAOf,EAAQxB,KAC7B,IAAI6O,EACJ,OAAiE,QAAzDA,EAA2BC,GAAcvM,EAAMzL,YAA+C,IAA7B+X,OAAsC,EAASA,EAAyB3C,KAAK4C,GAAevM,EAAOf,EAAQxB,EAAS,EAEjM,MAAM8O,GAAgB,CAClB,IAAKC,CAACxM,EAAOf,EAAQxB,KACjB,GAAI5L,EAAiBoN,GACjB,MAAO,IAAIxB,EAASiI,gBAAgBzG,EAAQ,QAChD,GCPRa,EAAS2M,MAAQ,CAACzM,EAAOf,EAAQxB,KAC7B,GAAInD,EAAW2E,GACX,MAAO,KACH,IAAIyN,EACJ,MAAMpG,EAA8D,QAAhDoG,EAAuB1M,EAAMrG,qBAAoD,IAAzB+S,OAAkC,EAASA,EAAqBjW,QAAQ,QAChJ6P,GACAlB,GAAM3H,EAAUwB,EAAQqH,EAAY,kBACxC,CAER,ECnBJ,MAAMqG,GAAW,CACbC,SAAU,CACNC,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBC,YAAa,CACTL,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBlN,MAAO,CACH8M,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBE,YAAa,CACTN,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBG,KAAM,CACFP,UAAW,iBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBI,OAAQ,CACJR,UAAW,QACXC,YAAa,CACTC,SAAS,EACTC,YAAY,IAGpB1D,IAAK,CACDuD,UAAW,iBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBK,SAAU,CACNT,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlB1D,QAAS,CACLsD,UAAW,gBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBlB,SAAU,CACNc,UAAW,gBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBZ,MAAO,CACHQ,UAAW,gBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBR,MAAO,CACHI,UAAW,iBACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlB7H,MAAO,CACHyH,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBM,UAAW,CACPV,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBO,WAAY,CACRX,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBQ,WAAY,CACRZ,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBS,UAAW,CACPb,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBU,SAAU,CACNd,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBW,UAAW,CACPf,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBY,QAAS,CACLhB,UAAW,aACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBa,YAAa,CACTjB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBc,aAAc,CACVlB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,IAGpBgB,YAAa,CACTnB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBgB,YAAa,CACTpB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBiB,UAAW,CACPrB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBkB,cAAe,CACXtB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBmB,WAAY,CACRvB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,EACZC,UAAU,IAGlBoB,aAAc,CACVxB,UAAW,eACXC,YAAa,CACTC,SAAS,EACTC,YAAY,IAGpBb,OAAQ,CACJU,UAAW,QACXC,YAAa,CACTC,SAAS,EACTC,YAAY,KAIxB,SAASsB,GAAcxc,GACnB,OAAO6a,GAAS7a,GAAM+a,SAC1B,CACA,MAAM0B,GAAc,CAChB,aACA,gBCjOJ,MAAMC,GAAmB,CACrBC,eAAgB,CA0GpB,SAA4BzO,EAAKtO,GAAqB,IAAnB,cAAEiI,GAAejI,EAChDgd,GAAY1O,EAAO,CACfrG,iBAER,GA3GIgV,MAAO,GACPC,WAAY,CACRC,GA0GR,SAAwB7O,EAAK8O,GAAoC,IAAlC,KAAE3Z,EAAI,UAAE6N,EAAS,YAAE+L,GAAaD,EAC3DJ,GAAY1O,EAAO,CACf7K,OACA4Z,YAAa9R,QAAQ8R,GACrB/L,UAAWvQ,OAAOuQ,IAE1B,GA7GIgM,WAAY,CACRH,GACAI,GACAC,IAEJC,aAAc,CACVN,GACAI,GACAC,GA2JR,SAA0BlP,EAAKoP,GAA2G,IAAzG,UAAEC,EAAS,MAAEC,EAAK,OAAEC,EAAM,SAAEC,EAAQ,mBAAEC,EAAkB,MAAEC,EAAK,MAAEC,EAAK,MAAEC,EAAK,YAAEC,EAAW,UAAEC,GAAWV,EACpIV,GAAY1O,EAAO,CACfqP,UAAWU,GAAeV,GAC1BC,MAAOS,GAAeT,GACtBC,OAAQQ,GAAeR,GACvBC,SAAUO,GAAeP,GACzBC,mBAAoBM,GAAeN,GACnCC,MAAOK,GAAeL,GACtBC,MAAOI,GAAeJ,GACtBC,MAAOG,GAAeH,GACtBC,YAAapd,OAAOod,GACpBC,UAAW7S,QAAQ6S,IAE3B,GArKIE,cAAe,CACXnB,GACAI,GA+HR,SAA2BjP,EAAKiQ,GAA0D,IAAxD,IAAE1b,EAAG,KAAEsX,EAAI,SAAEqE,EAAQ,OAAE/T,EAAM,YAAE4S,EAAW,SAAEoB,GAAUF,EACpFvB,GAAY1O,EAAO,CACfzL,IAAK9B,OAAO8B,GACZsX,KAAMpZ,OAAOoZ,GACbqE,SAAUH,GAAeG,GACzB/T,OAAQc,QAAQd,GAChB4S,YAAa9R,QAAQ8R,GACrBoB,YAER,IApIA,SAASC,GAAYte,EAAMmN,EAAQoR,GAC/B,MAAM9c,EAASxB,EAAUkN,IACnB,UAAE4N,EAAS,YAAEC,GAAgBH,GAAS7a,GACtCkO,EAAQ,IAIS,SAA8BzM,GACrD,IAAI+c,EACqG,MAAM3B,EAA2C,QAAlC2B,EAAgB/c,EAAOob,aAAqC,IAAlB2B,EAA2BA,EAAgB,QAE7M,IAAIC,EACJ,MAAMC,EAAsE,QAApDD,EAAyBhd,EAAOid,sBAAuD,IAA3BD,EAAoCA,EAAyB,cAA6B5B,IAE9K,IAAI8B,EACJ,MAAMhC,EAAsE,QAApDgC,EAAyBld,EAAOkb,sBAAuD,IAA3BgC,EAAoCA,EAAyB,cAA6B9B,IAE9K,IAAI+B,EACJ,MAAMC,EAAmE,QAAlDD,EAAwBnd,EAAOod,qBAAqD,IAA1BD,EAAmCA,EAAwB,cAA4B/B,IAExK,IAAIiC,EACJ,MAAMC,EAAmE,QAAlDD,EAAwBrd,EAAOsd,qBAAqD,IAA1BD,EAAmCA,EAAwB,cAA4BjC,IAExK,IAAImC,EACJ,MAAMC,EAAyE,QAAtDD,EAA0Bvd,EAAOwd,uBAAyD,IAA5BD,EAAqCA,EAA0B,cAA8BnC,IAEpL,IAAIqC,EACJ,MAAMC,EAAiD,QAAtCD,EAAkBzd,EAAO0d,eAAyC,IAApBD,EAA6BA,EAAkB,cAAsBrC,IAEpI,IAAIuC,EACJ,MAAMC,EAA4E,QAAxDD,EAA2B3d,EAAO4d,wBAA2D,IAA7BD,EAAsCA,EAA2B,cAA+BD,IAE1L,IAAIG,EACJ,MAAMC,EAA0D,QAA5CD,EAAqB7d,EAAO8d,kBAA+C,IAAvBD,EAAgCA,EAAqB,cAAyBH,IAEtJ,IAAIK,EACJ,MAAM1C,EAA0D,QAA5C0C,EAAqB/d,EAAOqb,kBAA+C,IAAvB0C,EAAgCA,EAAqB,cAAyBL,IAEtJ,IAAIM,EACJ,MAAMvB,EAAmE,QAAlDuB,EAAwBhe,EAAOyc,qBAAqD,IAA1BuB,EAAmCA,EAAwB,cAA4BN,IAExK,IAAIO,EACJ,MAAMxC,EAA0D,QAA5CwC,EAAqBje,EAAOyb,kBAA+C,IAAvBwC,EAAgCA,EAAqB,cAAyBP,IAEtJ,IAAIQ,EACJ,MAAMC,EAAuD,QAA1CD,EAAoBle,EAAOme,iBAA6C,IAAtBD,EAA+BA,EAAoB,cAAwBzC,IAEhJ,IAAI2C,EACJ,MAAMxC,EAAgE,QAAhDwC,EAAuBpe,EAAO4b,oBAAmD,IAAzBwC,EAAkCA,EAAuB,cAA2B3C,IAElK,IAAI4C,EACJ,MAAMC,EAA0D,QAA5CD,EAAqBre,EAAOse,kBAA+C,IAAvBD,EAAgCA,EAAqB,cAAyBX,IAE9C,MAAO,CAC3GtC,QACA6B,iBACA/B,iBACAkC,gBACAE,gBACAE,kBACAE,UACAE,mBACAE,aACAzC,aACAoB,gBACAhB,aACA0C,YACAvC,eACA0C,aAER,CAnEuBC,CAAqBve,GAASsZ,IAAW/a,EAAMgb,GAElE,OADA0B,GAAiB3B,GAAWvV,SAASya,GAAIA,EAAE/R,EAAgB,OAATqQ,QAA0B,IAATA,EAAkBA,EAAO,CAAC,KACtFrQ,CACX,CAiEA,SAAS0O,GAAYpa,EAAKtD,GACtB,IAAK,MAAOuD,EAAKC,KAAUjD,OAAOC,QAAQR,GACtCO,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BkD,IAAKA,IAAc,OAAVjD,QAA4B,IAAVA,EAAmBA,EAAQ,MAGlE,CACA,SAASub,GAAeiC,GACpB,OAAOxV,OAAa,OAANwV,QAAoB,IAANA,EAAeA,EAAI,EACnD,CAaA,SAASnD,GAAY7O,EAAKiS,GAAoB,IAAlB,KAAEC,EAAI,OAAEC,GAAQF,EACxCvD,GAAY1O,EAAO,CACfkS,OACAC,OAAQpC,GAA0B,OAAXoC,QAA8B,IAAXA,EAAoBA,EAAS,IAE/E,CACA,SAASlD,GAAuBjP,EAAKoS,GAAmL,IAAjL,OAAEC,EAAM,QAAEC,EAAO,QAAEC,EAAO,SAAEC,EAAQ,iBAAEC,EAAgB,iBAAEC,EAAgB,WAAEC,EAAU,eAAEC,EAAc,gBAAEC,EAAe,mBAAEC,EAAkB,eAAEC,EAAc,mBAAEC,GAAoBZ,EAClN1D,GAAY1O,EAAO,CACfqS,OAAQpV,QAAQoV,GAChBC,QAASrV,QAAQqV,GACjBC,QAAStV,QAAQsV,GACjBC,SAAUvV,QAAQuV,GAClBS,gBAAAA,CAAkBthB,GACd,OAAOsL,QAAQ,CACXiW,IAAKb,EACLc,SAAUV,EACVW,SAAUV,EACV5G,QAASwG,EACTe,GAAIV,EACJW,OAAQV,EACRW,KAAMhB,EACNiB,QAASX,EACTY,WAAYX,EACZlH,MAAO4G,EACP3e,OAAQkf,EACRW,WAAYV,GACdrhB,GACN,GAER,CAWA,SAASud,GAAelP,EAAK2T,GAAwF,IAAtF,EAAEC,EAAC,EAAEC,EAAC,QAAEC,EAAO,QAAEC,EAAO,QAAEC,EAAUJ,EAAC,QAAEK,EAAUJ,EAAC,OAAEK,EAAM,QAAEC,EAAO,cAAEC,GAAeT,EAC/GjF,GAAY1O,EAAO,CACf8T,QAAS/D,GAAe+D,GACxBC,QAAShE,GAAegE,GACxBC,QAASjE,GAAeiE,GACxBJ,EAAG7D,GAAeiE,GAClBC,QAASlE,GAAekE,GACxBJ,EAAG9D,GAAekE,GAClBC,OAAQnE,GAAemE,GACvBC,QAASpE,GAAeoE,GACxBC,iBAER,CC1KA,SAAS1O,GAAgBzG,EAAQnN,EAAMue,GAA8B,IAAxBgE,EAAc3e,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,IAAAA,UAAA,IFkO3D,SAAsB5D,GAClB,OAAOyc,GAAYnd,SAASkd,GAAcxc,GAC9C,CEnOQwiB,CAAaxiB,IFoOrB,SAAyBA,GACrB,MAA+B,kBAAxBwc,GAAcxc,EACzB,CEtO8ByiB,CAAgBziB,MACtCue,EAAO,IACAA,KACAtb,KAAK0W,OAAO+I,wBAGvB,MAAMxU,EAAQoQ,GAAYte,EAAMmN,EAAQoR,GACxC,OAAOpQ,GAAc0J,KAAK5U,KAAMkK,EAAQe,EAAOqU,EACnD,CACA,SAASpU,GAAchB,EAAQe,GAA+B,IAAxBqU,EAAc3e,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,IAAAA,UAAA,GAChD,IAAI+e,EACJ,MAAM3iB,EAAOkO,EAAMlO,KACb4iB,EAAyBL,EAAiB,OAA+C,QAArCI,EAAiB3U,EAAShO,UAAsC,IAAnB2iB,OAA4B,EAASA,EAAe9K,KAAK7J,EAAUE,EAAOf,EAAQlK,MACzL,GAAI2f,EAAwB,CACxB1U,EAAMqU,iBACN,IAAIM,GAAmB,EAavB,OAZApjB,OAAOkD,eAAeuL,EAAO,mBAAoB,CAC7CvI,IAAKA,IAAIkd,IAEbpjB,OAAOkD,eAAeuL,EAAO,iBAAkB,CAC3CxL,MAAOA,KACHmgB,EAAmB3U,EAAMgN,UAAU,IAG3CrO,GAAU,IAAIM,EAAOgB,cAAcD,KAC9B2U,GACDD,KAEIC,CACZ,CACA,OAAOhW,GAAU,IAAIM,EAAOgB,cAAcD,IAC9C,CChCA,MAAM4U,GAAc/gB,OAAO,wCAC3B,SAASghB,GAAmB/jB,EAASgkB,EAAUC,GAC3C,MAAMC,EAAsBzjB,OAAO0jB,yBAAyBnkB,EAAQkD,YAAYG,UAAW2gB,GACrFI,EAAmB3jB,OAAO0jB,yBAAyBnkB,EAASgkB,GAC5D7V,GAAkC,OAAxB+V,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBG,KAAO,MAAQ,QACpG,GAAuH,oBAAnF,OAAxBH,QAAwD,IAAxBA,OAAiC,EAASA,EAAoB/V,KAA2B+V,EAAoB/V,GAAQ2V,IACtL,MAAM,IAAIriB,MAAM,WAAWzB,EAAQO,+BAA+BoB,OAAOqiB,QAE7E,SAASM,IAAmB,QAAAtd,EAAApC,UAAAhC,OAAN2hB,EAAI,IAAAnkB,MAAA4G,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJqd,EAAIrd,GAAAtC,UAAAsC,GACtB,MAAM,YAAEsd,GAAc,EAAK,SAAEC,EAAQ,KAAErc,GAAS6b,EAAgBpL,KAAK5U,QAASsgB,GACxEG,IAAaF,GAAeJ,GAAoBF,GAAqB/V,GAC5D,QAAXA,EACAuW,EAAS7L,KAAK5U,KAAMwgB,GAEpBC,EAAS7L,KAAK5U,QAASwgB,GAElB,OAATrc,QAA0B,IAATA,GAA2BA,GAChD,CACAkc,EAAUR,IAAeA,GACzBrjB,OAAOkD,eAAe3D,EAASgkB,EAAU,IACb,OAArBI,QAAkD,IAArBA,EAA8BA,EAAmBF,EACjF,CAAC/V,GAASmW,GAElB,CACA,SAASK,GAAwB3kB,GAC7B+jB,GAAmB/jB,EAAS,SAAS,SAAyBc,GAC1D,MAAM8jB,EvBjCc,kBADTlhB,EuBkCY5C,IvBjCSwO,KAAW5L,EADnD,IAAmBA,EuBsCX,OAHIkhB,GACAzR,GAAgBlP,MAEb,CACHugB,cAAeI,EACfH,SAAUI,GAAc5gB,KAAMnD,GAC9BsH,KAAMwc,OAAOpgB,EAAY,IpBdrC,SAAyBxE,EAASc,GAC9B,IAAIgkB,EAA+BC,EACiB,QAAnDA,EAAwB/kB,EAAQkT,WAAqD,IAA1B6R,GAAgH,QAAnED,EAAgCC,EAAsBtR,eAAuD,IAAlCqR,GAAoDA,EAA8BjgB,KAAK/D,GACtQd,EAAQkT,MACTxD,GAAgB1P,GAChB4P,GAAe5P,EAAS,CACpB6P,YAAa/O,EAAE8B,SAG3B,CoBKyCoiB,CAAgB/gB,KAAMtC,OAAOb,IAElE,GACJ,CACA,SAAS+jB,GAAc7kB,EAASc,GAE5B,OAAIf,EAAcC,EAAS,QAAS,CAChCgB,KAAM,YACU,KAAdW,OAAOb,KAAc4K,OAAOuZ,MAAMvZ,OAAO5K,IAEpCa,OAAO+J,OAAO5K,IAElBa,OAAOb,EAClB,CACA,SAASokB,GAA4BllB,GACjC+jB,GAAmB/jB,EAAS,qBAAqB,SAAyBmlB,GACtE,MAAMP,EvBtDd,SAA4BO,GACxB,QAASA,GAA0B,kBAAVA,GAAsB5V,KAAe4V,CAClE,CuBoDqBC,CAAmBD,GAAO,QAAAE,EAAAzgB,UAAAhC,OADyC0iB,EAAM,IAAAllB,MAAAilB,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAND,EAAMC,EAAA,GAAA3gB,UAAA2gB,GAEtF,MAAO,CACHf,cAAeI,EACfH,SAAU,CACN/Y,OAAOyZ,MACJG,GAEPld,KAAMA,IAAIwc,OAAOpgB,EAAYyM,GAAoBjR,GAEzD,IACA+jB,GAAmB/jB,EAAS,kBAAkB,SAAyBc,GACnE,MAAO,CACH2jB,SAAU3jB,EACVsH,KAAMA,IAAI6I,GAAoBjR,GAEtC,IACA+jB,GAAmB/jB,EAAS,gBAAgB,SAAyBc,GACjE,MAAO,CACH2jB,SAAU3jB,EACVsH,KAAMA,IAAI6I,GAAoBjR,GAEtC,IACA+jB,GAAmB/jB,EAAS,UAAU,WAClC,MAAO,CACHykB,SAAU,GACVrc,KAAMA,IvBtDlB,SAA2BpI,EAASuO,GAChCvO,EAAQuP,GAAehB,CAC3B,CuBoDsBiX,CAAkBxlB,EAAS,CAC7B+P,aAAc,EACdF,YAAaJ,GAAWzP,GAAS4C,SAGjD,GACJ,CC9EA,MAAM6iB,GAAa1iB,OAAO,iDAC1B,SAAS2iB,GAAgB9c,GACjBA,EAAS6c,MAGb7c,EAAS+c,iBAAiB,SAAUpN,IAEhCqN,GADWrN,EAAEpK,OACK,GACnB,CACC0X,SAAS,EACTC,SAAS,IAKTld,EAAS0E,eACTsY,GAAehd,EAAS0E,eAE5B1E,EAAS+c,iBAAiB,QAASpN,IAC/B,MAAMvL,EAAKuL,EAAEpK,OACP4X,EAA+B/Y,ExBJ1BwC,QwBKUhL,IAAjBuhB,IACI/Y,EAAGtJ,QAAUqiB,GFS7B,SAA0B5X,EAAQnN,EAAMue,GACpC,MAAMrQ,EAAQoQ,GAAYte,EAAMmN,EAAQoR,GACxC1R,GAAU,IAAIM,EAAOgB,cAAcD,IACvC,CEXgB8W,CAAiBhZ,EAAI,UAEzB2C,GAAkB3C,GACtB,GACD,CACC6Y,SAAS,EACTC,SAAS,IAEbld,EAAS6c,IAAcA,GAC3B,CACA,SAASG,GAAe5Y,GD8CxB,IAAqChN,EC7C7BgN,EAAGyY,MAGH1lB,EAAciN,EAAI,CAClB,QACA,eAEA2X,GAAwB3X,GACxBkY,GAA4BlY,GDsChC+W,GADiC/jB,ECpCDgN,EDqCJ,gBAAgB,WAAsC,QAAAiZ,EAAArhB,UAAAhC,OAAV6hB,EAAQ,IAAArkB,MAAA6lB,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAARzB,EAAQyB,GAAAthB,UAAAshB,GAC5E,MAAO,CACHzB,WACArc,KAAMA,KACFsH,GAAgB1P,GAChBiR,GAAoBjR,EAAQ,EAGxC,KC3CAgN,EAAGyY,IAAcA,GACrB,CC3DA,SAASU,GAAKC,GACV,MAAMC,EAAQD,EAAOC,MACrB,GAAqB,kBAAVA,EAGX,OAAOtkB,QAAQukB,IAAI,CACf,IAAIvkB,SAASwF,GAAUyB,WAAWud,YAAW,IAAIhf,KAAW8e,KAC5DD,EAAOI,cAAcH,IAE7B,CCAA,SAAS9iB,GAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CACA,IAAIijB,IACJ,SAAUA,GACNA,EAAiBA,EAA2B,SAAI,GAAK,WACrDA,EAAiBA,EAAuB,KAAI,GAAK,OACjDA,EAAiBA,EAAwB,MAAI,GAAK,QAClDA,EAAiBA,EAAyB,OAAI,GAAK,QACtD,CALD,CAKGA,KAAqBA,GAAmB,CAAC,IAC5C,MAAMC,GAAe,CACjB,MACA,WACA,UACA,KACA,OACA,QACA,UAEJ,SAASC,GAAcljB,GACnB,OAAOijB,GAAapmB,SAASmD,EACjC,CACA,MAAMmjB,GAAgB,CAClB,WACA,SACA,UACA,aACA,cAEJ,SAASC,GAAepjB,GACpB,OAAOmjB,GAActmB,SAASmD,EAClC,CACA,MAAMqjB,GACFC,YAAAA,CAAaC,GACT,QAAS/iB,KAAKgjB,QAAQtlB,OAAOqlB,EAAOjM,MACxC,CACAmM,cAAAA,GACI,OAAOzmB,OAAO0mB,OAAOljB,KAAKgjB,SAAS5f,KAAK+f,GAAIA,EAAEJ,QAClD,CACmB,aAAMvO,CAAQ9L,EAAUqa,GACvC,IACAK,EAAeC,EAAOC,EACtB,MAAM9jB,EAAM9B,OAAOqlB,EAAOvjB,KACpBsX,EAAOpZ,OAAOqlB,EAAOjM,MACrB5M,EAASV,EAAuBd,EAASyZ,OAAOxd,UAEtD,IAAI4e,EADJvjB,KAAKwjB,iBAAiBtZ,GAEiC,QAAtDqZ,GAAKH,EAAgBpjB,KAAKgjB,SAASK,EAAQvM,UAAyB,IAANyM,IAAmBH,EAAcC,GAAS,CACrGN,SACAU,oBAAoB,IAEpBf,GAAcljB,KACdQ,KAAK4W,UAAUpX,IAAO,GAE1B,MAAMkkB,EAAchb,EAASiI,gBAAgBzG,EAAQ,UAAW,CAC5D1K,MACAsX,SAEA8L,GAAepjB,KAASQ,KAAK4W,UAAUpX,KACvCQ,KAAK4W,UAAUpX,IAAO,EACtBQ,KAAK2jB,kBAAkBnkB,IAAO,IAEjC8jB,EAAqBtjB,KAAKgjB,QAAQlM,IAAO2M,qBAAuBH,EAAmBG,mBAAqBC,GACrGA,GAAe1jB,KAAK4jB,YAAYpkB,IAChCkJ,EAASiI,gBAAgBnH,EAAuBd,EAASyZ,OAAOxd,UAAW,WAAY,CACnFnF,MACAsX,OACAsE,SAAyB,UAAf2H,EAAOvjB,IAAkB,GAAK9B,OAAOqlB,EAAOvjB,KAAKqkB,WAAW,IAGlF,CACqB,WAAMvM,CAAM5O,EAAUqa,GACvC,MAAMvjB,EAAM9B,OAAOqlB,EAAOvjB,KACpBsX,EAAOpZ,OAAOqlB,EAAOjM,MACrB4M,EAAc1jB,KAAKgjB,QAAQlM,GAAM2M,0BAEhCzjB,KAAKgjB,QAAQlM,GAChB4L,GAAcljB,KAAShD,OAAO0mB,OAAOljB,KAAKgjB,SAASjhB,MAAMohB,GAAIA,EAAEJ,OAAOvjB,MAAQA,MAC9EQ,KAAK4W,UAAUpX,IAAO,GAE1BkJ,EAASiI,gBAAgBnH,EAAuBd,EAASyZ,OAAOxd,UAAW,QAAS,CAChFnF,MACAsX,SACA4M,GACAd,GAAepjB,IAAQQ,KAAK4W,UAAUpX,KAClCQ,KAAK2jB,kBAAkBnkB,GACvBQ,KAAK2jB,kBAAkBnkB,IAAO,EAE9BQ,KAAK4W,UAAUpX,IAAO,EAGlC,CACAgkB,gBAAAA,CAAiBtZ,GACTA,IAAWlK,KAAK8jB,oBAChB9jB,KAAK+jB,UAAY,IAErB/jB,KAAK8jB,kBAAoB5Z,CAC7B,CACA0Z,WAAAA,CAAYpkB,GACR,OAAuB,IAAfA,EAAIb,QAAwB,UAARa,KAAqBQ,KAAK4W,UAAUG,UAAY/W,KAAK4W,UAAUuH,GAC/F,CACAlf,WAAAA,CAAYyX,GACRpX,GAAiBU,KAAM,cAAU,GACjCV,GAAiBU,KAAM,YAAa,CAChCme,KAAK,EACLC,UAAU,EACVC,UAAU,EACVtH,SAAS,EACTuH,IAAI,EACJC,QAAQ,EACRC,MAAM,EACNC,SAAS,EACTC,YAAY,EACZ7H,OAAO,EACP/X,QAAQ,EACR6f,YAAY,IAEhBrf,GAAiBU,KAAM,UAAW,CAAC,GACnCV,GAAiBU,KAAM,YAAa,IACpCV,GAAiBU,KAAM,yBAAqBO,GAC5CjB,GAAiBU,KAAM,oBAAqB,CAAC,GAC7CA,KAAK0W,OAASA,CAClB,ECzIA,MAAMsN,GAAgB,IAEnB,aAAa5iB,MAAM,IAAIgC,KAAK6gB,IAAC,CACxBnN,KAAM,QAAQmN,IACdzkB,IAAKykB,SAEV,aAAa7iB,MAAM,IAAIgC,KAAI,CAAC6gB,EAAGjlB,KAAC,CAC3B8X,KAAM,QAAQ9X,IACdQ,IAAKykB,EACLxG,UAAU,SAEf,6BAA6Brc,MAAM,IAAIgC,KAAK6gB,IAAC,CACxCnN,KAAM,MAAMmN,EAAEC,gBACd1kB,IAAKykB,SAEV,6BAA6B7iB,MAAM,IAAIgC,KAAK6gB,IAAC,CACxCnN,KAAM,MAAMmN,IACZzkB,IAAKykB,EACLxG,UAAU,MAGlB,CACI3G,KAAM,QACNtX,IAAK,KAET,CACIsX,KAAM,UACNtX,IAAK,MACL2b,SAAUqH,GAAiB2B,MAE/B,CACIrN,KAAM,WACNtX,IAAK,MACL2b,SAAUqH,GAAiB4B,OAE/B,CACItN,KAAM,YACNtX,IAAK,QACL2b,SAAUqH,GAAiB2B,MAE/B,CACIrN,KAAM,aACNtX,IAAK,QACL2b,SAAUqH,GAAiB4B,OAE/B,CACItN,KAAM,cACNtX,IAAK,UACL2b,SAAUqH,GAAiB2B,MAE/B,CACIrN,KAAM,eACNtX,IAAK,UACL2b,SAAUqH,GAAiB4B,OAE/B,CACItN,KAAM,WACNtX,IAAK,OACL2b,SAAUqH,GAAiB2B,MAE/B,CACIrN,KAAM,YACNtX,IAAK,OACL2b,SAAUqH,GAAiB4B,OAE/B,CACItN,KAAM,SACNtX,IAAK,KACL2b,SAAUqH,GAAiB2B,MAE/B,CACIrN,KAAM,UACNtX,IAAK,KACL2b,SAAUqH,GAAiB4B,OAE/B,CACItN,KAAM,MACNtX,IAAK,OAET,CACIsX,KAAM,WACNtX,IAAK,YAET,CACIsX,KAAM,YACNtX,IAAK,aAET,CACIsX,KAAM,QACNtX,IAAK,SAGT,CACIsX,KAAM,SACNtX,IAAK,UAGT,CACIsX,KAAM,UACNtX,IAAK,WAET,CACIsX,KAAM,YACNtX,IAAK,aAET,CACIsX,KAAM,YACNtX,IAAK,aAET,CACIsX,KAAM,aACNtX,IAAK,cAGT,CACIsX,KAAM,OACNtX,IAAK,QAET,CACIsX,KAAM,MACNtX,IAAK,OAET,CACIsX,KAAM,SACNtX,IAAK,UAET,CACIsX,KAAM,SACNtX,IAAK,UAET,CACIsX,KAAM,WACNtX,IAAK,YAGT,CACIsX,KAAM,KACNtX,IAAK,MAET,CACIsX,KAAM,SACNtX,IAAK,UAET,CACIsX,KAAM,WACNtX,IAAK,aCxIb,MAAM6kB,GACFC,UAAAA,GACI,IAAIznB,EAAI,EACR,IAAK,MAAMsiB,KAAU3iB,OAAOiH,KAAKzD,KAAKgjB,SAElCnmB,GAAK,GAAK4K,OAAO0X,GAErB,OAAOtiB,CACX,CACA0nB,IAAAA,CAAKxB,GACD,MAAM5D,EAASqF,GAAiBzB,EAAO5D,QACvC,KAAIA,KAAUnf,KAAKgjB,SAOnB,OAHAhjB,KAAKgjB,QAAQ7D,GAAU,CACnB4D,GAEG5D,EANHnf,KAAKgjB,QAAQ7D,GAAQve,KAAKmiB,EAOlC,CACA0B,EAAAA,CAAG1B,GACC,MAAM5D,EAASqF,GAAiBzB,EAAO5D,QACvC,GAAIA,KAAUnf,KAAKgjB,UACfhjB,KAAKgjB,QAAQ7D,GAAUnf,KAAKgjB,QAAQ7D,GAAQlX,QAAQrL,GAAIA,EAAEa,OAASslB,EAAOtlB,OACtC,IAAhCuC,KAAKgjB,QAAQ7D,GAAQxgB,QAGrB,cADOqB,KAAKgjB,QAAQ7D,GACbA,CAInB,CACAlgB,WAAAA,GA7CJ,IAA0BM,EAAKC,EAAKC,IA8CM,CAAC,GA9CZD,EA8CA,aA9CLD,EA8CDS,MA5CjBxD,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,CAsCf,EAEJ,MAAMilB,GAAc,CAChBC,QAAS,EACTC,UAAW,EACXC,UAAW,EACXC,KAAM,EACNC,GAAI,EACJC,QAAS,EACTC,GAAI,GAER,SAAST,KAA6B,IAAZrF,EAAMxe,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,EAC/B,OAAIwe,KAAUuF,GACHA,GAAYvF,GAEhB1X,OAAO0X,EAClB,CAEA,MAAM+F,GAAkB,CACpB,EAAG,EACH,EAAG,GAEP,SAASC,GAAoBhG,GAEzB,OADAA,EAASqF,GAAiBrF,MACZ+F,GACHA,GAAgB/F,GAEpBA,CACX,CC9DA,MAAMiG,GACF,gBAAIC,GACA,OAAOrlB,KAAKslB,YAAYC,IAC5B,CACAC,SAAAA,CAAUzC,GACN,OAAO/iB,KAAKslB,YAAYG,IAAI1C,EAAOtlB,KACvC,CACAioB,UAAAA,CAAW3C,GACP,OAAO/iB,KAAKslB,YAAY5kB,IAAIqiB,EAAOtlB,KACvC,CACAkoB,aAAAA,CAAc5C,GACV,OAAO/iB,KAAKslB,YAAYM,OAAO7C,EAAOtlB,KAC1C,CACAwB,WAAAA,GA1BJ,IAA0BM,EAAKC,EAAKC,EAAVF,EA2BDS,KA3BMR,EA2BA,cA3BKC,EA2BU,IAAIomB,IA1B1CrmB,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,CAmBf,EC5BJ,SAASqmB,GAAY5P,EAAG7S,GACpB,MAAM0iB,EAAQ,GACd,IAAI,IAAIhd,EAAKmN,EAAGnN,EAAIA,EAAKA,EAAG3D,cACxB2gB,EAAMnlB,KAAKmI,GAEf,MAAMid,EAAQ,GACd,IAAI,IAAIjd,EAAK1F,EAAG0F,EAAIA,EAAKA,EAAG3D,cACxB4gB,EAAMplB,KAAKmI,GAEf,IAAI/J,EAAI,EACR,OACQA,GAAK+mB,EAAMpnB,QAAUK,GAAKgnB,EAAMrnB,QAAUonB,EAAMA,EAAMpnB,OAAS,EAAIK,KAAOgnB,EAAMA,EAAMrnB,OAAS,EAAIK,IADpGA,KAKP,MAAO,CACH+mB,EAAMre,MAAM,EAAGqe,EAAMpnB,OAASK,GAC9BgnB,EAAMte,MAAM,EAAGse,EAAMrnB,OAASK,GAC9BgnB,EAAMte,MAAMse,EAAMrnB,OAASK,GAEnC,CCVA,SAASinB,GAAoBtpB,GAA2B,IAA1B,OAAEuN,EAAM,KAAEjN,EAAI,OAAE8Q,GAAQpR,EAClD,OAAI+M,EAAgBQ,GACT,CACHjN,KAAMiN,EACN6D,OAAmB,OAAXA,QAA8B,IAAXA,EAAoBA,EAASvC,GAAWtB,GAAQvL,QAExE1B,EACA,CACHA,OACA8Q,OAAmB,OAAXA,QAA8B,IAAXA,EAAoBA,EAA2B,IAAlB9Q,EAAKG,SAAiBH,EAAKkR,UAAUxP,OAAS1B,EAAK+W,WAAWrV,QAGvHunB,GAAqBhc,EAAQ6D,EACxC,CACA,SAASmY,GAAqBjpB,EAAM8Q,GAAuB,IAAfoY,IAAMxlB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,KAAAA,UAAA,GAO1C3B,OAAeuB,IAAXwN,EAAuB9Q,EAAK+W,WAAWrV,OAAS,EAAI,EAC5D,MAAMynB,OAAkB7lB,IAAXwN,GAAwB,EAAI,EACzC,UAAiBxN,IAAXwN,EAAuB/O,IAAMmnB,EAAShe,KAAKC,IAAInL,EAAK+W,WAAWrV,OAAS,EAAG,GAAK,GAAKK,GAAK/B,EAAK+W,WAAWrV,QAAO,CACnH,GAAIoP,GAAU/O,IAAM/B,EAAK+W,WAAWrV,OAChC,MAAM,IAAInB,MAAM,sCAEpB,MAAMymB,EAAIhnB,EAAK+W,WAAWpV,KAAKI,GACzBgD,EAAOtE,OAAOumB,EAAEzO,aACtB,GAAIxT,EAAKrD,OACL,QAAe4B,IAAXwN,GAAwB/L,EAAKrD,OAASoP,EACtCA,GAAU/L,EAAKrD,WACZ,IAAmB,IAAfslB,EAAE7mB,SACT,OAAO8oB,GAAqBjC,EAAGlW,GAAQ,GAKvC,GAAmB,IAAfkW,EAAE7mB,SACF,MAAO,CACHH,KAAMgnB,EACNlW,OAAmB,OAAXA,QAA8B,IAAXA,EAAoBA,EAASkW,EAAE9V,UAAUxP,OAGhF,CAEJK,GAAKonB,CACT,CACA,MAAO,CACHnpB,OACA8Q,OAAQ9Q,EAAK+W,WAAWrV,OAEhC,CCnDA,SAAS0nB,GAAwB1pB,GAAiD,IAAhD,SAAEgI,EAAQ,OAAEuF,EAAM,WAAEoc,EAAU,KAAErpB,EAAI,OAAE8Q,GAAQpR,EAC5E,GxCHJ,SAAwBM,GACpB,OAAO0M,EAAU1M,IAASH,EAAiBG,EAC/C,CwCCQspB,CAAerc,GACf,OAEJ,MAAMsc,EAAwB9c,EAAgBQ,GAMxClI,EAAOtE,OAAO8oB,EAAwBhb,GAAWtB,GAAUA,EAAOsL,cACjE0L,EAAOuF,GAAOxpB,EAErB,CACI8Q,EACAA,GAqCR,SAAsB/L,EAAMyE,EAAK6f,GAC7B,GAAIA,EAAa,IAAM,GAAqB,IAAhBtkB,EAAKrD,OAC7B,MAAO,CACH8H,EACAA,GAGR,MAAMigB,EAAkB,OAARjgB,QAAwB,IAARA,EAAiBA,EAAMzE,EAAKrD,OAC5D,GAAI2nB,EAAa,IAAM,EACnB,MAAO,CACHI,EAAU1kB,EAAKqG,OAAO,EAAG5B,GAAK5E,MAAM,kBAAkB,GAAGlD,YACjD4B,IAARkG,EAAoBA,EAAMA,EAAMzE,EAAKqG,OAAO5B,GAAK5E,MAAM,kBAAkB,GAAGlD,QAIpF,MAAO,CACH+nB,EAAU1kB,EAAKqG,OAAO,EAAG5B,GAAK5E,MAAM,aAAa,GAAGlD,YAC5C4B,IAARkG,EAAoBA,EAAMA,EAAMzE,EAAKqG,OAAO5B,GAAK5E,MAAM,aAAa,GAAGlD,OAE/E,CAvDQgoB,CAAa3kB,EAAM+L,EAAQuY,GAE/B,GAAIE,EAKA,OAJA7a,GAAezB,EAAQ,CACnB4B,aAAwB,OAAVoV,QAA4B,IAAVA,EAAmBA,EAAQlf,EAAKrD,OAChEiN,YAAqB,OAAR6a,QAAwB,IAARA,EAAiBA,EAAMzkB,EAAKrD,SAEtD,CACH1B,KAAMiN,EACNgX,MAAiB,OAAVA,QAA4B,IAAVA,EAAmBA,EAAQ,EACpDuF,IAAa,OAARA,QAAwB,IAARA,EAAiBA,EAAMzkB,EAAKrD,QAElD,CACH,MAAQ1B,KAAM2pB,EAAW7Y,OAAQ1B,GAAgB4Z,GAAqB,CAClE/b,SACAjN,OACA8Q,OAAQmT,KAEJjkB,KAAM4pB,EAAS9Y,OAAQzB,GAAc2Z,GAAqB,CAC9D/b,SACAjN,OACA8Q,OAAQ0Y,IAENK,EAAQ5c,EAAO3M,cAAcwpB,cACnC,IACID,EAAM3V,SAASyV,EAAWva,GAC1Bya,EAAM1V,OAAOyV,EAASva,EAC1B,CAAE,MAAOgI,GACL,MAAM,IAAI9W,MAAM,qCACpB,CACA,MAAM8M,EAAY3F,EAAS4F,eAG3B,OAFc,OAAdD,QAAoC,IAAdA,GAAgCA,EAAU0c,kBAClD,OAAd1c,QAAoC,IAAdA,GAAgCA,EAAU2c,SAASH,EAAM7V,cACxE6V,CACX,CACJ,CC9DA,SAASI,GAA2BC,EAAWC,GAC3C,IAAIC,EAAmBC,EAAmBC,EAAoBC,EAAoBC,EAAkBC,EAAkBC,EAAmBC,EACzI,OAAOT,EAAUjd,SAAWkd,EAAUld,SAAsD,QAA1Cmd,EAAoBF,EAAUU,cAA0C,IAAtBR,OAA+B,EAASA,EAAkBxI,MAAmD,QAA1CyI,EAAoBF,EAAUS,cAA0C,IAAtBP,OAA+B,EAASA,EAAkBxI,KAAmD,QAA3CyI,EAAqBJ,EAAUU,cAA2C,IAAvBN,OAAgC,EAASA,EAAmBzI,MAAoD,QAA3C0I,EAAqBJ,EAAUS,cAA2C,IAAvBL,OAAgC,EAASA,EAAmB1I,KAAgD,QAAxC2I,EAAmBN,EAAUW,aAAwC,IAArBL,OAA8B,EAASA,EAAiBxqB,SAAoD,QAAxCyqB,EAAmBN,EAAUU,aAAwC,IAArBJ,OAA8B,EAASA,EAAiBzqB,QAAoD,QAAzC0qB,EAAoBR,EAAUW,aAAyC,IAAtBH,OAA+B,EAASA,EAAkB5Z,WAAuD,QAAzC6Z,EAAoBR,EAAUU,aAAyC,IAAtBF,OAA+B,EAASA,EAAkB7Z,OACz9B,CCmBA,SAASzO,GAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CAGI,MAAMwoB,GACNC,IAAAA,CAAKtf,EAAUuf,GACX,MAAMC,EAAeloB,KAAKioB,SACpBE,EAAanoB,KAAKooB,UAAU1f,GAElC,GADA1I,KAAKioB,SAAWA,GACXf,GAA2BgB,EAAcD,GAC1C,OAEJ,MAAMI,EAAaroB,KAAKooB,UAAU1f,GAC5B4S,EAAOtb,KAAKsoB,aAAa,cACxBC,EAAOC,GAAS1C,GAAYqC,EAAYE,GAC/C,MAAO,CACHE,MAAOA,KACCJ,IAAeE,IACf3f,EAASiI,gBAAgBwX,EAAY,WAAY7M,GACjDiN,EAAMhmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,aAAcuS,KACnE,EAEJkN,MAAOA,KACCL,IAAeE,IACf3f,EAASiI,gBAAgB0X,EAAY,YAAa/M,GAClDkN,EAAMjmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,aAAcuS,KACnE,EAEJ0M,KAAMA,KACFtf,EAASiI,gBAAgB0X,EAAY,YAAa/M,GAClDtb,KAAKyoB,gBAAgB/f,EAAS,EAG1C,CACA6b,IAAAA,CAAK7b,EAAUqa,EAAQ2F,GACnB,MAAMvJ,EAASnf,KAAKof,QAAQmF,KAAKxB,GACjC,QAAexiB,IAAX4e,EACA,OAEJ,MAAMjV,EAASlK,KAAKooB,UAAU1f,GAC9B1I,KAAK2oB,iBAAiBxJ,GAAUjV,EAChC,MAAM0e,EAAW9f,EAAWoB,GACtBoR,EAAOtb,KAAKsoB,aAAa,YAAavF,EAAO5D,SAC/CyJ,GAAYlgB,EAASiI,gBAAgBzG,EAAQ,YAAaoR,MAC1Dtb,KAAK6oB,eAAengB,EAAU4S,EAAK8B,QACnCnT,EAAaC,IAEZ0e,GAAmD,IAAvCzD,GAAoBpC,EAAO5D,SACxCzW,EAASiI,gBAAgBzG,EAAQ,cAAelK,KAAKsoB,aAAa,cAAevF,EAAO5D,OAAQuJ,GAExG,CACAjE,EAAAA,CAAG/b,EAAUqa,EAAQ2F,GACjB,MAAMvJ,EAASnf,KAAKof,QAAQqF,GAAG1B,GAC/B,QAAexiB,IAAX4e,EACA,OAEJ,MAAMjV,EAASlK,KAAKooB,UAAU1f,GAC9B,IAAKI,EAAWoB,GAAS,CACrBxB,EAASiI,gBAAgBzG,EAAQ,UAAWlK,KAAKsoB,aAAa,UAAWvF,EAAO5D,SAChFnf,KAAK8oB,eACL,MAAMC,EAAcjD,GAAY9lB,KAAK2oB,iBAAiBxJ,GAASjV,GAAQ,GAAG,GAC1E,GAAI6e,EAAa,CACb,MAAMzN,EAAOtb,KAAKsoB,aAAa,QAASvF,EAAO5D,OAAQuJ,GACnDpN,EAAK8B,SACL1U,EAASiI,gBAAgBoY,EAA6B,IAAhBzN,EAAK6D,OAAe,QAAU,WAAY7D,GAC5D,IAAhBA,EAAK6D,QAAgC,IAAhB7D,EAAK8B,QAC1B1U,EAASiI,gBAAgBoY,EAAa,WAAY,IAC3C/oB,KAAKsoB,aAAa,WAAYvF,EAAO5D,QACxC/B,OAAQ9B,EAAK8B,SAI7B,CACJ,CACJ,CACA4L,eAAAA,GACIhpB,KAAKsmB,WAAW2C,OACpB,CACAX,YAAAA,CAAavrB,EAAMoiB,EAAQuJ,GACvB,MAAMpN,EAAO,IACNtb,KAAKioB,SAASJ,QAgBrB,OAdIa,IACApN,EAAKhB,UAAYoO,EAAQpO,UACzBgB,EAAKR,YAAc4N,EAAQ5N,YAC3BQ,EAAKP,UAAY2N,EAAQ3N,WAE7BO,EAAK6D,OAASgG,GAAoBhG,GAClC7D,EAAK8D,QAAUpf,KAAKof,QAAQkF,aACf,cAATvnB,EACAue,EAAK8B,OAASpd,KAAKsmB,WAAW4C,UAAU5N,EAAK6D,QAC7B,YAATpiB,EACPue,EAAK8B,OAASpd,KAAKsmB,WAAW6C,QAAQ7N,EAAK6D,QAC3B,UAATpiB,GAA6B,aAATA,IAC3Bue,EAAK8B,OAASpd,KAAKsmB,WAAW8C,WAAW9N,EAAK6D,SAE3C7D,CACX,CACA8M,SAAAA,CAAU1f,GACN,IAAI2gB,EACJ,OAA0D,QAAlDA,EAAwBrpB,KAAKioB,SAAS/d,cAA8C,IAA1Bmf,EAAmCA,EAAwB3gB,EAASyZ,OAAOxd,SAAS4E,IAC1J,CACAsf,cAAAA,CAAengB,EAAU4d,GACrB,IAAIgD,EAAsBC,EAE1BvpB,KAAKwpB,UAAYnD,GAAyB,CACtC1hB,SAAU+D,EAASyZ,OAAOxd,SAC1BuF,OAAQlK,KAAKooB,UAAU1f,GACvBzL,KAAuD,QAAhDqsB,EAAuBtpB,KAAKioB,SAASH,aAA4C,IAAzBwB,OAAkC,EAASA,EAAqBrsB,KAC/H8Q,OAA0D,QAAjDwb,EAAwBvpB,KAAKioB,SAASH,aAA6C,IAA1ByB,OAAmC,EAASA,EAAsBxb,OACpIuY,cAER,CACAmC,eAAAA,CAAgB/f,GACZ,IAAI4gB,EAAsBC,EACrBvpB,KAAKwpB,WC1IlB,SAAqCC,EAAc9sB,GAAsC,IAApC,SAAEgI,EAAQ,OAAEuF,EAAM,KAAEjN,EAAI,OAAE8Q,GAAQpR,EACnF,MAAM+sB,EAAiBzD,GAAqB,CACxC/b,SACAjN,OACA8Q,WAEJ,GAAI,SAAU0b,GAKiB,GAAIC,EAAezsB,OAASwsB,EAAexsB,KAAM,CACxE,MAAM6O,EAAe4d,EAAe3b,OAAS0b,EAAevI,MAAQuI,EAAehD,IAAMgD,EAAevI,MAClGtV,EAAc8d,EAAe3b,OAAS0b,EAAehD,KAAOiD,EAAe3b,OAAS0b,EAAevI,MAAQwI,EAAe3b,OAAS0b,EAAehD,IACxJ9a,GAAe8d,EAAexsB,KAAM,CAChC6O,eACAF,eAER,MACG,CACH,MAAMkb,EAAQ2C,EAAexY,aACvB0Y,EAAM7C,EAAM5V,aAAawY,EAAezsB,KAAMysB,EAAe3b,QAC/D4b,EAAM,EACN7C,EAAM3V,SAASuY,EAAezsB,KAAMysB,EAAe3b,QAC5C4b,EAAM,GACb7C,EAAM1V,OAAOsY,EAAezsB,KAAMysB,EAAe3b,QAErD,MAAMzD,EAAY3F,EAAS4F,eACb,OAAdD,QAAoC,IAAdA,GAAgCA,EAAU0c,kBAClD,OAAd1c,QAAoC,IAAdA,GAAgCA,EAAU2c,SAASH,EAAM7V,aACnF,CACJ,CD8GQ2Y,CAA4B5pB,KAAKwpB,UAAW,CACxC7kB,SAAU+D,EAASyZ,OAAOxd,SAC1BuF,OAAQlK,KAAKooB,UAAU1f,GACvBzL,KAAuD,QAAhDqsB,EAAuBtpB,KAAKioB,SAASH,aAA4C,IAAzBwB,OAAkC,EAASA,EAAqBrsB,KAC/H8Q,OAA0D,QAAjDwb,EAAwBvpB,KAAKioB,SAASH,aAA6C,IAA1ByB,OAAmC,EAASA,EAAsBxb,QAE5I,CACA+a,YAAAA,GACI9oB,KAAKwpB,eAAYjpB,CACrB,CACAtB,WAAAA,GACIK,GAAiBU,KAAM,WAAY,CAAC,GACpCV,GAAiBU,KAAM,UAAW,IAAIqkB,IACtC/kB,GAAiBU,KAAM,iBAAa,GACpCV,GAAiBU,KAAM,mBAAoB,CAAC,GAW5CV,GAAiBU,KAAM,aAAc,IAAI,MACrCopB,UAAAA,CAAWjK,GACP,MAAM0K,OAAgCtpB,IAAtBP,KAAKukB,KAAKpF,QAAwB5e,EAAYkH,OAAOzH,KAAKukB,KAAKpF,IAAW,EAI1F,OAHAnf,KAAK8pB,WAA+BvpB,IAAvBP,KAAK8pB,MAAM3K,GAAwB,CAAC,EAAI,CACjD,CAACA,GAAS1X,OAAOzH,KAAK8pB,MAAM3K,IAAW,GAEpC0K,CACX,CACAX,SAAAA,CAAU/J,GACN,IAAI4K,EAIAC,EAIJ,OAPAhqB,KAAKukB,KAAO,CACR,CAACpF,GAAuD,QAA7C4K,EAAqB/pB,KAAK8pB,MAAM3K,UAA4C,IAAvB4K,EAAgCA,EAAqB,GAGzH/pB,KAAK8pB,MAAQ,CACT,CAAC3K,GAAwD,QAA9C6K,EAAsBhqB,KAAK8pB,MAAM3K,UAA6C,IAAxB6K,EAAiCA,EAAsB,GAErHviB,OAAOzH,KAAK8pB,MAAM3K,IAAW,CACxC,CACAgK,OAAAA,CAAQhK,GACJ,YAA6B5e,IAAtBP,KAAKukB,KAAKpF,QAAwB5e,EAAYkH,OAAOzH,KAAKukB,KAAKpF,IAAW,CACrF,CACA8J,KAAAA,GACIjpB,KAAK8pB,MAAQ,CAAC,CAClB,CACA7qB,WAAAA,GACIK,GAAiBU,KAAM,OAAQ,CAAC,GAChCV,GAAiBU,KAAM,QAAS,CAAC,EACrC,GAER,EEzMJ,SAASiqB,GAAiBvhB,EAAU3M,GAChC,IAAImuB,EACJ,MAAmK,UAAzF,QAAjEA,EAAsBC,GAAmBzhB,EAAU3M,UAA8C,IAAxBmuB,OAAiC,EAASA,EAAoBE,cACpJ,CAkBA,MAAMC,GAAqBvrB,OAAO,iCAClC,SAASqrB,GAAmBzhB,EAAU3M,GAClC,MAAMuuB,EAAYvuB,EAAQsuB,IAE1B,KADmB3hB,EAASyZ,OAAOoI,qBAAuBjkB,EAAwBkkB,SAAWF,GAAaG,GAAW/hB,EAASyZ,OAAOoI,mBAAoBjkB,EAAwBokB,cAAgBJ,EAAUjkB,EAASskB,QAAU9hB,EAAYH,EAAUrC,EAASskB,OAASF,GAAW/hB,EAASyZ,OAAOoI,mBAAoBjkB,EAAwBskB,cAAgBN,EAAUjkB,EAASwkB,WAAahiB,EAAYH,EAAUrC,EAASwkB,WAExZ,OAAqB,OAAdP,QAAoC,IAAdA,OAAuB,EAASA,EAAUjsB,OAE3E,MAAMysB,EAxBV,SAAyC/uB,GACrC,MAAMyC,EAASxB,EAAUjB,GACzB,IAAI,IAAIgN,EAAKhN,EAASgvB,EAAO,GAAW,OAAPhiB,QAAsB,IAAPA,OAAgB,EAASA,EAAGxL,cAAewL,EAAKA,EAAG3D,cAAc,CAC7G2lB,EAAKnqB,KAAKmI,GACV,MAAMqhB,EAAgB5rB,EAAOoV,iBAAiB7K,GAAIqhB,cAClD,GAAIA,IAAkB,CAClB,UACA,SACF/tB,SAAS+tB,GACP,MAAO,CACHA,gBACAW,OAGZ,CAEJ,CAQwBC,CAAgCjvB,GAMpD,OALAA,EAAQsuB,IAAsB,CAC1B,CAAChkB,EAASskB,MAAO9hB,EAAYH,EAAUrC,EAASskB,MAChD,CAACtkB,EAASwkB,SAAUhiB,EAAYH,EAAUrC,EAASwkB,SACnDxsB,OAAQysB,GAELA,CACX,CACA,SAASG,GAAoBviB,EAAU3M,GACnC,MAAM+uB,EAAcX,GAAmBzhB,EAAU3M,GACjD,GAA8F,UAAzE,OAAhB+uB,QAAwC,IAAhBA,OAAyB,EAASA,EAAYV,eACvE,MAAM,IAAI5sB,MAAM,CACZ,wDAAwDstB,EAAYC,KAAKpsB,OAAS,EAAI,WAAa,kCACnG,IAKOosB,EAJGD,EAAYC,KAKvBA,EAAKG,UAAU9nB,KAAI,CAAC2F,EAAI/J,IAAI,CAC3B,GAAGmsB,OAAOnsB,GACV+J,EAAGzM,QACHyM,EAAGqiB,IAAM,IAAIriB,EAAGqiB,KAChBriB,EAAG9D,aAAa,gBAAkB,WAAW8D,EAAG7D,aAAa,kBAC7DmmB,GAActiB,GACdgiB,EAAKpsB,OAAS,GAAW,IAANK,GAAW,qDAC9B+rB,EAAKpsB,OAAS,GAAKK,IAAM+rB,EAAKpsB,OAAS,GAAK,sCAC9CsJ,OAAOC,SAASjC,KAAK,MAAKA,KAAK,QAZ/BA,KAAK,OAGf,IAAmB8kB,CADnB,CAYA,SAASM,GAActvB,GACnB,IAAIuvB,EACJ,IAAIC,EACJ,GAAIxvB,EAAQkJ,aAAa,cACrBsmB,EAAQxvB,EAAQmJ,aAAa,mBAC1B,GAAInJ,EAAQkJ,aAAa,mBAAoB,CAChD,IAAIumB,EAAmDC,EACvDF,EAAoI,QAA3HE,EAAwC1vB,EAAQwB,cAAcmuB,eAAe3vB,EAAQmJ,aAAa,2BAA2E,IAA1CumB,GAAwK,QAA3GD,EAAoDC,EAAsCjW,mBAA+E,IAAtDgW,OAA7H,EAAqMA,EAAkDG,MAC1b,MAAO,GAAI7vB,EAAcC,EAAS,CAC9B,SACA,QACA,QACA,SACA,WACA,SACA,eAC0C,QAAtCuvB,EAAkBvvB,EAAQ6vB,cAAwC,IAApBN,OAA6B,EAASA,EAAgB3sB,QACxG4sB,EAAQpvB,MAAMqH,KAAKzH,EAAQ6vB,QAAQxoB,KAAK2F,IACpC,IAAI8iB,EACJ,OAA8C,QAAtCA,EAAkB9iB,EAAGyM,mBAA6C,IAApBqW,OAA6B,EAASA,EAAgBF,MAAM,IACnH1lB,KAAK,UACL,GAAInK,EAAcC,EAAS,UAAW,CACzC,IAAI+vB,EACJP,EAAyD,QAAhDO,EAAuB/vB,EAAQyZ,mBAAkD,IAAzBsW,OAAkC,EAASA,EAAqBH,MACrI,CAKA,OAJAJ,EAAkB,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAM3Y,QAAQ,MAAO,MACvEnL,OAAiB,OAAV8jB,QAA4B,IAAVA,OAAmB,EAASA,EAAM5sB,QAAU,KACrE4sB,EAAQ,GAAa,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMrZ,UAAU,EAAG,aAEzEqZ,EAAQ,UAAUA,KAAW,EACxC,CAEA,SAASd,GAAWsB,EAAMC,GAEtB,OAAQD,EAAOC,GAAQ,CAC3B,CCvFA,SAAS1sB,GAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CACA,MAAM0sB,GACF3Q,IAAAA,CAAK5S,EAAUuf,GACXjoB,KAAKioB,SAAWA,EAChB,MAAM/d,EAASlK,KAAKooB,UAAU1f,IACvB,CAAE8f,GAAS1C,GAAY,KAAM5b,GAC9BoR,EAAOtb,KAAKsoB,eAIlB,OAHA2C,GAAoBviB,EAAUwB,GAC9BxB,EAASiI,gBAAgBzG,EAAQ,cAAeoR,GAChDkN,EAAMjmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,eAAgBuS,KAC1Dtb,IACX,CACAgoB,IAAAA,CAAKtf,EAAUuf,GACX,MAAMC,EAAeloB,KAAKioB,SACpBE,EAAanoB,KAAKooB,UAAU1f,GAElC,GADA1I,KAAKioB,SAAWA,GACXf,GAA2BgB,EAAcD,GAC1C,OAEJ,MAAMI,EAAaroB,KAAKooB,UAAU1f,GAC5B4S,EAAOtb,KAAKsoB,gBACXC,EAAOC,GAAS1C,GAAYqC,EAAYE,GAC/C,MAAO,CACHE,MAAOA,KACC0B,GAAiBvhB,EAAUyf,IACvBA,IAAeE,IACf3f,EAASiI,gBAAgBwX,EAAY,aAAc7M,GACnDiN,EAAMhmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,eAAgBuS,KAEzE,EAEJkN,MAAOA,KACHyC,GAAoBviB,EAAU2f,GAC1BF,IAAeE,IACf3f,EAASiI,gBAAgB0X,EAAY,cAAe/M,GACpDkN,EAAMjmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,eAAgBuS,KACrE,EAEJ0M,KAAMA,KACFtf,EAASiI,gBAAgB0X,EAAY,cAAe/M,EAAK,EAGrE,CACAiJ,IAAAA,CAAK7b,EAAUwjB,GACX,GAAIlsB,KAAKmsB,OACL,OAEJ,MAAMjiB,EAASlK,KAAKooB,UAAU1f,GAC9BuiB,GAAoBviB,EAAUwB,GAC9BlK,KAAKmsB,QAAS,EACdnsB,KAAKosB,aAAe1jB,EAASiI,gBAAgBzG,EAAQ,cAAelK,KAAKsoB,eAC7E,CACA7D,EAAAA,CAAG/b,EAAUwjB,GACT,IAAKlsB,KAAKmsB,OACN,OAEJ,MAAMjiB,EAASlK,KAAKooB,UAAU1f,GAC9BuiB,GAAoBviB,EAAUwB,GAC9BlK,KAAKmsB,QAAS,EACdzjB,EAASiI,gBAAgBzG,EAAQ,YAAalK,KAAKsoB,eACvD,CACA+D,OAAAA,CAAQ3jB,GACJ,MAAMwB,EAASlK,KAAKooB,UAAU1f,IACvB6f,GAASzC,GAAY5b,EAAQ,MAC9BoR,EAAOtb,KAAKsoB,eAGa2B,GAAiBvhB,EAAUwB,KACtDxB,EAASiI,gBAAgBzG,EAAQ,aAAcoR,GAC/CiN,EAAMhmB,SAASwG,GAAKL,EAASiI,gBAAgB5H,EAAI,eAAgBuS,MAErEtb,KAAKssB,aAAc,CACvB,CACAlE,SAAAA,CAAU1f,GACN,IAAI2gB,EACJ,OAA0D,QAAlDA,EAAwBrpB,KAAKioB,SAAS/d,cAA8C,IAA1Bmf,EAAmCA,EAAwB3gB,EAASyZ,OAAOxd,SAAS4E,IAC1J,CACA+e,YAAAA,GACI,MAAO,IACAtoB,KAAKioB,SAASJ,OACjBvN,UAAWta,KAAKsa,UAChBQ,YAAa9a,KAAK8a,YAClBC,UAAW/a,KAAK+a,UAExB,CACA9b,WAAAA,CAAWtC,GAAuC,IAAtC,UAAE2d,EAAS,YAAEQ,EAAW,UAAEC,GAAWpe,EAC7C2C,GAAiBU,KAAM,iBAAa,GACpCV,GAAiBU,KAAM,mBAAe,GACtCV,GAAiBU,KAAM,iBAAa,GACpCV,GAAiBU,KAAM,gBAAgB,GACvCV,GAAiBU,KAAM,eAAe,GACtCV,GAAiBU,KAAM,UAAU,GACjCV,GAAiBU,KAAM,eAAe,GACtCV,GAAiBU,KAAM,WAAY,CAAC,GACpCA,KAAKsa,UAAYA,EACjBta,KAAK8a,YAAcA,EACnB9a,KAAK+a,UAAYA,EACjB/a,KAAKusB,cAAgBxR,CACzB,ECnHJ,SAASzb,GAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CACA,MAAMitB,GACF1J,YAAAA,CAAaC,GACT,OAAO/iB,KAAKysB,QAAQ/pB,IAAIqgB,EAAOjI,aAAa0K,UAAUzC,EAC1D,CACA,WAAM2J,CAAMhkB,EAAUqa,EAAQkF,GAC1B,MAAM0E,EAAc3sB,KAAK4sB,eAAe7J,GAClC2F,EAAiC,UAAvB3F,EAAOjI,YAA0B9a,KAAK6sB,SAASC,IAAIH,EAAa5J,GAAQzH,KAAK5S,EAAUuf,GAAYjoB,KAAK6sB,SAASnqB,IAAIiqB,GAErIjE,EAAQT,SAAWA,EACS,UAAxBS,EAAQ5N,cACR9a,KAAK+sB,MAAM9E,SAAWA,GAE1BjoB,KAAKysB,QAAQ/pB,IAAIqgB,EAAOjI,aAAa4K,WAAW3C,GAChD/iB,KAAKof,QAAQmF,KAAKxB,GAClB2F,EAAQnE,KAAK7b,EAAUqa,GACK,UAAxB2F,EAAQ5N,aAA4B4N,EAAQ0D,aAC5CpsB,KAAK+sB,MAAMxI,KAAK7b,EAAUqa,EAAQ2F,EAE1C,CACA,UAAMV,CAAKtf,EAAUikB,EAAa1E,GAC9B,MAAMS,EAAU1oB,KAAK6sB,SAASnqB,IAAIiqB,GAK5BzT,EAAcwP,EAAQV,KAAKtf,EAAUuf,GACrCtP,EAAoC,UAAxB+P,EAAQ5N,aAA2B4N,EAAQ0D,aAAe1D,EAAQyD,YAAS5rB,EAAYP,KAAK+sB,MAAM/E,KAAKtf,EAAUuf,GACnH,OAAhB/O,QAAwC,IAAhBA,GAAkCA,EAAYqP,QACxD,OAAd5P,QAAoC,IAAdA,GAAgCA,EAAU4P,QAChD,OAAhBrP,QAAwC,IAAhBA,GAAkCA,EAAYsP,QACxD,OAAd7P,QAAoC,IAAdA,GAAgCA,EAAU6P,QAChD,OAAhBtP,QAAwC,IAAhBA,GAAkCA,EAAY8O,OACxD,OAAdrP,QAAoC,IAAdA,GAAgCA,EAAUqP,MACpE,CACA,aAAMqE,CAAQ3jB,EAAUqa,EAAQkF,GAC5B,MAAM+E,EAAShtB,KAAKysB,QAAQ/pB,IAAIqgB,EAAOjI,aACvCkS,EAAOrH,cAAc5C,GACrB/iB,KAAKof,QAAQqF,GAAG1B,GAChB,MAAM2F,EAAU1oB,KAAK6sB,SAASnqB,IAAI1C,KAAK4sB,eAAe7J,IAYtD,GAVA2F,EAAQT,SAAWA,EACS,UAAxBS,EAAQ5N,cACR9a,KAAK+sB,MAAM9E,SAAWA,GAEE,IAAxB+E,EAAO3H,cACPqD,EAAQjE,GAAG/b,EAAUqa,GAEG,UAAxB2F,EAAQ5N,aACR4N,EAAQ2D,QAAQ3jB,IAEfggB,EAAQ0D,YAAa,CACtB,GAA4B,UAAxB1D,EAAQ5N,cAA4B4N,EAAQ6D,aAAc,CAC1D,MAAM5T,EAAY3Y,KAAK+sB,MAAM/E,KAAKtf,EAAUggB,EAAQT,UACtC,OAAdtP,QAAoC,IAAdA,GAAgCA,EAAU4P,QAClD,OAAd5P,QAAoC,IAAdA,GAAgCA,EAAU6P,QAClD,OAAd7P,QAAoC,IAAdA,GAAgCA,EAAUqP,OAChEhoB,KAAK+sB,MAAMxI,KAAK7b,EAAUqa,EAAQ2F,EACtC,CACA,IAAKA,EAAQ6D,aAAc,CACvB,MAAM5T,EAAY3Y,KAAK+sB,MAAM/E,KAAKtf,EAAUggB,EAAQT,UACtC,OAAdtP,QAAoC,IAAdA,GAAgCA,EAAU4P,QAClD,OAAd5P,QAAoC,IAAdA,GAAgCA,EAAU6P,QAClD,OAAd7P,QAAoC,IAAdA,GAAgCA,EAAUqP,OAChEhoB,KAAK+sB,MAAMtI,GAAG/b,EAAUqa,EAAQ2F,EACpC,CACJ,CACJ,CACAkE,cAAAA,CAAe7J,GACX,MAA8B,UAAvBA,EAAOjI,YAA0BiI,EAAOtlB,KAAOslB,EAAOjI,WACjE,CACAmS,mBAAAA,CAAoBN,GAChB,OAAO3sB,KAAK6sB,SAASpH,IAAIkH,GAAe3sB,KAAK6sB,SAASnqB,IAAIiqB,GAAa1E,cAAW1nB,CACtF,CACAyoB,eAAAA,GACIhpB,KAAK+sB,MAAM/D,iBACf,CACAkE,cAAAA,CAAexkB,GACX,IAAIykB,EACJ,OAAsE,QAA9DA,EAA8BntB,KAAK+sB,MAAM9E,SAAS/d,cAAoD,IAAhCijB,EAAyCA,EAA8BzkB,EAASyZ,OAAOxd,SAAS4E,IAClL,CACA6jB,gBAAAA,CAAiBnF,GACbjoB,KAAK+sB,MAAM9E,SAAWA,EACtBjoB,KAAK6sB,SAASnqB,IAAI,SAASulB,SAAWA,CAC1C,CACAhpB,WAAAA,CAAYyX,GACRpX,GAAiBU,KAAM,cAAU,GACjCV,GAAiBU,KAAM,aAAS,GAChCV,GAAiBU,KAAM,eAAW,GAClCV,GAAiBU,KAAM,UAAW,IAAI,MAClC0C,GAAAA,CAAI9F,GACA,IACAywB,EAAgBC,EACZ/J,EAEJ,OADmD,QAAlDA,GAAK8J,EAAiBrtB,KAAKutB,UAAUD,EAAK1wB,UAAsB,IAAN2mB,IAAmB8J,EAAeC,GAAM,IAAIlI,IAChGplB,KAAKutB,SAAS3wB,EACzB,CACAqC,WAAAA,GACIK,GAAiBU,KAAM,WAAY,CAAC,EACxC,IAEJV,GAAiBU,KAAM,WAAY,IAAI,MACnC8sB,IAAIH,EAAa5J,GACb,MAAMhI,EAAmC,UAAvBgI,EAAOjI,cAA4Bte,OAAO0mB,OAAOljB,KAAKutB,UAAUne,MAAM+T,GAAsB,UAAlBA,EAAErI,cAA4BqI,EAAEmJ,cAa5H,OAZKvR,GACDve,OAAO0mB,OAAOljB,KAAKutB,UAAUhrB,SAAS4gB,IAC9BA,EAAErI,cAAgBiI,EAAOjI,aAAgBqI,EAAEmJ,cAC3CnJ,EAAEoJ,cAAe,EACrB,IAGRvsB,KAAKutB,SAASZ,GAAe,IAAIV,GAAQ,CACrC3R,UAAWta,KAAKwtB,SAChB1S,YAAaiI,EAAOjI,YACpBC,cAEG/a,KAAKutB,SAASZ,EACzB,CACAjqB,GAAAA,CAAIiqB,GACA,IAAK3sB,KAAKylB,IAAIkH,GACV,MAAM,IAAInvB,MAAM,6BAA6BmvB,4BAEjD,OAAO3sB,KAAKutB,SAASZ,EACzB,CACAlH,GAAAA,CAAIkH,GACA,OAAOA,KAAe3sB,KAAKutB,QAC/B,CACAtuB,WAAAA,GACIK,GAAiBU,KAAM,WAAY,CAC/B+sB,MAAO,IAAId,GAAQ,CACf3R,UAAW,EACXQ,YAAa,QACbC,WAAW,MAGnBzb,GAAiBU,KAAM,SAAU,EACrC,IAEJA,KAAK0W,OAASA,EACd1W,KAAKof,QAAU,IAAIiF,GACnBrkB,KAAK+sB,MAAQ,IAAIhF,EACrB,EC3JJ,SAASzoB,GAAiBC,EAAKC,EAAKC,GAWhC,OAVID,KAAOD,EACP/C,OAAOkD,eAAeH,EAAKC,EAAK,CAC5BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdN,EAAIC,GAAOC,EAERF,CACX,CAGI,MAAMkuB,GACNhO,mBAAAA,GACI,MAAO,CACHnC,OAAQtd,KAAK2W,SAASC,UAAUuH,IAChCZ,QAASvd,KAAK2W,SAASC,UAAUG,QACjCyG,QAASxd,KAAK2W,SAASC,UAAU4H,KACjCf,SAAUzd,KAAK2W,SAASC,UAAUC,MAClC6G,iBAAkB1d,KAAK2W,SAASC,UAAUwH,SAC1CT,iBAAkB3d,KAAK2W,SAASC,UAAUyH,SAC1CT,WAAY5d,KAAK2W,SAASC,UAAU0H,GACpCT,eAAgB7d,KAAK2W,SAASC,UAAU2H,OACxCT,gBAAiB9d,KAAK2W,SAASC,UAAU6H,QACzCV,mBAAoB/d,KAAK2W,SAASC,UAAU8H,WAC5CV,eAAgBhe,KAAK2W,SAASC,UAAU9X,OACxCmf,mBAAoBje,KAAK2W,SAASC,UAAU+H,WAEpD,CACA1f,WAAAA,GACIK,GAAiBU,KAAM,WAAY,IAAI6iB,GAAa7iB,OACpDV,GAAiBU,KAAM,UAAW,IAAIwsB,GAAYxsB,MACtD,ECrBJyE,eAAeipB,GAAehlB,EAAQ/L,GAAoD,IAAlD,OAAEomB,EAAM,gBAAE7b,EAAe,YAAEC,EAAW,OAAEC,GAAQzK,EACpF,MAAM,OAAE+Z,GAAWhO,EAKnB,GAHIgO,EAAOC,SAASmM,aAAaC,UACvBrM,EAAOC,SAASW,MAAM5O,EAAUqa,IAErC7b,EAAiB,CAClB,IAAI,IAAIlI,EAAI,EAAGA,GAAKoI,EAAQpI,UAClB0X,EAAOC,SAASnC,QAAQ9L,EAAUqa,GACpC/jB,EAAIoI,SACE8a,GAAKxZ,EAASyZ,QAIxBhb,SACMuP,EAAOC,SAASW,MAAM5O,EAAUqa,EAE9C,CACJ,CCvBA,SAAS4K,GAAczjB,GACnB,MAAM9J,EAAOsJ,EAAgBQ,GAAU,CACnC,aAAc0jB,GAA2B1jB,IACzC,CACA,aAAcxM,OAAOwM,EAAO3M,cAAcgN,iBAExC/I,EAAKD,EAAmBvE,EAAUkN,IACxC,IAAI,MAAMnN,KAAQqD,EACVA,EAAKrD,IACLyE,EAAGU,QAAQnF,EAAMqD,EAAKrD,IAG9B,OAAOyE,CACX,CACA,SAASosB,GAA2B1jB,GAChC,MAAM6C,EAAMJ,GAAezC,GAE3B,OADYsB,GAAWtB,GACZgI,UAAUnF,EAAIV,YAAaU,EAAIT,UAC9C,CCtBA,SAASuhB,GAAYC,EAAYrqB,GAC7B,MAAMsqB,EAAO,GACb,EAAG,CACC,MAAM,WAAEhnB,EAAU,eAAEE,EAAc,gBAAEC,EAAe,YAAEC,GAAc,GAASZ,EAAmB9C,EAAM,WAC/Fsf,EAAS+K,EAAW/rB,MAAMohB,GAAIA,EAAE1lB,OAASsJ,IAC3Cgc,GACAgL,EAAKntB,KAAK,CACNmiB,SACA7b,kBACAC,gBAGR1D,EAAOA,EAAKiE,MAAMT,EACtB,OAAQxD,GACR,OAAOsqB,CACX,CCUAtpB,eAAeupB,GAActlB,EAAUulB,GACnC,IAAIC,EAAyBC,EAC7B,MAAMxB,EAAc,gBAAiBsB,GAAUA,EAAOtB,YAAcsB,EAAOtB,YAAc,WAAYsB,EAASvlB,EAASgO,OAAOgS,QAAQkE,eAAeqB,EAAOlL,QAAU,QAChKqL,EAAmB1lB,EAASgO,OAAOgS,QAAQuE,oBAAoBN,GACrE,IAAI0B,EAAgBC,EAAgBC,EAAcC,EAClD,MAAMvG,EAAW,CACb/d,OAA6C,QAApCmkB,EAAiBJ,EAAO/jB,cAAuC,IAAnBmkB,EAA4BA,EAAiBI,GAAc/lB,EAAU0lB,GAC1HvG,OAA6C,QAApCyG,EAAiBL,EAAOpG,cAAuC,IAAnByG,EAA4BA,EAAsC,OAArBF,QAAkD,IAArBA,OAA8B,EAASA,EAAiBvG,OACvLC,MAAO,CACH7qB,KAAuC,QAAhCsxB,EAAeN,EAAOhxB,YAAmC,IAAjBsxB,EAA0BA,EAAeG,GAAiBT,IAA2C,OAArBG,QAAkD,IAArBA,GAA8F,QAAtDF,EAA0BE,EAAiBtG,aAA+C,IAA5BoG,OAA/I3tB,EAA6L2tB,EAAwBjxB,KACxU8Q,OAA6C,QAApCygB,EAAiBP,EAAOlgB,cAAuC,IAAnBygB,EAA4BA,EAAiBE,GAAiBT,IAA2C,OAArBG,QAAkD,IAArBA,GAA+F,QAAvDD,EAA2BC,EAAiBtG,aAAgD,IAA7BqG,OAAhJ5tB,EAA+L4tB,EAAyBpgB,SAGzV,WAAYkgB,GACRvlB,EAASgO,OAAOgS,QAAQ5F,aAAamL,EAAOlL,UAC5Cta,EAAYC,EAAUrC,EAASwkB,eACzBniB,EAASgO,OAAOgS,QAAQ2D,QAAQ3jB,EAAUulB,EAAOlL,OAAQkF,IAE9DgG,EAAO/mB,kBACRuB,EAAYC,EAAUrC,EAASwkB,eACzBniB,EAASgO,OAAOgS,QAAQgE,MAAMhkB,EAAUulB,EAAOlL,OAAQkF,GACzDgG,EAAO9mB,cACPsB,EAAYC,EAAUrC,EAASwkB,eACzBniB,EAASgO,OAAOgS,QAAQ2D,QAAQ3jB,EAAUulB,EAAOlL,OAAQkF,OAIvExf,EAAYC,EAAUrC,EAASwkB,eACzBniB,EAASgO,OAAOgS,QAAQV,KAAKtf,EAAUikB,EAAa1E,GAElE,CACA,SAASyG,GAAiBT,GACtB,IAAII,EAAgB1xB,EACpB,SAA6H,QAAlHA,EAA4C,QAApC0xB,EAAiBJ,EAAO/jB,cAAuC,IAAnBmkB,EAA4BA,EAAiBJ,EAAOhxB,YAA2B,IAATN,EAAkBA,OAAyB4D,IAAlB0tB,EAAOlgB,OACzK,CACA,SAAS0gB,GAAc/lB,EAAUuf,GAC7B,IAAKA,EACD,MAAM,IAAIzqB,MAAM,qEAEpB,IAAImxB,EACJ,OAAgD,QAAxCA,EAAmB1G,EAAS/d,cAAyC,IAArBykB,EAA8BA,EAAmBjmB,EAASyZ,OAAOxd,SAAS4E,IACtI,CCjDA9E,eAAemqB,GAAkBzc,EAAU0c,EAAQ3L,GAC/C,IAAK/Q,IAAa0c,EAAOC,SACrB,MAAM/kB,EAAAA,EAAAA,MAAYglB,gBAAgB,4GAA6GF,GAEnJ,MAAMG,EAAW7yB,MAAMC,QAAQ8mB,GAAUA,EAAS,CAC9CA,GAEE+L,EAAa9yB,MAAMqH,KAAKqrB,EAAO1a,iBAAiB,4BAChD+a,EAAkBF,EAAS5rB,KAAKjG,IAClC,GAAmB,kBAARA,GAAoB8xB,EAAW5yB,SAASc,GAC/C,OAAOA,EACJ,CACH,MAAMgyB,EAAiBF,EAAWltB,MAAMoK,GAAIA,EAAE1M,QAAUtC,GAAOgP,EAAEijB,YAAcjyB,IAC/E,GAAIgyB,EACA,OAAOA,EAEP,MAAMplB,EAAAA,EAAAA,MAAYglB,gBAAgB,UAAUrxB,OAAOP,2BAA8B0xB,EAEzF,KACD5mB,QAAQonB,IAAUvmB,EAAWumB,KAChC,GAAIvmB,EAAW+lB,KAAYK,EAAgBvwB,OAAQ,OACnD,MAAM2wB,EAAgBD,IAClBA,EAAOE,SAAWpd,EAClBnS,KAAK2Q,gBAAgBke,EAAQ,QAAS,CAClC7W,SAAS,EACTC,YAAY,EACZC,UAAU,IAEdlY,KAAK2Q,gBAAgBke,EAAQ,SAAS,EAE1C,GAAI/yB,EAAc+yB,EAAQ,UACtB,GAAIA,EAAOC,SACP,IAAK,MAAMO,KAAUH,EAAgB,CACjC,MAAMM,EAAuD,IAAnCxvB,KAAKmiB,OAAOoI,oBAAkCN,GAAiBjqB,KAAMqvB,GAE3FG,IACAxvB,KAAK2Q,gBAAgB0e,EAAQ,eAC7BrvB,KAAK2Q,gBAAgBke,EAAQ,gBAC7B7uB,KAAK2Q,gBAAgB0e,EAAQ,aAC7BrvB,KAAK2Q,gBAAgBke,EAAQ,cAC7B7uB,KAAK2Q,gBAAgB0e,EAAQ,eAC7BrvB,KAAK2Q,gBAAgB0e,EAAQ,aAC7BrvB,KAAK2Q,gBAAgB0e,EAAQ,eAC7BrvB,KAAK2Q,gBAAgB0e,EAAQ,cAEjCplB,EAAa4kB,GACTW,IACAxvB,KAAK2Q,gBAAgB0e,EAAQ,aAC7BrvB,KAAK2Q,gBAAgB0e,EAAQ,YAEjCC,EAAaD,GACTG,GACAxvB,KAAK2Q,gBAAgB0e,EAAQ,eAE3BnN,GAAKliB,KAAKmiB,OACpB,KACG,IAA+B,IAA3B+M,EAAgBvwB,OAsBvB,MAAMoL,EAAAA,EAAAA,MAAYglB,gBAAgB,0DAA2DF,GAtBxD,CACrC,MAAMW,EAAuD,IAAnCxvB,KAAKmiB,OAAOoI,oBAAkCN,GAAiBjqB,KAAM6uB,GAE3FW,QACMxvB,KAAKgL,MAAM6jB,GAEjB5kB,EAAa4kB,GAEjBS,EAAaJ,EAAgB,IACzBM,IAGAxvB,KAAK2Q,gBAAgBke,EAAQ,eAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,gBAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,aAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,cAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,aAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,WAC7B7uB,KAAK2Q,gBAAgBke,EAAQ,gBAE3B3M,GAAKliB,KAAKmiB,OACpB,CAEA,KACG,IAAoC,YAAhC0M,EAAO3pB,aAAa,QAM3B,MAAM6E,EAAAA,EAAAA,MAAYglB,gBAAgB,iFAAkFF,GALpH,IAAK,MAAMQ,KAAUH,QACXlvB,KAAKgL,MAAMqkB,SACXrvB,KAAKyvB,QAAQJ,EAI3B,CACJ,CC9GA,MAAMK,GAAY5wB,OAAO,yCACzB,SAAS6wB,GAAgBpwB,EAAKqwB,EAAM7oB,GAC5BA,EACAvK,OAAOkD,eAAeH,EAAKqwB,EAAM7oB,UAG1BxH,EAAIqwB,EAEnB,CCEA,MAAMC,GAAe,CACjB7kB,MCdJvG,eAAqB1I,GACjB,MAAM+zB,EAAY,GAUlB,OATK9vB,KAAKmiB,OAAO4N,WACbD,EAAUlvB,KAAK,CACXsJ,OAAQnO,IAGhB+zB,EAAUlvB,KAAK,CACX6C,KAAM,cACNyG,OAAQnO,IAELiE,KAAK0oB,QAAQoH,EACxB,EDGIE,SCFJvrB,eAAwB1I,GACpB,OAAOiE,KAAK0oB,QAAQ,CAChB,CACIxe,OAAQnO,GAEZ,0BAER,EDJIk0B,YCKJxrB,eAA2B1I,GACvB,OAAOiE,KAAK0oB,QAAQ,CAChB,CACIxe,OAAQnO,GAEZ,qCAER,EDXIm0B,METJzrB,eAAqB1I,GACjB,OAAOiE,KAAK0oB,QAAQ,CAChBxe,OAAQnO,GAEhB,EFMI0zB,QELJhrB,eAAuB1I,GAEnB,OADAkvB,GAAoBjrB,KAAMA,KAAK0W,OAAOgS,QAAQwE,eAAeltB,OACtDA,KAAK0oB,QAAQ,CAChBxe,OAAQnO,EAAQwB,cAAcgM,MAEtC,EFCI4mB,IGnBJ1rB,iBAAmC,IAAhB,MAAEqR,GAAOnV,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC5B,OAAOX,KAAK2W,UAAmB,IAAVb,EAAiB,yBAAoC,IAAVA,EAAkB,iCAAmC,QACzH,EHkBIa,SNVJlS,eAAwBzC,GACpB,MAAMouB,EUMN,SAAqBC,EAAaruB,GAClC,MAAM+rB,EAAO,GACb,EAAG,CACC,MAAM,KAAEhxB,EAAI,WAAEgK,EAAU,eAAEE,EAAc,gBAAEC,EAAe,YAAEC,GAAc,EAAI,OAAEC,GAAWb,EAAmBvE,EAAM,YACnH,IAAIsuB,EACJ,MAAMvN,EASE,QATQuN,EAAoBD,EAAYtuB,MAAMwuB,IAE9C,IAAIC,EAGAC,EAJR,MAAa,MAAT1zB,GAEmC,QAA1ByzB,EAAYD,EAAIzZ,YAAgC,IAAd0Z,OAAuB,EAASA,EAAUj0B,iBAAmBwK,EAAWxK,cACnG,MAATQ,GAE0B,QAAxB0zB,EAAWF,EAAI/wB,WAA8B,IAAbixB,OAAsB,EAASA,EAASl0B,iBAAmBwK,EAAWxK,cAE5Gg0B,EAAI/wB,MAAQuH,CAAU,WACK,IAAtBupB,EAA+BA,EAAoB,CAC/D9wB,IAAK,UACLsX,KAAM,UACN,CAAU,MAAT/Z,EAAe,OAAS,OAAQgK,GAErCgnB,EAAKntB,KAAK,CACNmiB,SACA7b,kBACAC,cACAC,WAEJpF,EAAOA,EAAK0F,MAAMT,EACtB,OAAQjF,GACR,OAAO+rB,CACX,CVlCoBF,CAAY7tB,KAAKmiB,OAAOkO,YAAaruB,GACrD,IAAI,IAAIhD,EAAI,EAAGA,EAAIoxB,EAAQzxB,OAAQK,UACzBkjB,GAAKliB,KAAKmiB,cACVuL,GAAe1tB,KAAMowB,EAAQpxB,GAE3C,EMKIqZ,KKZJ5T,iBACI,MAAMisB,EAAM1wB,KAAKmiB,OAAOxd,SACxB,IAAIgsB,EACJ,MAAMzmB,EAAsD,QAA5CymB,EAAqBD,EAAIrnB,qBAAkD,IAAvBsnB,EAAgCA,EAAgDD,EAAInnB,KAClJ3E,EAAgB+oB,GAAczjB,GACpC,GAAmC,IAA/BtF,EAAc9C,MAAMnD,OAQxB,OALIqB,KAAK2Q,gBAAgBzG,EAAQ,OAAQ,CACrCtF,mBACE5E,KAAKmiB,OAAOyO,wBACRlsB,EAA6BgsB,EAAK9rB,GAErCA,CACX,ELDI2P,IMbJ9P,iBACI,MAAMisB,EAAM1wB,KAAKmiB,OAAOxd,SACxB,IAAIgsB,EACJ,MAAMzmB,EAAsD,QAA5CymB,EAAqBD,EAAIrnB,qBAAkD,IAAvBsnB,EAAgCA,EAAgDD,EAAInnB,KAClJ3E,EAAgB+oB,GAAczjB,GACpC,GAAmC,IAA/BtF,EAAc9C,MAAMnD,OAQxB,OALIqB,KAAK2Q,gBAAgBzG,EAAQ,MAAO,CACpCtF,mBACE5E,KAAKmiB,OAAOyO,wBACRlsB,EAA6BwF,EAAO3M,cAAeqH,GAEtDA,CACX,ENAI8S,MObJjT,eAAqBG,GACjB,MAAM8rB,EAAM1wB,KAAKmiB,OAAOxd,SACxB,IAAIgsB,EACJ,MAAMzmB,EAAsD,QAA5CymB,EAAqBD,EAAIrnB,qBAAkD,IAAvBsnB,EAAgCA,EAAgDD,EAAInnB,KACxJ,IAAI5M,EACJ,MAAMk0B,EAA+H,QAA/Gl0B,EAAgC,kBAAlBiI,EAOxC,SAAoC8rB,EAAK1uB,GACrC,MAAMR,EAAKD,EAAmBvE,EAAU0zB,IAExC,OADAlvB,EAAGU,QAAQ,OAAQF,GACZR,CACX,CAXqEsvB,CAA2BJ,EAAK9rB,GAAiBA,SAAoC,IAATjI,EAAkBA,QxE6GnK8H,eAA6CE,GACzC,MAAMnG,EAASmG,EAASrH,YAClBkH,EAAuB,OAAXhG,QAA8B,IAAXA,OAAoB,EAASA,EAAOqG,UAAUL,UAC7E1C,EAAQ0C,SAAmBA,EAAUP,OAC3C,IAAKnC,EACD,MAAM,IAAItE,MAAM,qCAEpB,MAAMgE,EAAKD,EAAmB/C,GAC9B,IAAK,MAAMI,KAAQkD,EACf,IAAK,MAAM/E,KAAQ6B,EAAK0D,MACpBd,EAAGU,QAAQnF,QAAY6B,EAAK8E,QAAQ3G,GAAMoH,MAAMd,GAAI1F,EAAa0F,EAAG7E,EAAOX,eAGnF,OAAO2D,CACX,CwE3HgLuvB,CAA8BL,GAAKM,OAAM,KACjN,MAAM,IAAIxzB,MAAM,2FAA2F,IAE/GwC,KAAK2Q,gBAAgBzG,EAAQ,QAAS,CAClCtF,cAAeisB,GAEvB,EPGInI,QHdJjkB,eAAuB4L,GACnB,MAAM,WAAEyd,GAAe9tB,KAAKmiB,OACtBiO,EAAU,IACfj0B,MAAMC,QAAQiU,GAASA,EAAQ,CAC5BA,IACD9N,SAAS0uB,IACmB,kBAAhBA,EACPb,EAAQxvB,QAAQitB,GAAYC,EAAYmD,IACjC,SAAUA,EACjBb,EAAQxvB,QAAQitB,GAAYC,EAAYmD,EAAYxtB,MAAML,KAAKpE,IAAC,IACrDiyB,KACAjyB,OAGXoxB,EAAQxvB,KAAKqwB,EACjB,IAEJ,IAAI,IAAIjyB,EAAI,EAAGA,EAAIoxB,EAAQzxB,OAAQK,UACzBkjB,GAAKliB,KAAKmiB,cACV6L,GAAchuB,KAAMowB,EAAQpxB,IAEtCgB,KAAK0W,OAAOgS,QAAQM,iBACxB,EGPInoB,MQNJ4D,eAAqB1I,GACjB,IAAKwJ,EAAWxJ,IAAY+M,EAAW/M,GACnC,MAAM,IAAIyB,MAAM,oDAGpB,GADAyM,EAAalO,GACTA,EAAQwB,cAAc8L,gBAAkBtN,EACxC,MAAM,IAAIyB,MAAM,mDAGpB,GADAsW,GAAU/X,I5CGd,SAAuBmO,GACnB,GAAIR,EAAgBQ,GAChB,OAA8C,IAAvCyC,GAAezC,GAAQmC,aAAqBM,GAAezC,GAAQoC,YAAcd,GAAWtB,GAAQvL,OAE/G,IAAIoV,EACJ,MAAMvJ,EAAmE,QAAtDuJ,EAAsB5O,EAAmB+E,UAA6C,IAAxB6J,EAAiCA,EAAsB7J,EAAO3M,cAAcgM,KACvJe,EAAYJ,EAAO3M,cAAcgN,eACvC,OAAsB,OAAdD,QAAoC,IAAdA,OAAuB,EAASA,EAAU0F,cAAgBxF,GAAaF,EAAUE,YAAcA,GAAwC,IAA3BF,EAAUwB,cAAsBxB,EAAUsB,cAAgBpB,EAAUwJ,WAAWrV,MAC7N,C4CVSuyB,CAAcn1B,GACf,MAAM,IAAIyB,MAAM,4DAEpB6S,GAAMrQ,KAAMjE,EAAS,GAAI,wBAC7B,ERNIo1B,gBFJJ1sB,eAA+BoqB,EAAQ3L,GACnC,OAAO0L,GAAkBha,KAAK5U,MAAM,EAAO6uB,EAAQ3L,EACvD,EEGIkO,cFRJ3sB,eAA6BoqB,EAAQ3L,GACjC,OAAO0L,GAAkBha,KAAK5U,MAAM,EAAM6uB,EAAQ3L,EACtD,EEOInmB,KSlBJ0H,eAAoB1I,EAASiG,GAAyI,IAAnI,UAAEqvB,EAAYrxB,KAAKmiB,OAAOkP,UAAS,cAAEC,EAAgBtxB,KAAKmiB,OAAOmP,cAAa,sBAAEC,EAAqB,oBAAEC,GAAqB7wB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EAG3J5E,EAAQ6sB,WACPyI,SACKrxB,KAAKgL,MAAMjP,QAESwE,IAA1BgxB,GACA7kB,GAAkB3Q,EAASw1B,EAA+C,OAAxBC,QAAwD,IAAxBA,EAAiCA,EAAsBD,SAEvIvxB,KAAK2W,SAAS3U,GACfsvB,SfeT7sB,eAA8BiE,GAC1B,IAAK,MAAM9L,KAAK8L,EAASgO,OAAOC,SAASsM,uBAC/Bva,EAASgO,OAAOC,SAASW,MAAM5O,EAAU9L,EAEvD,CelBc60B,CAAezxB,MAE7B,ETKI0xB,OUhBJjtB,eAAsB1I,EAAS41B,GAC3B,MAAMthB,EAAQvU,EAAcC,EAAS,SAAWA,EAAQ+H,QAAU/H,EAClE,IAAKsU,IAAUvU,EAAcuU,EAAO,QAAS,CACzCtT,KAAM,SAEN,MAAM,IAAI60B,UAAU,OAAOvhB,IAAUtU,EAAU,QAAU,gBAA0B,OAAVsU,QAA4B,IAAVA,OAAmB,EAASA,EAAM/T,gDAEjI,GAAIwM,EAAW/M,GAAU,OACzB,MAAM0C,GAAStC,MAAMC,QAAQu1B,GAAeA,EAAc,CACtDA,IACD1pB,QAAQhI,IAAQD,KAAKmiB,OAAO0P,aAkBnC,SAA0B5xB,EAAM6xB,GAC5B,IAAKA,EACD,OAAO,EAEX,MAAMC,EAAY,CACd,UACA,UACA,WAEJ,OAAOD,EAAO1wB,MAAM,KAAKgO,MAAM4iB,GACvBA,EAAY1wB,WAAW,KAEhBrB,EAAKxC,KAAKw0B,SAASD,GACnBD,EAAU11B,SAAS21B,GACnB/xB,EAAKlD,KAAKuE,WAAW0wB,EAAY3pB,OAAO,EAAG2pB,EAAYrzB,OAAS,IAEpEsB,EAAKlD,OAASi1B,GAE7B,CApCkDE,CAAiBjyB,EAAMoQ,EAAMyhB,UAASpqB,MAAM,EAAG2I,EAAMye,cAAWvuB,EAAY,GACpH4xB,EAAaA,KACf,IAAIC,EAEA3zB,EAAME,UAA6C,QAAhCyzB,EAAe/hB,EAAM5R,aAAoC,IAAjB2zB,OAA0B,EAASA,EAAazzB,SAAWF,EAAM/B,OAAM,CAACsgB,EAAGhe,KACtI,IAAIozB,EACJ,OAAOpV,KAAwC,QAAhCoV,EAAe/hB,EAAM5R,aAAoC,IAAjB2zB,OAA0B,EAASA,EAAaxzB,KAAKI,GAAG,OXjB3H,SAAkB+J,EAAItK,GAClB,IAAI4zB,EACgC,QAAnCA,EAAgBtpB,EAAG2mB,WAA0C,IAAlB2C,GAAoCA,EAAcC,UAC9F,MAAMC,EAAY/1B,OAAO0jB,yBAAyBnX,EAAI,QAChDypB,EAAah2B,OAAO0jB,yBAAyBnX,EAAI,SACjD0pB,EAAaj2B,OAAO0jB,yBAAyBnX,EAAI,SACvD,SAASupB,IACL3C,GAAgB5mB,EAAI,OAAQwpB,GAC5B5C,GAAgB5mB,EAAI,QAASypB,GAC7B7C,GAAgB5mB,EAAI,QAAS0pB,EACjC,CACA1pB,EAAG2mB,IAAa,CACZ4C,WAEJ91B,OAAOk2B,iBAAiB3pB,EAAI,CACxBtK,MAAO,CACHmB,cAAc,EACd8C,IAAKA,IAAIjE,GAEbgB,MAAO,CACHG,cAAc,EACd8C,IAAKA,IAAIjE,EAAME,OAAS,iBAAiBF,EAAM,GAAGhB,OAAS,GAC3D2iB,GAAAA,CAAKvjB,GAIG,IAAI81B,EAHE,KAAN91B,EACAy1B,IAGe,OAAfE,QAAsC,IAAfA,GAAwE,QAAtCG,EAAkBH,EAAWpS,WAAqC,IAApBuS,GAAsCA,EAAgB/d,KAAK7L,EAAIlM,EAE9K,GAEJE,KAAM,CACF6C,cAAc,EACd8C,IAAKA,IAAI,OACT0d,GAAAA,CAAKvjB,GACS,SAANA,IACAy1B,IACAvpB,EAAGhM,KAAOF,EAElB,IAGZ,CWrBQ+1B,CAASviB,EAAO9R,EAAevB,EAAUjB,GAAU0C,IACnDuB,KAAK2Q,gBAAgBN,EAAO,SAC5BrQ,KAAK2Q,gBAAgBN,EAAO,UAAS,EAEzCA,EAAMqR,iBAAiB,aAAcyQ,SAC/BnyB,KAAKgL,MAAMjP,GACjBsU,EAAMwiB,oBAAoB,aAAcV,EAC5C,GCpBI,MAAMW,GAAuB,CAC7BjB,aAAa,EACbkB,YAAY,EACZ3Q,MAAO,EACPzd,SAAUI,WAAWJ,SACrB0rB,YAAarM,GACb8J,WC1BkB,CAClB,CACIrwB,KAAM,YACNqd,YAAa,QACbqE,OAAQ,WAEZ,CACI1hB,KAAM,aACNqd,YAAa,QACbqE,OAAQ,aAEZ,CACI1hB,KAAM,cACNqd,YAAa,QACbqE,OAAQ,aAEZ,CACI1hB,KAAM,SACNqd,YAAa,SAEjB,CACIrd,KAAM,SACNqd,YAAa,SAEjB,CACIrd,KAAM,SACNqd,YAAa,UDCjByP,mBAAoBjkB,EAAwBokB,YAC5C4G,eAAe,EACfD,WAAW,EACXtB,WAAW,EACXa,kBAAkB,EAClBrO,cAAeA,IAAIzkB,QAAQwF,WAIrB0vB,GAAsB,IACzBF,GACHlC,kBAAkB,GAEtB,SAASqC,KAAiE,IAApDC,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGwyB,EAAQxyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAGqyB,GAC3C,MAAMruB,EAwEV,SAAqBuuB,EAASj2B,EAAMk2B,GAChC,IAAIC,EAAmBz2B,EACvB,OAA4J,QAApJA,EAAkD,QAA1Cy2B,EAAoBF,EAAQvuB,gBAA4C,IAAtByuB,EAA+BA,EAAoBn2B,IEnH5F8L,EFmHwH9L,EE/GxH,IAHP8L,EAGN3L,SAHY2L,EAAKA,EAAGxL,sBFkH6I,IAATZ,EAAkBA,EAAOw2B,EAASxuB,SEnH1M,IAA6BoE,CFoH7B,CA3EqBsqB,CAAYH,EADuCvyB,UAAAhC,OAAA,EAAAgC,UAAA,QAAAJ,EACxB4yB,GAC5C,MAAO,IACAA,KACAD,EACHvuB,WAER,CAcI,SAAS2uB,KAAoE,IAAxD,cAAEC,EAAa,aAAEC,KAAiBN,GAASvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpE,MAAMwhB,EAAS8Q,GAAaC,EAASJ,GADsCnyB,UAAAhC,OAAA,EAAAgC,UAAA,QAAAJ,GAG3E,IAAI5D,EADJ8kB,GAAgBU,EAAOxd,UAEvB,MAAM+R,EAAsG,QAA5F/Z,EAAwB,OAAjB62B,QAA0C,IAAjBA,EAA0BA,EAAeD,SAAoC,IAAT52B,EAAkBA,EAAO,IAAI8wB,GACjJ,MAAO,CACHgG,IAAKC,GAAevR,EAAQzL,GAAQ+c,IACpC/c,SAER,CAGI,SAASid,GAAST,GAClB,OAAOQ,GAAe,IACf1zB,KAAKmiB,UACL+Q,GACJlzB,KAAK0W,QAAQ+c,GACpB,CACA,SAASG,GAAgBlrB,EAAUmrB,GAC/B,SAASC,IAAgB,QAAA/wB,EAAApC,UAAAhC,OAAN2hB,EAAI,IAAAnkB,MAAA4G,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJqd,EAAIrd,GAAAtC,UAAAsC,GAEnB,OADAwF,EAAYC,EAAUrC,EAASskB,MG7EhBoJ,EH8EE,IAAIF,EAAKG,MAAMtrB,EAAU4X,GAAMnc,MAAKM,gBACvCyd,GAAKxZ,EAASyZ,QACb8R,MG/EZlqB,EAAAA,EAAAA,MAAYmqB,aAAaH,GADhC,IAAmBA,CHkFnB,CAIA,OAHAv3B,OAAOkD,eAAeo0B,EAAQ,OAAQ,CAClCpxB,IAAKA,IAAImxB,EAAKp2B,OAEXq2B,CACX,CACA,SAASJ,GAAevR,GAA+B,IAAvBzL,EAAM/V,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,IAAI8sB,GACzC,MAAM/kB,EAAW,CAAC,EASlB,OARAlM,OAAOuH,OAAO2E,EAAU,CACpByZ,SACAjX,cAAeA,GAAcipB,KAAKzrB,GAClCiI,gBAAiBA,GAAgBwjB,KAAKzrB,GACtCgO,SACA9N,UAAW,CAAC,KACTinB,KAEA,CACHnnB,WACA+qB,IAAK,IACEj3B,OAAO2G,YAAY3G,OAAOC,QAAQozB,IAAczsB,KAAI2W,IAAA,IAAEtc,EAAMg2B,GAAI1Z,EAAA,MAAG,CAC9Dtc,EACAm2B,GAAgBlrB,EAAU+qB,GAC7B,KACLW,MAAOT,GAASQ,KAAKzrB,IAGjC,CI9GA,SAAS7H,GAAM9E,GACX,OAAOu3B,KAAcG,IAAI5yB,MAAM9E,EACnC,CACA,SAASiP,GAAMjP,GACX,OAAOu3B,GADoB3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACH5E,GAAS03B,IAAIzoB,MAAMjP,EACnD,CACA,SAASsc,KACL,OAAOib,GADU3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACO8yB,IAAIpb,MACpC,CACA,SAAS9D,KACL,OAAO+e,GADS3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACQ8yB,IAAIlf,KACpC,CACA,SAASyb,GAASj0B,GACd,OAAOu3B,GADuB3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACN8yB,IAAIzD,SAASj0B,EAC7C,CACA,SAASo1B,GAAgBtC,EAAQ3L,GAC7B,OAAOoQ,GADqC3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACpB8yB,IAAItC,gBAAgBtC,EAAQ3L,EAC5D,CACA,SAASgN,GAAMn0B,GACX,OAAOu3B,GADoB3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACH8yB,IAAIvD,MAAMn0B,EAC1C,CACA0I,eAAekS,GAAS3U,GAAoB,IAAdkxB,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACrC,MAAM,IAAE8yB,EAAG,OAAE/c,GAAW4c,GAAYJ,GACpC,OAAOO,EAAI9c,SAAS3U,GAAMmC,MAAK,IAAIuS,GACvC,CACAjS,eAAeikB,GAAQrY,GAAqB,IAAd6iB,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACrC,MAAM,IAAE8yB,EAAG,OAAE/c,GAAW4c,GAAYJ,GACpC,OAAOO,EAAI/K,QAAQrY,GAAOlM,MAAK,IAAIuS,GACvC,CACA,SAASgB,GAAM9S,EAAesuB,GAC1B,OAAOI,GAAYJ,GAASO,IAAI/b,MAAM9S,EAC1C,CACA,SAASwsB,GAAcvC,EAAQ3L,GAC3B,OAAOoQ,GADmC3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GAClB8yB,IAAIrC,cAAcvC,EAAQ3L,EAC1D,CACA,SAAS+M,GAAYl0B,GACjB,OAAOu3B,GAD0B3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACT8yB,IAAIxD,YAAYl0B,EAChD,CACA,SAASgB,GAAKhB,EAASiG,GAAoB,IAAdkxB,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpC,OAAO2yB,GAAYJ,EAASn3B,GAAS03B,IAAI12B,KAAKhB,EAASiG,EAAMkxB,EACjE,CACA,SAASzD,GAAQ1zB,GAAuB,IAAdm3B,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjC,MAAM,IAAE8yB,EAAG,OAAE/c,GAAW4c,GAAYJ,GAIpC,OAHAxc,EAAOgS,QAAQ0E,iBAAiB,CAC5BljB,OAAQnO,IAEL03B,EAAIhE,QAAQ1zB,EACvB,CACA,SAAS21B,GAAO31B,EAAS41B,GACrB,OAAO2B,GADkC3yB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GACjB8yB,IAAI/B,OAAO31B,EAAS41B,EACpD,CACA,SAASxB,KAAkB,IAAd+C,EAAOvyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,EACpB,OAAO2yB,KAAcG,IAAItD,IAAI+C,EACjC,CCpDA,MAAMmB,GAAY,IACXC,EACHF,ML8CA,WACA,MAAMjS,EAAS8Q,GADWtyB,UAAAhC,OAAA,QAAA4B,IAAAI,UAAA,GAAAA,UAAA,GAAG,CAAC,GAG9B,IAAI4zB,EAGJ,OAJA9S,GAAgBU,EAAOxd,U5EiC3B,SAAmCnG,GAC/B,GAAI+F,EAAgB/F,EAAOqG,UAAUL,WACjC,OAAOhG,EAAOqG,UAAUL,UAAUZ,GAEtC,MAAM4wB,EAAgBh4B,OAAO0jB,yBAAyB1hB,EAAOqG,UAAW,aACxE,IAAI4vB,EACJ,MAAM3wB,EAAU,CACZ+B,mBAAoBA,KAChB4uB,EAAO5wB,EAAoBrF,EAAQsF,EAAQ,EAE/CiC,oBAAqBA,KACYyuB,EACzBh4B,OAAOkD,eAAelB,EAAOqG,UAAW,YAAa2vB,GAErDh4B,OAAOkD,eAAelB,EAAOqG,UAAW,YAAa,CACjDpF,WAAOc,EACPX,cAAc,GAEtB,GAGR60B,EAAO5wB,EAAoBrF,EAAQsF,GACnCtH,OAAOkD,eAAelB,EAAOqG,UAAW,YAAa,CACjDnC,IAAKA,IAAI+xB,EACT70B,cAAc,IAEX60B,EAAK7wB,EAChB,C4EzDI8wB,CAD8E,QAAhEH,EAA+BpS,EAAOxd,SAASrH,mBAA0D,IAAjCi3B,EAA0CA,EAA0DxvB,WAAWvG,QAE9Lk1B,GAAevR,GAAQsR,GAClC,E","sources":["../../../node_modules/@testing-library/user-event/dist/esm/utils/click/isClickableInput.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/isElementType.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/getWindow.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/dataTransfer/Blob.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/dataTransfer/FileList.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/dataTransfer/DataTransfer.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/dataTransfer/Clipboard.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/edit/isContentEditable.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/edit/isEditable.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/edit/maxLength.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/selector.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/isFocusable.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/keyDef/readNextDescriptor.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/level.js","../../../node_modules/@testing-library/user-event/dist/esm/options.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/isDisabled.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/getActiveElement.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/selection.js","../../../node_modules/@testing-library/user-event/dist/esm/event/wrapEvent.js","../../../node_modules/@testing-library/user-event/dist/esm/event/focus.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/findClosest.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/updateSelectionOnFocus.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/registry.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/click.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/cloneEvent.js","../../../node_modules/@testing-library/user-event/dist/esm/document/UI.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/edit/timeValue.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/cursor.js","../../../node_modules/@testing-library/user-event/dist/esm/document/trackValue.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/getTargetTypeAndSelection.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/setSelection.js","../../../node_modules/@testing-library/user-event/dist/esm/event/input.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/getInputRange.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/isVisible.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/moveSelection.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/selectAll.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/setSelectionRange.js","../../../node_modules/@testing-library/user-event/dist/esm/event/radio.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/cut.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/keydown.js","../../../node_modules/@testing-library/user-event/dist/esm/document/getValueOrTextContent.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/focus/getTabDestination.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/keypress.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/keyup.js","../../../node_modules/@testing-library/user-event/dist/esm/event/behavior/paste.js","../../../node_modules/@testing-library/user-event/dist/esm/event/eventMap.js","../../../node_modules/@testing-library/user-event/dist/esm/event/createEvent.js","../../../node_modules/@testing-library/user-event/dist/esm/event/dispatchEvent.js","../../../node_modules/@testing-library/user-event/dist/esm/document/interceptor.js","../../../node_modules/@testing-library/user-event/dist/esm/document/prepareDocument.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/wait.js","../../../node_modules/@testing-library/user-event/dist/esm/system/keyboard.js","../../../node_modules/@testing-library/user-event/dist/esm/keyboard/keyMap.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/buttons.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/device.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/getTreeDiff.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/resolveCaretPosition.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/setSelectionPerMouse.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/shared.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/mouse.js","../../../node_modules/@testing-library/user-event/dist/esm/event/selection/modifySelectionPerMouse.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js","../../../node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js","../../../node_modules/@testing-library/user-event/dist/esm/system/index.js","../../../node_modules/@testing-library/user-event/dist/esm/keyboard/index.js","../../../node_modules/@testing-library/user-event/dist/esm/document/copySelection.js","../../../node_modules/@testing-library/user-event/dist/esm/pointer/parseKeyDef.js","../../../node_modules/@testing-library/user-event/dist/esm/pointer/index.js","../../../node_modules/@testing-library/user-event/dist/esm/utility/selectOptions.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/edit/setFiles.js","../../../node_modules/@testing-library/user-event/dist/esm/setup/api.js","../../../node_modules/@testing-library/user-event/dist/esm/convenience/click.js","../../../node_modules/@testing-library/user-event/dist/esm/convenience/hover.js","../../../node_modules/@testing-library/user-event/dist/esm/convenience/tab.js","../../../node_modules/@testing-library/user-event/dist/esm/keyboard/parseKeyDef.js","../../../node_modules/@testing-library/user-event/dist/esm/clipboard/copy.js","../../../node_modules/@testing-library/user-event/dist/esm/clipboard/cut.js","../../../node_modules/@testing-library/user-event/dist/esm/clipboard/paste.js","../../../node_modules/@testing-library/user-event/dist/esm/utility/clear.js","../../../node_modules/@testing-library/user-event/dist/esm/utility/type.js","../../../node_modules/@testing-library/user-event/dist/esm/utility/upload.js","../../../node_modules/@testing-library/user-event/dist/esm/setup/setup.js","../../../node_modules/@testing-library/user-event/dist/esm/pointer/keyMap.js","../../../node_modules/@testing-library/user-event/dist/esm/utils/misc/getDocumentFromNode.js","../../../node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js","../../../node_modules/@testing-library/user-event/dist/esm/setup/directApi.js","../../../node_modules/@testing-library/user-event/dist/esm/setup/index.js"],"sourcesContent":["import { isElementType } from '../misc/isElementType.js';\n\nvar clickableInputTypes;\n(function(clickableInputTypes) {\n    clickableInputTypes[\"button\"] = \"button\";\n    clickableInputTypes[\"color\"] = \"color\";\n    clickableInputTypes[\"file\"] = \"file\";\n    clickableInputTypes[\"image\"] = \"image\";\n    clickableInputTypes[\"reset\"] = \"reset\";\n    clickableInputTypes[\"submit\"] = \"submit\";\n    clickableInputTypes[\"checkbox\"] = \"checkbox\";\n    clickableInputTypes[\"radio\"] = \"radio\";\n})(clickableInputTypes || (clickableInputTypes = {}));\nfunction isClickableInput(element) {\n    return isElementType(element, 'button') || isElementType(element, 'input') && element.type in clickableInputTypes;\n}\n\nexport { isClickableInput };\n","function isElementType(element, tag, props) {\n    if (element.namespaceURI && element.namespaceURI !== 'http://www.w3.org/1999/xhtml') {\n        return false;\n    }\n    tag = Array.isArray(tag) ? tag : [\n        tag\n    ];\n    // tagName is uppercase in HTMLDocument and lowercase in XMLDocument\n    if (!tag.includes(element.tagName.toLowerCase())) {\n        return false;\n    }\n    if (props) {\n        return Object.entries(props).every(([k, v])=>element[k] === v);\n    }\n    return true;\n}\n\nexport { isElementType };\n","function getWindow(node) {\n    var _node_ownerDocument;\n    if (isDocument(node) && node.defaultView) {\n        return node.defaultView;\n    } else if ((_node_ownerDocument = node.ownerDocument) === null || _node_ownerDocument === void 0 ? void 0 : _node_ownerDocument.defaultView) {\n        return node.ownerDocument.defaultView;\n    }\n    throw new Error(`Could not determine window of node. Node was ${describe(node)}`);\n}\nfunction isDocument(node) {\n    return node.nodeType === 9;\n}\nfunction describe(val) {\n    return typeof val === 'function' ? `function ${val.name}` : val === null ? 'null' : String(val);\n}\n\nexport { getWindow };\n","// jsdom does not implement Blob.text()\nfunction readBlobText(blob, FileReader) {\n    return new Promise((res, rej)=>{\n        const fr = new FileReader();\n        fr.onerror = rej;\n        fr.onabort = rej;\n        fr.onload = ()=>{\n            res(String(fr.result));\n        };\n        fr.readAsText(blob);\n    });\n}\n\nexport { readBlobText };\n","// FileList can not be created per constructor.\nfunction createFileList(window, files) {\n    const list = {\n        ...files,\n        length: files.length,\n        item: (index)=>list[index],\n        [Symbol.iterator]: function* nextFile() {\n            for(let i = 0; i < list.length; i++){\n                yield list[i];\n            }\n        }\n    };\n    list.constructor = window.FileList;\n    // guard for environments without FileList\n    /* istanbul ignore else */ if (window.FileList) {\n        Object.setPrototypeOf(list, window.FileList.prototype);\n    }\n    Object.freeze(list);\n    return list;\n}\n\nexport { createFileList };\n","import { createFileList } from './FileList.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n// DataTransfer is not implemented in jsdom.\n// DataTransfer with FileList is being created by the browser on certain events.\nclass DataTransferItemStub {\n    getAsFile() {\n        return this.file;\n    }\n    getAsString(callback) {\n        if (typeof this.data === 'string') {\n            callback(this.data);\n        }\n    }\n    /* istanbul ignore next */ webkitGetAsEntry() {\n        throw new Error('not implemented');\n    }\n    constructor(dataOrFile, type){\n        _define_property(this, \"kind\", void 0);\n        _define_property(this, \"type\", void 0);\n        _define_property(this, \"file\", null);\n        _define_property(this, \"data\", undefined);\n        if (typeof dataOrFile === 'string') {\n            this.kind = 'string';\n            this.type = String(type);\n            this.data = dataOrFile;\n        } else {\n            this.kind = 'file';\n            this.type = dataOrFile.type;\n            this.file = dataOrFile;\n        }\n    }\n}\nclass DataTransferItemListStub extends Array {\n    add(...args) {\n        const item = new DataTransferItemStub(args[0], args[1]);\n        this.push(item);\n        return item;\n    }\n    clear() {\n        this.splice(0, this.length);\n    }\n    remove(index) {\n        this.splice(index, 1);\n    }\n}\nfunction getTypeMatcher(type, exact) {\n    const [group, sub] = type.split('/');\n    const isGroup = !sub || sub === '*';\n    return (item)=>{\n        return exact ? item.type === (isGroup ? group : type) : isGroup ? item.type.startsWith(`${group}/`) : item.type === group;\n    };\n}\nfunction createDataTransferStub(window) {\n    return new class DataTransferStub {\n        getData(format) {\n            var _this_items_find;\n            const match = (_this_items_find = this.items.find(getTypeMatcher(format, true))) !== null && _this_items_find !== void 0 ? _this_items_find : this.items.find(getTypeMatcher(format, false));\n            let text = '';\n            match === null || match === void 0 ? void 0 : match.getAsString((t)=>{\n                text = t;\n            });\n            return text;\n        }\n        setData(format, data) {\n            const matchIndex = this.items.findIndex(getTypeMatcher(format, true));\n            const item = new DataTransferItemStub(data, format);\n            if (matchIndex >= 0) {\n                this.items.splice(matchIndex, 1, item);\n            } else {\n                this.items.push(item);\n            }\n        }\n        clearData(format) {\n            if (format) {\n                const matchIndex = this.items.findIndex(getTypeMatcher(format, true));\n                if (matchIndex >= 0) {\n                    this.items.remove(matchIndex);\n                }\n            } else {\n                this.items.clear();\n            }\n        }\n        get types() {\n            const t = [];\n            if (this.files.length) {\n                t.push('Files');\n            }\n            this.items.forEach((i)=>t.push(i.type));\n            Object.freeze(t);\n            return t;\n        }\n        /* istanbul ignore next */ setDragImage() {}\n        constructor(){\n            _define_property(this, \"dropEffect\", 'none');\n            _define_property(this, \"effectAllowed\", 'uninitialized');\n            _define_property(this, \"items\", new DataTransferItemListStub());\n            _define_property(this, \"files\", createFileList(window, []));\n        }\n    }();\n}\nfunction createDataTransfer(window, files = []) {\n    // Use real DataTransfer if available\n    const dt = typeof window.DataTransfer === 'undefined' ? createDataTransferStub(window) : /* istanbul ignore next */ new window.DataTransfer();\n    Object.defineProperty(dt, 'files', {\n        get: ()=>createFileList(window, files)\n    });\n    return dt;\n}\nfunction getBlobFromDataTransferItem(window, item) {\n    if (item.kind === 'file') {\n        return item.getAsFile();\n    }\n    let data = '';\n    item.getAsString((s)=>{\n        data = s;\n    });\n    return new window.Blob([\n        data\n    ], {\n        type: item.type\n    });\n}\n\nexport { createDataTransfer, getBlobFromDataTransferItem };\n","import { getWindow } from '../misc/getWindow.js';\nimport { readBlobText } from './Blob.js';\nimport { createDataTransfer, getBlobFromDataTransferItem } from './DataTransfer.js';\n\n// Clipboard is not available in jsdom\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n// MDN lists string|Blob|Promise<Blob|string> as possible types in ClipboardItemData\n// lib.dom.d.ts lists only Promise<Blob|string>\n// https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem#syntax\nfunction createClipboardItem(window, ...blobs) {\n    const dataMap = Object.fromEntries(blobs.map((b)=>[\n            typeof b === 'string' ? 'text/plain' : b.type,\n            Promise.resolve(b)\n        ]));\n    // use real ClipboardItem if available\n    /* istanbul ignore if */ if (typeof window.ClipboardItem !== 'undefined') {\n        return new window.ClipboardItem(dataMap);\n    }\n    return new class ClipboardItem {\n        get types() {\n            return Array.from(Object.keys(this.data));\n        }\n        async getType(type) {\n            const value = await this.data[type];\n            if (!value) {\n                throw new Error(`${type} is not one of the available MIME types on this item.`);\n            }\n            return value instanceof window.Blob ? value : new window.Blob([\n                value\n            ], {\n                type\n            });\n        }\n        constructor(d){\n            _define_property(this, \"data\", void 0);\n            this.data = d;\n        }\n    }(dataMap);\n}\nconst ClipboardStubControl = Symbol('Manage ClipboardSub');\nfunction createClipboardStub(window, control) {\n    return Object.assign(new class Clipboard extends window.EventTarget {\n        async read() {\n            return Array.from(this.items);\n        }\n        async readText() {\n            let text = '';\n            for (const item of this.items){\n                const type = item.types.includes('text/plain') ? 'text/plain' : item.types.find((t)=>t.startsWith('text/'));\n                if (type) {\n                    text += await item.getType(type).then((b)=>readBlobText(b, window.FileReader));\n                }\n            }\n            return text;\n        }\n        async write(data) {\n            this.items = data;\n        }\n        async writeText(text) {\n            this.items = [\n                createClipboardItem(window, text)\n            ];\n        }\n        constructor(...args){\n            super(...args);\n            _define_property(this, \"items\", []);\n        }\n    }(), {\n        [ClipboardStubControl]: control\n    });\n}\nfunction isClipboardStub(clipboard) {\n    return !!(clipboard === null || clipboard === void 0 ? void 0 : clipboard[ClipboardStubControl]);\n}\nfunction attachClipboardStubToView(window) {\n    if (isClipboardStub(window.navigator.clipboard)) {\n        return window.navigator.clipboard[ClipboardStubControl];\n    }\n    const realClipboard = Object.getOwnPropertyDescriptor(window.navigator, 'clipboard');\n    let stub;\n    const control = {\n        resetClipboardStub: ()=>{\n            stub = createClipboardStub(window, control);\n        },\n        detachClipboardStub: ()=>{\n            /* istanbul ignore if */ if (realClipboard) {\n                Object.defineProperty(window.navigator, 'clipboard', realClipboard);\n            } else {\n                Object.defineProperty(window.navigator, 'clipboard', {\n                    value: undefined,\n                    configurable: true\n                });\n            }\n        }\n    };\n    stub = createClipboardStub(window, control);\n    Object.defineProperty(window.navigator, 'clipboard', {\n        get: ()=>stub,\n        configurable: true\n    });\n    return stub[ClipboardStubControl];\n}\nfunction resetClipboardStubOnView(window) {\n    if (isClipboardStub(window.navigator.clipboard)) {\n        window.navigator.clipboard[ClipboardStubControl].resetClipboardStub();\n    }\n}\nfunction detachClipboardStubFromView(window) {\n    if (isClipboardStub(window.navigator.clipboard)) {\n        window.navigator.clipboard[ClipboardStubControl].detachClipboardStub();\n    }\n}\nasync function readDataTransferFromClipboard(document) {\n    const window = document.defaultView;\n    const clipboard = window === null || window === void 0 ? void 0 : window.navigator.clipboard;\n    const items = clipboard && await clipboard.read();\n    if (!items) {\n        throw new Error('The Clipboard API is unavailable.');\n    }\n    const dt = createDataTransfer(window);\n    for (const item of items){\n        for (const type of item.types){\n            dt.setData(type, await item.getType(type).then((b)=>readBlobText(b, window.FileReader)));\n        }\n    }\n    return dt;\n}\nasync function writeDataTransferToClipboard(document, clipboardData) {\n    const window = getWindow(document);\n    const clipboard = window.navigator.clipboard;\n    const items = [];\n    for(let i = 0; i < clipboardData.items.length; i++){\n        const dtItem = clipboardData.items[i];\n        const blob = getBlobFromDataTransferItem(window, dtItem);\n        items.push(createClipboardItem(window, blob));\n    }\n    const written = clipboard && await clipboard.write(items).then(()=>true, // Can happen with other implementations that e.g. require permissions\n    /* istanbul ignore next */ ()=>false);\n    if (!written) {\n        throw new Error('The Clipboard API is unavailable.');\n    }\n}\nconst g = globalThis;\n/* istanbul ignore else */ if (typeof g.afterEach === 'function') {\n    g.afterEach(()=>resetClipboardStubOnView(globalThis.window));\n}\n/* istanbul ignore else */ if (typeof g.afterAll === 'function') {\n    g.afterAll(()=>detachClipboardStubFromView(globalThis.window));\n}\n\nexport { attachClipboardStubToView, createClipboardItem, detachClipboardStubFromView, readDataTransferFromClipboard, resetClipboardStubOnView, writeDataTransferToClipboard };\n","//jsdom is not supporting isContentEditable\nfunction isContentEditable(element) {\n    return element.hasAttribute('contenteditable') && (element.getAttribute('contenteditable') == 'true' || element.getAttribute('contenteditable') == '');\n}\n/**\n * If a node is a contenteditable or inside one, return that element.\n */ function getContentEditable(node) {\n    const element = getElement(node);\n    return element && (element.closest('[contenteditable=\"\"]') || element.closest('[contenteditable=\"true\"]'));\n}\nfunction getElement(node) {\n    return node.nodeType === 1 ? node : node.parentElement;\n}\n\nexport { getContentEditable, isContentEditable };\n","import { isElementType } from '../misc/isElementType.js';\nimport { isContentEditable } from './isContentEditable.js';\n\nfunction isEditable(element) {\n    return isEditableInputOrTextArea(element) && !element.readOnly || isContentEditable(element);\n}\nvar editableInputTypes;\n(function(editableInputTypes) {\n    editableInputTypes[\"text\"] = \"text\";\n    editableInputTypes[\"date\"] = \"date\";\n    editableInputTypes[\"datetime-local\"] = \"datetime-local\";\n    editableInputTypes[\"email\"] = \"email\";\n    editableInputTypes[\"month\"] = \"month\";\n    editableInputTypes[\"number\"] = \"number\";\n    editableInputTypes[\"password\"] = \"password\";\n    editableInputTypes[\"search\"] = \"search\";\n    editableInputTypes[\"tel\"] = \"tel\";\n    editableInputTypes[\"time\"] = \"time\";\n    editableInputTypes[\"url\"] = \"url\";\n    editableInputTypes[\"week\"] = \"week\";\n})(editableInputTypes || (editableInputTypes = {}));\nfunction isEditableInputOrTextArea(element) {\n    return isElementType(element, 'textarea') || isElementType(element, 'input') && element.type in editableInputTypes;\n}\n\nexport { isEditable, isEditableInputOrTextArea };\n","import { isElementType } from '../misc/isElementType.js';\n\nvar maxLengthSupportedTypes;\n(function(maxLengthSupportedTypes) {\n    maxLengthSupportedTypes[\"email\"] = \"email\";\n    maxLengthSupportedTypes[\"password\"] = \"password\";\n    maxLengthSupportedTypes[\"search\"] = \"search\";\n    maxLengthSupportedTypes[\"telephone\"] = \"telephone\";\n    maxLengthSupportedTypes[\"text\"] = \"text\";\n    maxLengthSupportedTypes[\"url\"] = \"url\";\n})(maxLengthSupportedTypes || (maxLengthSupportedTypes = {}));\n// can't use .maxLength property because of a jsdom bug:\n// https://github.com/jsdom/jsdom/issues/2927\nfunction getMaxLength(element) {\n    var _element_getAttribute;\n    const attr = (_element_getAttribute = element.getAttribute('maxlength')) !== null && _element_getAttribute !== void 0 ? _element_getAttribute : '';\n    return /^\\d+$/.test(attr) && Number(attr) >= 0 ? Number(attr) : undefined;\n}\nfunction supportsMaxLength(element) {\n    return isElementType(element, 'textarea') || isElementType(element, 'input') && element.type in maxLengthSupportedTypes;\n}\n\nexport { getMaxLength, supportsMaxLength };\n","const FOCUSABLE_SELECTOR = [\n    'input:not([type=hidden]):not([disabled])',\n    'button:not([disabled])',\n    'select:not([disabled])',\n    'textarea:not([disabled])',\n    '[contenteditable=\"\"]',\n    '[contenteditable=\"true\"]',\n    'a[href]',\n    '[tabindex]:not([disabled])'\n].join(', ');\n\nexport { FOCUSABLE_SELECTOR };\n","import { FOCUSABLE_SELECTOR } from './selector.js';\n\nfunction isFocusable(element) {\n    return element.matches(FOCUSABLE_SELECTOR);\n}\n\nexport { isFocusable };\n","var bracketDict;\n(function(bracketDict) {\n    bracketDict[\"{\"] = \"}\";\n    bracketDict[\"[\"] = \"]\";\n})(bracketDict || (bracketDict = {}));\n/**\n * Read the next key definition from user input\n *\n * Describe key per `{descriptor}` or `[descriptor]`.\n * Everything else will be interpreted as a single character as descriptor - e.g. `a`.\n * Brackets `{` and `[` can be escaped by doubling - e.g. `foo[[bar` translates to `foo[bar`.\n * A previously pressed key can be released per `{/descriptor}`.\n * Keeping the key pressed can be written as `{descriptor>}`.\n * When keeping the key pressed you can choose how long the key is pressed `{descriptor>3}`.\n * You can then release the key per `{descriptor>3/}` or keep it pressed and continue with the next key.\n */ function readNextDescriptor(text, context) {\n    let pos = 0;\n    const startBracket = text[pos] in bracketDict ? text[pos] : '';\n    pos += startBracket.length;\n    const isEscapedChar = new RegExp(`^\\\\${startBracket}{2}`).test(text);\n    const type = isEscapedChar ? '' : startBracket;\n    return {\n        type,\n        ...type === '' ? readPrintableChar(text, pos, context) : readTag(text, pos, type, context)\n    };\n}\nfunction readPrintableChar(text, pos, context) {\n    const descriptor = text[pos];\n    assertDescriptor(descriptor, text, pos, context);\n    pos += descriptor.length;\n    return {\n        consumedLength: pos,\n        descriptor,\n        releasePrevious: false,\n        releaseSelf: true,\n        repeat: 1\n    };\n}\nfunction readTag(text, pos, startBracket, context) {\n    var _text_slice_match, _text_slice_match1;\n    const releasePreviousModifier = text[pos] === '/' ? '/' : '';\n    pos += releasePreviousModifier.length;\n    const escapedDescriptor = startBracket === '{' && text[pos] === '\\\\';\n    pos += Number(escapedDescriptor);\n    const descriptor = escapedDescriptor ? text[pos] : (_text_slice_match = text.slice(pos).match(startBracket === '{' ? /^\\w+|^[^}>/]/ : /^\\w+/)) === null || _text_slice_match === void 0 ? void 0 : _text_slice_match[0];\n    assertDescriptor(descriptor, text, pos, context);\n    pos += descriptor.length;\n    var _text_slice_match_;\n    const repeatModifier = (_text_slice_match_ = (_text_slice_match1 = text.slice(pos).match(/^>\\d+/)) === null || _text_slice_match1 === void 0 ? void 0 : _text_slice_match1[0]) !== null && _text_slice_match_ !== void 0 ? _text_slice_match_ : '';\n    pos += repeatModifier.length;\n    const releaseSelfModifier = text[pos] === '/' || !repeatModifier && text[pos] === '>' ? text[pos] : '';\n    pos += releaseSelfModifier.length;\n    const expectedEndBracket = bracketDict[startBracket];\n    const endBracket = text[pos] === expectedEndBracket ? expectedEndBracket : '';\n    if (!endBracket) {\n        throw new Error(getErrorMessage([\n            !repeatModifier && 'repeat modifier',\n            !releaseSelfModifier && 'release modifier',\n            `\"${expectedEndBracket}\"`\n        ].filter(Boolean).join(' or '), text[pos], text, context));\n    }\n    pos += endBracket.length;\n    return {\n        consumedLength: pos,\n        descriptor,\n        releasePrevious: !!releasePreviousModifier,\n        repeat: repeatModifier ? Math.max(Number(repeatModifier.substr(1)), 1) : 1,\n        releaseSelf: hasReleaseSelf(releaseSelfModifier, repeatModifier)\n    };\n}\nfunction assertDescriptor(descriptor, text, pos, context) {\n    if (!descriptor) {\n        throw new Error(getErrorMessage('key descriptor', text[pos], text, context));\n    }\n}\nfunction hasReleaseSelf(releaseSelfModifier, repeatModifier) {\n    if (releaseSelfModifier) {\n        return releaseSelfModifier === '/';\n    }\n    if (repeatModifier) {\n        return false;\n    }\n}\nfunction getErrorMessage(expected, found, text, context) {\n    return `Expected ${expected} but found \"${found !== null && found !== void 0 ? found : ''}\" in \"${text}\"\n    See ${context === 'pointer' ? `https://testing-library.com/docs/user-event/pointer#pressing-a-button-or-touching-the-screen` : `https://testing-library.com/docs/user-event/keyboard`}\n    for more information about how userEvent parses your input.`;\n}\n\nexport { readNextDescriptor };\n","var ApiLevel;\n(function(ApiLevel) {\n    ApiLevel[ApiLevel[\"Trigger\"] = 2] = \"Trigger\";\n    ApiLevel[ApiLevel[\"Call\"] = 1] = \"Call\";\n})(ApiLevel || (ApiLevel = {}));\nfunction setLevelRef(instance, level) {\n    instance.levelRefs[level] = {};\n}\nfunction getLevelRef(instance, level) {\n    return instance.levelRefs[level];\n}\n\nexport { ApiLevel, getLevelRef, setLevelRef };\n","var PointerEventsCheckLevel;\n(function(PointerEventsCheckLevel) {\n    /**\n   * Check pointer events on every user interaction that triggers a bunch of events.\n   * E.g. once for releasing a mouse button even though this triggers `pointerup`, `mouseup`, `click`, etc...\n   */ PointerEventsCheckLevel[PointerEventsCheckLevel[\"EachTrigger\"] = 4] = \"EachTrigger\";\n    /** Check each target once per call to pointer (related) API */ PointerEventsCheckLevel[PointerEventsCheckLevel[\"EachApiCall\"] = 2] = \"EachApiCall\";\n    /** Check each event target once */ PointerEventsCheckLevel[PointerEventsCheckLevel[\"EachTarget\"] = 1] = \"EachTarget\";\n    /** No pointer events check */ PointerEventsCheckLevel[PointerEventsCheckLevel[\"Never\"] = 0] = \"Never\";\n})(PointerEventsCheckLevel || (PointerEventsCheckLevel = {}));\n\nexport { PointerEventsCheckLevel };\n","import { isElementType } from './isElementType.js';\n\n// This should probably just rely on the :disabled pseudo-class, but JSDOM doesn't implement it properly.\nfunction isDisabled(element) {\n    for(let el = element; el; el = el.parentElement){\n        if (isElementType(el, [\n            'button',\n            'input',\n            'select',\n            'textarea',\n            'optgroup',\n            'option'\n        ])) {\n            if (el.hasAttribute('disabled')) {\n                return true;\n            }\n        } else if (isElementType(el, 'fieldset')) {\n            var _el_querySelector;\n            if (el.hasAttribute('disabled') && !((_el_querySelector = el.querySelector(':scope > legend')) === null || _el_querySelector === void 0 ? void 0 : _el_querySelector.contains(element))) {\n                return true;\n            }\n        } else if (el.tagName.includes('-')) {\n            if (el.constructor.formAssociated && el.hasAttribute('disabled')) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nexport { isDisabled };\n","import { isDisabled } from '../misc/isDisabled.js';\n\nfunction getActiveElement(document) {\n    const activeElement = document.activeElement;\n    if (activeElement === null || activeElement === void 0 ? void 0 : activeElement.shadowRoot) {\n        return getActiveElement(activeElement.shadowRoot);\n    } else {\n        // Browser does not yield disabled elements as document.activeElement - jsdom does\n        if (isDisabled(activeElement)) {\n            return document.ownerDocument ? /* istanbul ignore next */ document.ownerDocument.body : document.body;\n        }\n        return activeElement;\n    }\n}\nfunction getActiveElementOrBody(document) {\n    var _getActiveElement;\n    return (_getActiveElement = getActiveElement(document)) !== null && _getActiveElement !== void 0 ? _getActiveElement : /* istanbul ignore next */ document.body;\n}\n\nexport { getActiveElement, getActiveElementOrBody };\n","import { isClickableInput } from '../click/isClickableInput.js';\nimport { isEditableInputOrTextArea } from '../edit/isEditable.js';\n\n/**\n * Determine if the element has its own selection implementation\n * and does not interact with the Document Selection API.\n */ function hasOwnSelection(node) {\n    return isElement(node) && isEditableInputOrTextArea(node);\n}\nfunction hasNoSelection(node) {\n    return isElement(node) && isClickableInput(node);\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\n\nexport { hasNoSelection, hasOwnSelection };\n","import { getConfig } from '@testing-library/dom';\n\nfunction wrapEvent(cb, _element) {\n    return getConfig().eventWrapper(cb);\n}\n\nexport { wrapEvent };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getActiveElement } from '../utils/focus/getActiveElement.js';\nimport { isFocusable } from '../utils/focus/isFocusable.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport { findClosest } from '../utils/misc/findClosest.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { updateSelectionOnFocus } from './selection/updateSelectionOnFocus.js';\nimport { wrapEvent } from './wrapEvent.js';\n\n/**\n * Focus closest focusable element.\n */ function focusElement(element) {\n    const target = findClosest(element, isFocusable);\n    const activeElement = getActiveElement(element.ownerDocument);\n    if ((target !== null && target !== void 0 ? target : element.ownerDocument.body) === activeElement) {\n        return;\n    } else if (target) {\n        wrapEvent(()=>target.focus());\n    } else {\n        wrapEvent(()=>activeElement === null || activeElement === void 0 ? void 0 : activeElement.blur());\n    }\n    updateSelectionOnFocus(target !== null && target !== void 0 ? target : element.ownerDocument.body);\n}\nfunction blurElement(element) {\n    if (!isFocusable(element)) return;\n    const wasActive = getActiveElement(element.ownerDocument) === element;\n    if (!wasActive) return;\n    wrapEvent(()=>element.blur());\n}\n\nexport { blurElement, focusElement };\n","function findClosest(element, callback) {\n    let el = element;\n    do {\n        if (callback(el)) {\n            return el;\n        }\n        el = el.parentElement;\n    }while (el && el !== element.ownerDocument.body)\n    return undefined;\n}\n\nexport { findClosest };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { getContentEditable } from '../../utils/edit/isContentEditable.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\n\n/**\n * Reset the Document Selection when moving focus into an element\n * with own selection implementation.\n */ function updateSelectionOnFocus(element) {\n    const selection = element.ownerDocument.getSelection();\n    /* istanbul ignore if */ if (!(selection === null || selection === void 0 ? void 0 : selection.focusNode)) {\n        return;\n    }\n    // If the focus moves inside an element with own selection implementation,\n    // the document selection will be this element.\n    // But if the focused element is inside a contenteditable,\n    // 1) a collapsed selection will be retained.\n    // 2) other selections will be replaced by a cursor\n    //  2.a) at the start of the first child if it is a text node\n    //  2.b) at the start of the contenteditable.\n    if (hasOwnSelection(element)) {\n        const contenteditable = getContentEditable(selection.focusNode);\n        if (contenteditable) {\n            if (!selection.isCollapsed) {\n                var _contenteditable_firstChild;\n                const focusNode = ((_contenteditable_firstChild = contenteditable.firstChild) === null || _contenteditable_firstChild === void 0 ? void 0 : _contenteditable_firstChild.nodeType) === 3 ? contenteditable.firstChild : contenteditable;\n                selection.setBaseAndExtent(focusNode, 0, focusNode, 0);\n            }\n        } else {\n            selection.setBaseAndExtent(element, 0, element, 0);\n        }\n    }\n}\n\nexport { updateSelectionOnFocus };\n","const behavior = {};\n\nexport { behavior };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { isElementType } from '../../utils/misc/isElementType.js';\nimport { getWindow } from '../../utils/misc/getWindow.js';\nimport { isFocusable } from '../../utils/focus/isFocusable.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport { cloneEvent } from '../../utils/misc/cloneEvent.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { focusElement, blurElement } from '../focus.js';\nimport { behavior } from './registry.js';\n\nbehavior.click = (event, target, instance)=>{\n    const context = target.closest('button,input,label,select,textarea');\n    const control = context && isElementType(context, 'label') && context.control;\n    if (control) {\n        return ()=>{\n            if (isFocusable(control)) {\n                focusElement(control);\n            }\n            instance.dispatchEvent(control, cloneEvent(event));\n        };\n    } else if (isElementType(target, 'input', {\n        type: 'file'\n    })) {\n        return ()=>{\n            // blur fires when the file selector pops up\n            blurElement(target);\n            target.dispatchEvent(new (getWindow(target)).Event('fileDialog'));\n            // focus fires after the file selector has been closed\n            focusElement(target);\n        };\n    }\n};\n","function cloneEvent(event) {\n    return new event.constructor(event.type, event);\n}\n\nexport { cloneEvent };\n","const UIValue = Symbol('Displayed value in UI');\nconst UISelection = Symbol('Displayed selection in UI');\nconst InitialValue = Symbol('Initial value to compare on blur');\nfunction isUIValue(value) {\n    return typeof value === 'object' && UIValue in value;\n}\nfunction isUISelectionStart(start) {\n    return !!start && typeof start === 'object' && UISelection in start;\n}\nfunction setUIValue(element, value) {\n    if (element[InitialValue] === undefined) {\n        element[InitialValue] = element.value;\n    }\n    element[UIValue] = value;\n    // eslint-disable-next-line no-new-wrappers\n    element.value = Object.assign(new String(value), {\n        [UIValue]: true\n    });\n}\nfunction getUIValue(element) {\n    return element[UIValue] === undefined ? element.value : String(element[UIValue]);\n}\n/** Flag the IDL value as clean. This does not change the value.*/ function setUIValueClean(element) {\n    element[UIValue] = undefined;\n}\nfunction clearInitialValue(element) {\n    element[InitialValue] = undefined;\n}\nfunction getInitialValue(element) {\n    return element[InitialValue];\n}\nfunction setUISelectionRaw(element, selection) {\n    element[UISelection] = selection;\n}\nfunction setUISelection(element, { focusOffset: focusOffsetParam, anchorOffset: anchorOffsetParam = focusOffsetParam }, mode = 'replace') {\n    const valueLength = getUIValue(element).length;\n    const sanitizeOffset = (o)=>Math.max(0, Math.min(valueLength, o));\n    const anchorOffset = mode === 'replace' || element[UISelection] === undefined ? sanitizeOffset(anchorOffsetParam) : element[UISelection].anchorOffset;\n    const focusOffset = sanitizeOffset(focusOffsetParam);\n    const startOffset = Math.min(anchorOffset, focusOffset);\n    const endOffset = Math.max(anchorOffset, focusOffset);\n    element[UISelection] = {\n        anchorOffset,\n        focusOffset\n    };\n    if (element.selectionStart === startOffset && element.selectionEnd === endOffset) {\n        return;\n    }\n    // eslint-disable-next-line no-new-wrappers\n    const startObj = Object.assign(new Number(startOffset), {\n        [UISelection]: true\n    });\n    try {\n        element.setSelectionRange(startObj, endOffset);\n    } catch  {\n    // DOMException for invalid state is expected when calling this\n    // on an element without support for setSelectionRange\n    }\n}\nfunction getUISelection(element) {\n    var _element_selectionStart, _element_selectionEnd, _element_UISelection;\n    const sel = (_element_UISelection = element[UISelection]) !== null && _element_UISelection !== void 0 ? _element_UISelection : {\n        anchorOffset: (_element_selectionStart = element.selectionStart) !== null && _element_selectionStart !== void 0 ? _element_selectionStart : 0,\n        focusOffset: (_element_selectionEnd = element.selectionEnd) !== null && _element_selectionEnd !== void 0 ? _element_selectionEnd : 0\n    };\n    return {\n        ...sel,\n        startOffset: Math.min(sel.anchorOffset, sel.focusOffset),\n        endOffset: Math.max(sel.anchorOffset, sel.focusOffset)\n    };\n}\nfunction hasUISelection(element) {\n    return !!element[UISelection];\n}\n/** Flag the IDL selection as clean. This does not change the selection. */ function setUISelectionClean(element) {\n    element[UISelection] = undefined;\n}\n\nexport { clearInitialValue, getInitialValue, getUISelection, getUIValue, hasUISelection, isUISelectionStart, isUIValue, setUISelection, setUISelectionClean, setUISelectionRaw, setUIValue, setUIValueClean };\n","const parseInt = globalThis.parseInt;\nfunction buildTimeValue(value) {\n    const onlyDigitsValue = value.replace(/\\D/g, '');\n    if (onlyDigitsValue.length < 2) {\n        return value;\n    }\n    const firstDigit = parseInt(onlyDigitsValue[0], 10);\n    const secondDigit = parseInt(onlyDigitsValue[1], 10);\n    if (firstDigit >= 3 || firstDigit === 2 && secondDigit >= 4) {\n        let index;\n        if (firstDigit >= 3) {\n            index = 1;\n        } else {\n            index = 2;\n        }\n        return build(onlyDigitsValue, index);\n    }\n    if (value.length === 2) {\n        return value;\n    }\n    return build(onlyDigitsValue, 2);\n}\nfunction build(onlyDigitsValue, index) {\n    const hours = onlyDigitsValue.slice(0, index);\n    const validHours = Math.min(parseInt(hours, 10), 23);\n    const minuteCharacters = onlyDigitsValue.slice(index);\n    const parsedMinutes = parseInt(minuteCharacters, 10);\n    const validMinutes = Math.min(parsedMinutes, 59);\n    return `${validHours.toString().padStart(2, '0')}:${validMinutes.toString().padStart(2, '0')}`;\n}\nfunction isValidDateOrTimeValue(element, value) {\n    const clone = element.cloneNode();\n    clone.value = value;\n    return clone.value === value;\n}\n\nexport { buildTimeValue, isValidDateOrTimeValue };\n","import { isContentEditable } from '../edit/isContentEditable.js';\nimport { isElementType } from '../misc/isElementType.js';\n\nfunction getNextCursorPosition(node, offset, direction, inputType) {\n    // The behavior at text node zero offset is inconsistent.\n    // When walking backwards:\n    // Firefox always moves to zero offset and jumps over last offset.\n    // Chrome jumps over zero offset per default but over last offset when Shift is pressed.\n    // The cursor always moves to zero offset if the focus area (contenteditable or body) ends there.\n    // When walking foward both ignore zero offset.\n    // When walking over input elements the cursor moves before or after that element.\n    // When walking over line breaks the cursor moves inside any following text node.\n    if (isTextNode(node) && offset + direction >= 0 && offset + direction <= node.nodeValue.length) {\n        return {\n            node,\n            offset: offset + direction\n        };\n    }\n    const nextNode = getNextCharacterContentNode(node, offset, direction);\n    if (nextNode) {\n        if (isTextNode(nextNode)) {\n            return {\n                node: nextNode,\n                offset: direction > 0 ? Math.min(1, nextNode.nodeValue.length) : Math.max(nextNode.nodeValue.length - 1, 0)\n            };\n        } else if (isElementType(nextNode, 'br')) {\n            const nextPlusOne = getNextCharacterContentNode(nextNode, undefined, direction);\n            if (!nextPlusOne) {\n                // The behavior when there is no possible cursor position beyond the line break is inconsistent.\n                // In Chrome outside of contenteditable moving before a leading line break is possible.\n                // A leading line break can still be removed per deleteContentBackward.\n                // A trailing line break on the other hand is not removed by deleteContentForward.\n                if (direction < 0 && inputType === 'deleteContentBackward') {\n                    return {\n                        node: nextNode.parentNode,\n                        offset: getOffset(nextNode)\n                    };\n                }\n                return undefined;\n            } else if (isTextNode(nextPlusOne)) {\n                return {\n                    node: nextPlusOne,\n                    offset: direction > 0 ? 0 : nextPlusOne.nodeValue.length\n                };\n            } else if (direction < 0 && isElementType(nextPlusOne, 'br')) {\n                return {\n                    node: nextNode.parentNode,\n                    offset: getOffset(nextNode)\n                };\n            } else {\n                return {\n                    node: nextPlusOne.parentNode,\n                    offset: getOffset(nextPlusOne) + (direction > 0 ? 0 : 1)\n                };\n            }\n        } else {\n            return {\n                node: nextNode.parentNode,\n                offset: getOffset(nextNode) + (direction > 0 ? 1 : 0)\n            };\n        }\n    }\n}\nfunction getNextCharacterContentNode(node, offset, direction) {\n    const nextOffset = Number(offset) + (direction < 0 ? -1 : 0);\n    if (offset !== undefined && isElement(node) && nextOffset >= 0 && nextOffset < node.children.length) {\n        node = node.children[nextOffset];\n    }\n    return walkNodes(node, direction === 1 ? 'next' : 'previous', isTreatedAsCharacterContent);\n}\nfunction isTreatedAsCharacterContent(node) {\n    if (isTextNode(node)) {\n        return true;\n    }\n    if (isElement(node)) {\n        if (isElementType(node, [\n            'input',\n            'textarea'\n        ])) {\n            return node.type !== 'hidden';\n        } else if (isElementType(node, 'br')) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getOffset(node) {\n    let i = 0;\n    while(node.previousSibling){\n        i++;\n        node = node.previousSibling;\n    }\n    return i;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isTextNode(node) {\n    return node.nodeType === 3;\n}\nfunction walkNodes(node, direction, callback) {\n    for(;;){\n        var _node_ownerDocument;\n        const sibling = node[`${direction}Sibling`];\n        if (sibling) {\n            node = getDescendant(sibling, direction === 'next' ? 'first' : 'last');\n            if (callback(node)) {\n                return node;\n            }\n        } else if (node.parentNode && (!isElement(node.parentNode) || !isContentEditable(node.parentNode) && node.parentNode !== ((_node_ownerDocument = node.ownerDocument) === null || _node_ownerDocument === void 0 ? void 0 : _node_ownerDocument.body))) {\n            node = node.parentNode;\n        } else {\n            break;\n        }\n    }\n}\nfunction getDescendant(node, direction) {\n    while(node.hasChildNodes()){\n        node = node[`${direction}Child`];\n    }\n    return node;\n}\n\nexport { getNextCursorPosition };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { setUIValueClean, setUISelection, hasUISelection } from './UI.js';\n\nconst TrackChanges = Symbol('Track programmatic changes for React workaround');\n// When the input event happens in the browser, React executes all event handlers\n// and if they change state of a controlled value, nothing happens.\n// But when we trigger the event handlers in test environment with React@17,\n// the changes are rolled back before the state update is applied.\n// This results in a reset cursor.\n// There might be a better way to work around if we figure out\n// why the batched update is executed differently in our test environment.\nfunction isReact17Element(element) {\n    return Object.getOwnPropertyNames(element).some((k)=>k.startsWith('__react')) && getWindow(element).REACT_VERSION === 17;\n}\nfunction startTrackValue(element) {\n    if (!isReact17Element(element)) {\n        return;\n    }\n    element[TrackChanges] = {\n        previousValue: String(element.value),\n        tracked: []\n    };\n}\nfunction trackOrSetValue(element, v) {\n    var _element_TrackChanges_tracked, _element_TrackChanges;\n    (_element_TrackChanges = element[TrackChanges]) === null || _element_TrackChanges === void 0 ? void 0 : (_element_TrackChanges_tracked = _element_TrackChanges.tracked) === null || _element_TrackChanges_tracked === void 0 ? void 0 : _element_TrackChanges_tracked.push(v);\n    if (!element[TrackChanges]) {\n        setUIValueClean(element);\n        setUISelection(element, {\n            focusOffset: v.length\n        });\n    }\n}\nfunction commitValueAfterInput(element, cursorOffset) {\n    var _changes_tracked;\n    const changes = element[TrackChanges];\n    element[TrackChanges] = undefined;\n    if (!(changes === null || changes === void 0 ? void 0 : (_changes_tracked = changes.tracked) === null || _changes_tracked === void 0 ? void 0 : _changes_tracked.length)) {\n        return;\n    }\n    const isJustReactStateUpdate = changes.tracked.length === 2 && changes.tracked[0] === changes.previousValue && changes.tracked[1] === element.value;\n    if (!isJustReactStateUpdate) {\n        setUIValueClean(element);\n    }\n    if (hasUISelection(element)) {\n        setUISelection(element, {\n            focusOffset: isJustReactStateUpdate ? cursorOffset : element.value.length\n        });\n    }\n}\n\nexport { commitValueAfterInput, startTrackValue, trackOrSetValue };\n","import { getUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { getContentEditable } from '../../utils/edit/isContentEditable.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\n\n/**\n * Determine which selection logic and selection ranges to consider.\n */ function getTargetTypeAndSelection(node) {\n    const element = getElement(node);\n    if (element && hasOwnSelection(element)) {\n        return {\n            type: 'input',\n            selection: getUISelection(element)\n        };\n    }\n    const selection = element === null || element === void 0 ? void 0 : element.ownerDocument.getSelection();\n    // It is possible to extend a single-range selection into a contenteditable.\n    // This results in the range acting like a range outside of contenteditable.\n    const isCE = getContentEditable(node) && (selection === null || selection === void 0 ? void 0 : selection.anchorNode) && getContentEditable(selection.anchorNode);\n    return {\n        type: isCE ? 'contenteditable' : 'default',\n        selection\n    };\n}\nfunction getElement(node) {\n    return node.nodeType === 1 ? node : node.parentElement;\n}\n\nexport { getTargetTypeAndSelection };\n","import { setUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { getTargetTypeAndSelection } from './getTargetTypeAndSelection.js';\n\n/**\n * Set the selection\n */ function setSelection({ focusNode, focusOffset, anchorNode = focusNode, anchorOffset = focusOffset }) {\n    var _anchorNode_ownerDocument_getSelection, _anchorNode_ownerDocument;\n    const typeAndSelection = getTargetTypeAndSelection(focusNode);\n    if (typeAndSelection.type === 'input') {\n        return setUISelection(focusNode, {\n            anchorOffset,\n            focusOffset\n        });\n    }\n    (_anchorNode_ownerDocument = anchorNode.ownerDocument) === null || _anchorNode_ownerDocument === void 0 ? void 0 : (_anchorNode_ownerDocument_getSelection = _anchorNode_ownerDocument.getSelection()) === null || _anchorNode_ownerDocument_getSelection === void 0 ? void 0 : _anchorNode_ownerDocument_getSelection.setBaseAndExtent(anchorNode, anchorOffset, focusNode, focusOffset);\n}\n\nexport { setSelection };\n","import { setUIValue, clearInitialValue, getUIValue } from '../document/UI.js';\nimport '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport { isValidDateOrTimeValue, buildTimeValue } from '../utils/edit/timeValue.js';\nimport '../utils/edit/isEditable.js';\nimport { supportsMaxLength, getMaxLength } from '../utils/edit/maxLength.js';\nimport { getNextCursorPosition } from '../utils/focus/cursor.js';\nimport { isElementType } from '../utils/misc/isElementType.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { commitValueAfterInput } from '../document/trackValue.js';\nimport { getInputRange } from './selection/getInputRange.js';\nimport { setSelection } from './selection/setSelection.js';\n\nfunction isDateOrTime(element) {\n    return isElementType(element, 'input') && [\n        'date',\n        'time'\n    ].includes(element.type);\n}\nfunction input(instance, element, data, inputType = 'insertText') {\n    const inputRange = getInputRange(element);\n    /* istanbul ignore if */ if (!inputRange) {\n        return;\n    }\n    // There is no `beforeinput` event on `date` and `time` input\n    if (!isDateOrTime(element)) {\n        const unprevented = instance.dispatchUIEvent(element, 'beforeinput', {\n            inputType,\n            data\n        });\n        if (!unprevented) {\n            return;\n        }\n    }\n    if ('startContainer' in inputRange) {\n        editContenteditable(instance, element, inputRange, data, inputType);\n    } else {\n        editInputElement(instance, element, inputRange, data, inputType);\n    }\n}\nfunction editContenteditable(instance, element, inputRange, data, inputType) {\n    let del = false;\n    if (!inputRange.collapsed) {\n        del = true;\n        inputRange.deleteContents();\n    } else if ([\n        'deleteContentBackward',\n        'deleteContentForward'\n    ].includes(inputType)) {\n        const nextPosition = getNextCursorPosition(inputRange.startContainer, inputRange.startOffset, inputType === 'deleteContentBackward' ? -1 : 1, inputType);\n        if (nextPosition) {\n            del = true;\n            const delRange = inputRange.cloneRange();\n            if (delRange.comparePoint(nextPosition.node, nextPosition.offset) < 0) {\n                delRange.setStart(nextPosition.node, nextPosition.offset);\n            } else {\n                delRange.setEnd(nextPosition.node, nextPosition.offset);\n            }\n            delRange.deleteContents();\n        }\n    }\n    if (data) {\n        if (inputRange.endContainer.nodeType === 3) {\n            const offset = inputRange.endOffset;\n            inputRange.endContainer.insertData(offset, data);\n            inputRange.setStart(inputRange.endContainer, offset + data.length);\n            inputRange.setEnd(inputRange.endContainer, offset + data.length);\n        } else {\n            const text = element.ownerDocument.createTextNode(data);\n            inputRange.insertNode(text);\n            inputRange.setStart(text, data.length);\n            inputRange.setEnd(text, data.length);\n        }\n    }\n    if (del || data) {\n        instance.dispatchUIEvent(element, 'input', {\n            inputType\n        });\n    }\n}\nfunction editInputElement(instance, element, inputRange, data, inputType) {\n    let dataToInsert = data;\n    if (supportsMaxLength(element)) {\n        const maxLength = getMaxLength(element);\n        if (maxLength !== undefined && data.length > 0) {\n            const spaceUntilMaxLength = maxLength - element.value.length;\n            if (spaceUntilMaxLength > 0) {\n                dataToInsert = data.substring(0, spaceUntilMaxLength);\n            } else {\n                return;\n            }\n        }\n    }\n    const { newValue, newOffset, oldValue } = calculateNewValue(dataToInsert, element, inputRange, inputType);\n    if (newValue === oldValue && newOffset === inputRange.startOffset && newOffset === inputRange.endOffset) {\n        return;\n    }\n    if (isElementType(element, 'input', {\n        type: 'number'\n    }) && !isValidNumberInput(newValue)) {\n        return;\n    }\n    setUIValue(element, newValue);\n    setSelection({\n        focusNode: element,\n        anchorOffset: newOffset,\n        focusOffset: newOffset\n    });\n    if (isDateOrTime(element)) {\n        if (isValidDateOrTimeValue(element, newValue)) {\n            commitInput(instance, element, newOffset, {});\n            instance.dispatchUIEvent(element, 'change');\n            clearInitialValue(element);\n        }\n    } else {\n        commitInput(instance, element, newOffset, {\n            data,\n            inputType\n        });\n    }\n}\nfunction calculateNewValue(inputData, node, { startOffset, endOffset }, inputType) {\n    const value = getUIValue(node);\n    const prologEnd = Math.max(0, startOffset === endOffset && inputType === 'deleteContentBackward' ? startOffset - 1 : startOffset);\n    const prolog = value.substring(0, prologEnd);\n    const epilogStart = Math.min(value.length, startOffset === endOffset && inputType === 'deleteContentForward' ? startOffset + 1 : endOffset);\n    const epilog = value.substring(epilogStart, value.length);\n    let newValue = `${prolog}${inputData}${epilog}`;\n    let newOffset = prologEnd + inputData.length;\n    if (isElementType(node, 'input', {\n        type: 'time'\n    })) {\n        const builtValue = buildTimeValue(newValue);\n        if (builtValue !== '' && isValidDateOrTimeValue(node, builtValue)) {\n            newValue = builtValue;\n            newOffset = builtValue.length;\n        }\n    }\n    return {\n        oldValue: value,\n        newValue,\n        newOffset\n    };\n}\nfunction commitInput(instance, element, newOffset, inputInit) {\n    instance.dispatchUIEvent(element, 'input', inputInit);\n    commitValueAfterInput(element, newOffset);\n}\nfunction isValidNumberInput(value) {\n    var _value_match, _value_match1;\n    // the browser allows some invalid input but not others\n    // it allows up to two '-' at any place before any 'e' or one directly following 'e'\n    // it allows one '.' at any place before e\n    const valueParts = value.split('e', 2);\n    return !(/[^\\d.\\-e]/.test(value) || Number((_value_match = value.match(/-/g)) === null || _value_match === void 0 ? void 0 : _value_match.length) > 2 || Number((_value_match1 = value.match(/\\./g)) === null || _value_match1 === void 0 ? void 0 : _value_match1.length) > 1 || valueParts[1] && !/^-?\\d*$/.test(valueParts[1]));\n}\n\nexport { input };\n","import { getTargetTypeAndSelection } from './getTargetTypeAndSelection.js';\n\n/**\n * Get the range that would be overwritten by input.\n */ function getInputRange(focusNode) {\n    const typeAndSelection = getTargetTypeAndSelection(focusNode);\n    if (typeAndSelection.type === 'input') {\n        return typeAndSelection.selection;\n    } else if (typeAndSelection.type === 'contenteditable') {\n        var _typeAndSelection_selection;\n        // Multi-range on contenteditable edits the first selection instead of the last\n        return (_typeAndSelection_selection = typeAndSelection.selection) === null || _typeAndSelection_selection === void 0 ? void 0 : _typeAndSelection_selection.getRangeAt(0);\n    }\n}\n\nexport { getInputRange };\n","import { getWindow } from './getWindow.js';\n\nfunction isVisible(element) {\n    const window = getWindow(element);\n    for(let el = element; el === null || el === void 0 ? void 0 : el.ownerDocument; el = el.parentElement){\n        const { display, visibility } = window.getComputedStyle(el);\n        if (display === 'none') {\n            return false;\n        }\n        if (visibility === 'hidden') {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport { isVisible };\n","import { getUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { getNextCursorPosition } from '../../utils/focus/cursor.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { setSelection } from './setSelection.js';\n\n/**\n * Move the selection\n */ function moveSelection(node, direction) {\n    // TODO: implement shift\n    if (hasOwnSelection(node)) {\n        const selection = getUISelection(node);\n        setSelection({\n            focusNode: node,\n            focusOffset: selection.startOffset === selection.endOffset ? selection.focusOffset + direction : direction < 0 ? selection.startOffset : selection.endOffset\n        });\n    } else {\n        const selection = node.ownerDocument.getSelection();\n        if (!(selection === null || selection === void 0 ? void 0 : selection.focusNode)) {\n            return;\n        }\n        if (selection.isCollapsed) {\n            const nextPosition = getNextCursorPosition(selection.focusNode, selection.focusOffset, direction);\n            if (nextPosition) {\n                setSelection({\n                    focusNode: nextPosition.node,\n                    focusOffset: nextPosition.offset\n                });\n            }\n        } else {\n            selection[direction < 0 ? 'collapseToStart' : 'collapseToEnd']();\n        }\n    }\n}\n\nexport { moveSelection };\n","import { getUIValue, getUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { getContentEditable } from '../../utils/edit/isContentEditable.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { setSelection } from './setSelection.js';\n\n/**\n * Expand a selection like the browser does when pressing Ctrl+A.\n */ function selectAll(target) {\n    if (hasOwnSelection(target)) {\n        return setSelection({\n            focusNode: target,\n            anchorOffset: 0,\n            focusOffset: getUIValue(target).length\n        });\n    }\n    var _getContentEditable;\n    const focusNode = (_getContentEditable = getContentEditable(target)) !== null && _getContentEditable !== void 0 ? _getContentEditable : target.ownerDocument.body;\n    setSelection({\n        focusNode,\n        anchorOffset: 0,\n        focusOffset: focusNode.childNodes.length\n    });\n}\nfunction isAllSelected(target) {\n    if (hasOwnSelection(target)) {\n        return getUISelection(target).startOffset === 0 && getUISelection(target).endOffset === getUIValue(target).length;\n    }\n    var _getContentEditable;\n    const focusNode = (_getContentEditable = getContentEditable(target)) !== null && _getContentEditable !== void 0 ? _getContentEditable : target.ownerDocument.body;\n    const selection = target.ownerDocument.getSelection();\n    return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === focusNode && selection.focusNode === focusNode && selection.anchorOffset === 0 && selection.focusOffset === focusNode.childNodes.length;\n}\n\nexport { isAllSelected, selectAll };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { isContentEditable } from '../../utils/edit/isContentEditable.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { setSelection } from './setSelection.js';\n\n/**\n * Backward-compatible selection.\n *\n * Handles input elements and contenteditable if it only contains a single text node.\n */ function setSelectionRange(element, anchorOffset, focusOffset) {\n    var _element_firstChild;\n    if (hasOwnSelection(element)) {\n        return setSelection({\n            focusNode: element,\n            anchorOffset,\n            focusOffset\n        });\n    }\n    /* istanbul ignore else */ if (isContentEditable(element) && ((_element_firstChild = element.firstChild) === null || _element_firstChild === void 0 ? void 0 : _element_firstChild.nodeType) === 3) {\n        return setSelection({\n            focusNode: element.firstChild,\n            anchorOffset,\n            focusOffset\n        });\n    }\n    /* istanbul ignore next */ throw new Error('Not implemented. The result of this interaction is unreliable.');\n}\n\nexport { setSelectionRange };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { isDisabled } from '../utils/misc/isDisabled.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { focusElement } from './focus.js';\n\nfunction walkRadio(instance, el, direction) {\n    const window = getWindow(el);\n    const group = Array.from(el.ownerDocument.querySelectorAll(el.name ? `input[type=\"radio\"][name=\"${window.CSS.escape(el.name)}\"]` : `input[type=\"radio\"][name=\"\"], input[type=\"radio\"]:not([name])`));\n    for(let i = group.findIndex((e)=>e === el) + direction;; i += direction){\n        if (!group[i]) {\n            i = direction > 0 ? 0 : group.length - 1;\n        }\n        if (group[i] === el) {\n            return;\n        }\n        if (isDisabled(group[i])) {\n            continue;\n        }\n        focusElement(group[i]);\n        instance.dispatchUIEvent(group[i], 'click');\n    }\n}\n\nexport { walkRadio };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { isEditable } from '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { input } from '../input.js';\nimport { behavior } from './registry.js';\n\nbehavior.cut = (event, target, instance)=>{\n    return ()=>{\n        if (isEditable(target)) {\n            input(instance, target, '', 'deleteByCut');\n        }\n    };\n};\n","import { getUIValue, setUISelection } from '../../document/UI.js';\nimport { getValueOrTextContent } from '../../document/getValueOrTextContent.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { isContentEditable } from '../../utils/edit/isContentEditable.js';\nimport { isEditable } from '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { isElementType } from '../../utils/misc/isElementType.js';\nimport { getTabDestination } from '../../utils/focus/getTabDestination.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { focusElement } from '../focus.js';\nimport { input } from '../input.js';\nimport { moveSelection } from '../selection/moveSelection.js';\nimport { selectAll } from '../selection/selectAll.js';\nimport { setSelectionRange } from '../selection/setSelectionRange.js';\nimport { walkRadio } from '../radio.js';\nimport { behavior } from './registry.js';\n\nbehavior.keydown = (event, target, instance)=>{\n    var _keydownBehavior_event_key;\n    var _keydownBehavior_event_key1;\n    return (_keydownBehavior_event_key1 = (_keydownBehavior_event_key = keydownBehavior[event.key]) === null || _keydownBehavior_event_key === void 0 ? void 0 : _keydownBehavior_event_key.call(keydownBehavior, event, target, instance)) !== null && _keydownBehavior_event_key1 !== void 0 ? _keydownBehavior_event_key1 : combinationBehavior(event, target, instance);\n};\nconst keydownBehavior = {\n    ArrowDown: (event, target, instance)=>{\n        /* istanbul ignore else */ if (isElementType(target, 'input', {\n            type: 'radio'\n        })) {\n            return ()=>walkRadio(instance, target, -1);\n        }\n    },\n    ArrowLeft: (event, target, instance)=>{\n        if (isElementType(target, 'input', {\n            type: 'radio'\n        })) {\n            return ()=>walkRadio(instance, target, -1);\n        }\n        return ()=>moveSelection(target, -1);\n    },\n    ArrowRight: (event, target, instance)=>{\n        if (isElementType(target, 'input', {\n            type: 'radio'\n        })) {\n            return ()=>walkRadio(instance, target, 1);\n        }\n        return ()=>moveSelection(target, 1);\n    },\n    ArrowUp: (event, target, instance)=>{\n        /* istanbul ignore else */ if (isElementType(target, 'input', {\n            type: 'radio'\n        })) {\n            return ()=>walkRadio(instance, target, 1);\n        }\n    },\n    Backspace: (event, target, instance)=>{\n        if (isEditable(target)) {\n            return ()=>{\n                input(instance, target, '', 'deleteContentBackward');\n            };\n        }\n    },\n    Delete: (event, target, instance)=>{\n        if (isEditable(target)) {\n            return ()=>{\n                input(instance, target, '', 'deleteContentForward');\n            };\n        }\n    },\n    End: (event, target)=>{\n        if (isElementType(target, [\n            'input',\n            'textarea'\n        ]) || isContentEditable(target)) {\n            return ()=>{\n                var _getValueOrTextContent;\n                var _getValueOrTextContent_length;\n                const newPos = (_getValueOrTextContent_length = (_getValueOrTextContent = getValueOrTextContent(target)) === null || _getValueOrTextContent === void 0 ? void 0 : _getValueOrTextContent.length) !== null && _getValueOrTextContent_length !== void 0 ? _getValueOrTextContent_length : /* istanbul ignore next */ 0;\n                setSelectionRange(target, newPos, newPos);\n            };\n        }\n    },\n    Home: (event, target)=>{\n        if (isElementType(target, [\n            'input',\n            'textarea'\n        ]) || isContentEditable(target)) {\n            return ()=>{\n                setSelectionRange(target, 0, 0);\n            };\n        }\n    },\n    PageDown: (event, target)=>{\n        if (isElementType(target, [\n            'input'\n        ])) {\n            return ()=>{\n                const newPos = getUIValue(target).length;\n                setSelectionRange(target, newPos, newPos);\n            };\n        }\n    },\n    PageUp: (event, target)=>{\n        if (isElementType(target, [\n            'input'\n        ])) {\n            return ()=>{\n                setSelectionRange(target, 0, 0);\n            };\n        }\n    },\n    Tab: (event, target, instance)=>{\n        return ()=>{\n            const dest = getTabDestination(target, instance.system.keyboard.modifiers.Shift);\n            focusElement(dest);\n            if (hasOwnSelection(dest)) {\n                setUISelection(dest, {\n                    anchorOffset: 0,\n                    focusOffset: dest.value.length\n                });\n            }\n        };\n    }\n};\nconst combinationBehavior = (event, target, instance)=>{\n    if (event.code === 'KeyA' && instance.system.keyboard.modifiers.Control) {\n        return ()=>selectAll(target);\n    }\n};\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport { isContentEditable } from '../utils/edit/isContentEditable.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { getUIValue } from './UI.js';\n\nfunction getValueOrTextContent(element) {\n    // istanbul ignore if\n    if (!element) {\n        return null;\n    }\n    if (isContentEditable(element)) {\n        return element.textContent;\n    }\n    return getUIValue(element);\n}\n\nexport { getValueOrTextContent };\n","import { isDisabled } from '../misc/isDisabled.js';\nimport { isElementType } from '../misc/isElementType.js';\nimport { isVisible } from '../misc/isVisible.js';\nimport { FOCUSABLE_SELECTOR } from './selector.js';\n\nfunction getTabDestination(activeElement, shift) {\n    const document = activeElement.ownerDocument;\n    const focusableElements = document.querySelectorAll(FOCUSABLE_SELECTOR);\n    const enabledElements = Array.from(focusableElements).filter((el)=>el === activeElement || !(Number(el.getAttribute('tabindex')) < 0 || isDisabled(el)));\n    // tabindex has no effect if the active element has negative tabindex\n    if (Number(activeElement.getAttribute('tabindex')) >= 0) {\n        enabledElements.sort((a, b)=>{\n            const i = Number(a.getAttribute('tabindex'));\n            const j = Number(b.getAttribute('tabindex'));\n            if (i === j) {\n                return 0;\n            } else if (i === 0) {\n                return 1;\n            } else if (j === 0) {\n                return -1;\n            }\n            return i - j;\n        });\n    }\n    const checkedRadio = {};\n    let prunedElements = [\n        document.body\n    ];\n    const activeRadioGroup = isElementType(activeElement, 'input', {\n        type: 'radio'\n    }) ? activeElement.name : undefined;\n    enabledElements.forEach((currentElement)=>{\n        const el = currentElement;\n        // For radio groups keep only the active radio\n        // If there is no active radio, keep only the checked radio\n        // If there is no checked radio, treat like everything else\n        if (isElementType(el, 'input', {\n            type: 'radio'\n        }) && el.name) {\n            // If the active element is part of the group, add only that\n            if (el === activeElement) {\n                prunedElements.push(el);\n                return;\n            } else if (el.name === activeRadioGroup) {\n                return;\n            }\n            // If we stumble upon a checked radio, remove the others\n            if (el.checked) {\n                prunedElements = prunedElements.filter((e)=>!isElementType(e, 'input', {\n                        type: 'radio',\n                        name: el.name\n                    }));\n                prunedElements.push(el);\n                checkedRadio[el.name] = el;\n                return;\n            }\n            // If we already found the checked one, skip\n            if (typeof checkedRadio[el.name] !== 'undefined') {\n                return;\n            }\n        }\n        prunedElements.push(el);\n    });\n    for(let index = prunedElements.findIndex((el)=>el === activeElement);;){\n        index += shift ? -1 : 1;\n        // loop at overflow\n        if (index === prunedElements.length) {\n            index = 0;\n        } else if (index === -1) {\n            index = prunedElements.length - 1;\n        }\n        if (prunedElements[index] === activeElement || prunedElements[index] === document.body || isVisible(prunedElements[index])) {\n            return prunedElements[index];\n        }\n    }\n}\n\nexport { getTabDestination };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { isContentEditable } from '../../utils/edit/isContentEditable.js';\nimport { isEditable } from '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { isElementType } from '../../utils/misc/isElementType.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { input } from '../input.js';\nimport { behavior } from './registry.js';\n\nbehavior.keypress = (event, target, instance)=>{\n    if (event.key === 'Enter') {\n        if (isElementType(target, 'button') || isElementType(target, 'input') && ClickInputOnEnter.includes(target.type) || isElementType(target, 'a') && Boolean(target.href)) {\n            return ()=>{\n                instance.dispatchUIEvent(target, 'click');\n            };\n        } else if (isElementType(target, 'input')) {\n            const form = target.form;\n            const submit = form === null || form === void 0 ? void 0 : form.querySelector('input[type=\"submit\"], button:not([type]), button[type=\"submit\"]');\n            if (submit) {\n                return ()=>instance.dispatchUIEvent(submit, 'click');\n            } else if (form && SubmitSingleInputOnEnter.includes(target.type) && form.querySelectorAll('input').length === 1) {\n                return ()=>instance.dispatchUIEvent(form, 'submit');\n            } else {\n                return;\n            }\n        }\n    }\n    if (isEditable(target)) {\n        const inputType = event.key === 'Enter' ? isContentEditable(target) && !instance.system.keyboard.modifiers.Shift ? 'insertParagraph' : 'insertLineBreak' : 'insertText';\n        const inputData = event.key === 'Enter' ? '\\n' : event.key;\n        return ()=>input(instance, target, inputData, inputType);\n    }\n};\nconst ClickInputOnEnter = [\n    'button',\n    'color',\n    'file',\n    'image',\n    'reset',\n    'submit'\n];\nconst SubmitSingleInputOnEnter = [\n    'email',\n    'month',\n    'password',\n    'search',\n    'tel',\n    'text',\n    'url',\n    'week'\n];\n","import { isClickableInput } from '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { behavior } from './registry.js';\n\nbehavior.keyup = (event, target, instance)=>{\n    var _keyupBehavior_event_key;\n    return (_keyupBehavior_event_key = keyupBehavior[event.key]) === null || _keyupBehavior_event_key === void 0 ? void 0 : _keyupBehavior_event_key.call(keyupBehavior, event, target, instance);\n};\nconst keyupBehavior = {\n    ' ': (event, target, instance)=>{\n        if (isClickableInput(target)) {\n            return ()=>instance.dispatchUIEvent(target, 'click');\n        }\n    }\n};\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport { isEditable } from '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { input } from '../input.js';\nimport { behavior } from './registry.js';\n\nbehavior.paste = (event, target, instance)=>{\n    if (isEditable(target)) {\n        return ()=>{\n            var _event_clipboardData;\n            const insertData = (_event_clipboardData = event.clipboardData) === null || _event_clipboardData === void 0 ? void 0 : _event_clipboardData.getData('text');\n            if (insertData) {\n                input(instance, target, insertData, 'insertFromPaste');\n            }\n        };\n    }\n};\n","const eventMap = {\n    auxclick: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    beforeinput: {\n        EventType: 'InputEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    click: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    contextmenu: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    copy: {\n        EventType: 'ClipboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    change: {\n        EventType: 'Event',\n        defaultInit: {\n            bubbles: true,\n            cancelable: false\n        }\n    },\n    cut: {\n        EventType: 'ClipboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    dblclick: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    keydown: {\n        EventType: 'KeyboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    keypress: {\n        EventType: 'KeyboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    keyup: {\n        EventType: 'KeyboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    paste: {\n        EventType: 'ClipboardEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    input: {\n        EventType: 'InputEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: false,\n            composed: true\n        }\n    },\n    mousedown: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    mouseenter: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: false,\n            cancelable: false,\n            composed: true\n        }\n    },\n    mouseleave: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: false,\n            cancelable: false,\n            composed: true\n        }\n    },\n    mousemove: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    mouseout: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    mouseover: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    mouseup: {\n        EventType: 'MouseEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointerover: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointerenter: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: false,\n            cancelable: false\n        }\n    },\n    pointerdown: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointermove: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointerup: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointercancel: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: false,\n            composed: true\n        }\n    },\n    pointerout: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n        }\n    },\n    pointerleave: {\n        EventType: 'PointerEvent',\n        defaultInit: {\n            bubbles: false,\n            cancelable: false\n        }\n    },\n    submit: {\n        EventType: 'Event',\n        defaultInit: {\n            bubbles: true,\n            cancelable: true\n        }\n    }\n};\nfunction getEventClass(type) {\n    return eventMap[type].EventType;\n}\nconst mouseEvents = [\n    'MouseEvent',\n    'PointerEvent'\n];\nfunction isMouseEvent(type) {\n    return mouseEvents.includes(getEventClass(type));\n}\nfunction isKeyboardEvent(type) {\n    return getEventClass(type) === 'KeyboardEvent';\n}\n\nexport { eventMap, isKeyboardEvent, isMouseEvent };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { eventMap } from './eventMap.js';\n\nconst eventInitializer = {\n    ClipboardEvent: [\n        initClipboardEvent\n    ],\n    Event: [],\n    InputEvent: [\n        initUIEvent,\n        initInputEvent\n    ],\n    MouseEvent: [\n        initUIEvent,\n        initUIEventModififiers,\n        initMouseEvent\n    ],\n    PointerEvent: [\n        initUIEvent,\n        initUIEventModififiers,\n        initMouseEvent,\n        initPointerEvent\n    ],\n    KeyboardEvent: [\n        initUIEvent,\n        initUIEventModififiers,\n        initKeyboardEvent\n    ]\n};\nfunction createEvent(type, target, init) {\n    const window = getWindow(target);\n    const { EventType, defaultInit } = eventMap[type];\n    const event = new (getEventConstructors(window))[EventType](type, defaultInit);\n    eventInitializer[EventType].forEach((f)=>f(event, init !== null && init !== void 0 ? init : {}));\n    return event;\n}\n/* istanbul ignore next */ function getEventConstructors(window) {\n    var _window_Event;\n    /* eslint-disable @typescript-eslint/no-unnecessary-condition, @typescript-eslint/no-extraneous-class */ const Event = (_window_Event = window.Event) !== null && _window_Event !== void 0 ? _window_Event : class Event {\n    };\n    var _window_AnimationEvent;\n    const AnimationEvent = (_window_AnimationEvent = window.AnimationEvent) !== null && _window_AnimationEvent !== void 0 ? _window_AnimationEvent : class AnimationEvent extends Event {\n    };\n    var _window_ClipboardEvent;\n    const ClipboardEvent = (_window_ClipboardEvent = window.ClipboardEvent) !== null && _window_ClipboardEvent !== void 0 ? _window_ClipboardEvent : class ClipboardEvent extends Event {\n    };\n    var _window_PopStateEvent;\n    const PopStateEvent = (_window_PopStateEvent = window.PopStateEvent) !== null && _window_PopStateEvent !== void 0 ? _window_PopStateEvent : class PopStateEvent extends Event {\n    };\n    var _window_ProgressEvent;\n    const ProgressEvent = (_window_ProgressEvent = window.ProgressEvent) !== null && _window_ProgressEvent !== void 0 ? _window_ProgressEvent : class ProgressEvent extends Event {\n    };\n    var _window_TransitionEvent;\n    const TransitionEvent = (_window_TransitionEvent = window.TransitionEvent) !== null && _window_TransitionEvent !== void 0 ? _window_TransitionEvent : class TransitionEvent extends Event {\n    };\n    var _window_UIEvent;\n    const UIEvent = (_window_UIEvent = window.UIEvent) !== null && _window_UIEvent !== void 0 ? _window_UIEvent : class UIEvent extends Event {\n    };\n    var _window_CompositionEvent;\n    const CompositionEvent = (_window_CompositionEvent = window.CompositionEvent) !== null && _window_CompositionEvent !== void 0 ? _window_CompositionEvent : class CompositionEvent extends UIEvent {\n    };\n    var _window_FocusEvent;\n    const FocusEvent = (_window_FocusEvent = window.FocusEvent) !== null && _window_FocusEvent !== void 0 ? _window_FocusEvent : class FocusEvent extends UIEvent {\n    };\n    var _window_InputEvent;\n    const InputEvent = (_window_InputEvent = window.InputEvent) !== null && _window_InputEvent !== void 0 ? _window_InputEvent : class InputEvent extends UIEvent {\n    };\n    var _window_KeyboardEvent;\n    const KeyboardEvent = (_window_KeyboardEvent = window.KeyboardEvent) !== null && _window_KeyboardEvent !== void 0 ? _window_KeyboardEvent : class KeyboardEvent extends UIEvent {\n    };\n    var _window_MouseEvent;\n    const MouseEvent = (_window_MouseEvent = window.MouseEvent) !== null && _window_MouseEvent !== void 0 ? _window_MouseEvent : class MouseEvent extends UIEvent {\n    };\n    var _window_DragEvent;\n    const DragEvent = (_window_DragEvent = window.DragEvent) !== null && _window_DragEvent !== void 0 ? _window_DragEvent : class DragEvent extends MouseEvent {\n    };\n    var _window_PointerEvent;\n    const PointerEvent = (_window_PointerEvent = window.PointerEvent) !== null && _window_PointerEvent !== void 0 ? _window_PointerEvent : class PointerEvent extends MouseEvent {\n    };\n    var _window_TouchEvent;\n    const TouchEvent = (_window_TouchEvent = window.TouchEvent) !== null && _window_TouchEvent !== void 0 ? _window_TouchEvent : class TouchEvent extends UIEvent {\n    };\n    /* eslint-enable @typescript-eslint/no-unnecessary-condition, @typescript-eslint/no-extraneous-class */ return {\n        Event,\n        AnimationEvent,\n        ClipboardEvent,\n        PopStateEvent,\n        ProgressEvent,\n        TransitionEvent,\n        UIEvent,\n        CompositionEvent,\n        FocusEvent,\n        InputEvent,\n        KeyboardEvent,\n        MouseEvent,\n        DragEvent,\n        PointerEvent,\n        TouchEvent\n    };\n}\nfunction assignProps(obj, props) {\n    for (const [key, value] of Object.entries(props)){\n        Object.defineProperty(obj, key, {\n            get: ()=>value !== null && value !== void 0 ? value : null\n        });\n    }\n}\nfunction sanitizeNumber(n) {\n    return Number(n !== null && n !== void 0 ? n : 0);\n}\nfunction initClipboardEvent(event, { clipboardData }) {\n    assignProps(event, {\n        clipboardData\n    });\n}\nfunction initInputEvent(event, { data, inputType, isComposing }) {\n    assignProps(event, {\n        data,\n        isComposing: Boolean(isComposing),\n        inputType: String(inputType)\n    });\n}\nfunction initUIEvent(event, { view, detail }) {\n    assignProps(event, {\n        view,\n        detail: sanitizeNumber(detail !== null && detail !== void 0 ? detail : 0)\n    });\n}\nfunction initUIEventModififiers(event, { altKey, ctrlKey, metaKey, shiftKey, modifierAltGraph, modifierCapsLock, modifierFn, modifierFnLock, modifierNumLock, modifierScrollLock, modifierSymbol, modifierSymbolLock }) {\n    assignProps(event, {\n        altKey: Boolean(altKey),\n        ctrlKey: Boolean(ctrlKey),\n        metaKey: Boolean(metaKey),\n        shiftKey: Boolean(shiftKey),\n        getModifierState (k) {\n            return Boolean({\n                Alt: altKey,\n                AltGraph: modifierAltGraph,\n                CapsLock: modifierCapsLock,\n                Control: ctrlKey,\n                Fn: modifierFn,\n                FnLock: modifierFnLock,\n                Meta: metaKey,\n                NumLock: modifierNumLock,\n                ScrollLock: modifierScrollLock,\n                Shift: shiftKey,\n                Symbol: modifierSymbol,\n                SymbolLock: modifierSymbolLock\n            }[k]);\n        }\n    });\n}\nfunction initKeyboardEvent(event, { key, code, location, repeat, isComposing, charCode }) {\n    assignProps(event, {\n        key: String(key),\n        code: String(code),\n        location: sanitizeNumber(location),\n        repeat: Boolean(repeat),\n        isComposing: Boolean(isComposing),\n        charCode\n    });\n}\nfunction initMouseEvent(event, { x, y, screenX, screenY, clientX = x, clientY = y, button, buttons, relatedTarget }) {\n    assignProps(event, {\n        screenX: sanitizeNumber(screenX),\n        screenY: sanitizeNumber(screenY),\n        clientX: sanitizeNumber(clientX),\n        x: sanitizeNumber(clientX),\n        clientY: sanitizeNumber(clientY),\n        y: sanitizeNumber(clientY),\n        button: sanitizeNumber(button),\n        buttons: sanitizeNumber(buttons),\n        relatedTarget\n    });\n}\nfunction initPointerEvent(event, { pointerId, width, height, pressure, tangentialPressure, tiltX, tiltY, twist, pointerType, isPrimary }) {\n    assignProps(event, {\n        pointerId: sanitizeNumber(pointerId),\n        width: sanitizeNumber(width),\n        height: sanitizeNumber(height),\n        pressure: sanitizeNumber(pressure),\n        tangentialPressure: sanitizeNumber(tangentialPressure),\n        tiltX: sanitizeNumber(tiltX),\n        tiltY: sanitizeNumber(tiltY),\n        twist: sanitizeNumber(twist),\n        pointerType: String(pointerType),\n        isPrimary: Boolean(isPrimary)\n    });\n}\n\nexport { createEvent };\n","import './behavior/click.js';\nimport './behavior/cut.js';\nimport './behavior/keydown.js';\nimport './behavior/keypress.js';\nimport './behavior/keyup.js';\nimport './behavior/paste.js';\nimport { behavior } from './behavior/registry.js';\nimport { wrapEvent } from './wrapEvent.js';\nimport { isMouseEvent, isKeyboardEvent } from './eventMap.js';\nimport { createEvent } from './createEvent.js';\n\nfunction dispatchUIEvent(target, type, init, preventDefault = false) {\n    if (isMouseEvent(type) || isKeyboardEvent(type)) {\n        init = {\n            ...init,\n            ...this.system.getUIEventModifiers()\n        };\n    }\n    const event = createEvent(type, target, init);\n    return dispatchEvent.call(this, target, event, preventDefault);\n}\nfunction dispatchEvent(target, event, preventDefault = false) {\n    var _behavior_type;\n    const type = event.type;\n    const behaviorImplementation = preventDefault ? ()=>{} : (_behavior_type = behavior[type]) === null || _behavior_type === void 0 ? void 0 : _behavior_type.call(behavior, event, target, this);\n    if (behaviorImplementation) {\n        event.preventDefault();\n        let defaultPrevented = false;\n        Object.defineProperty(event, 'defaultPrevented', {\n            get: ()=>defaultPrevented\n        });\n        Object.defineProperty(event, 'preventDefault', {\n            value: ()=>{\n                defaultPrevented = event.cancelable;\n            }\n        });\n        wrapEvent(()=>target.dispatchEvent(event));\n        if (!defaultPrevented) {\n            behaviorImplementation();\n        }\n        return !defaultPrevented;\n    }\n    return wrapEvent(()=>target.dispatchEvent(event));\n}\nfunction dispatchDOMEvent(target, type, init) {\n    const event = createEvent(type, target, init);\n    wrapEvent(()=>target.dispatchEvent(event));\n}\n\nexport { dispatchDOMEvent, dispatchEvent, dispatchUIEvent };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { isElementType } from '../utils/misc/isElementType.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { startTrackValue, trackOrSetValue } from './trackValue.js';\nimport { setUISelectionClean, setUISelectionRaw, getUIValue, setUIValueClean, isUIValue, isUISelectionStart } from './UI.js';\n\nconst Interceptor = Symbol('Interceptor for programmatical calls');\nfunction prepareInterceptor(element, propName, interceptorImpl) {\n    const prototypeDescriptor = Object.getOwnPropertyDescriptor(element.constructor.prototype, propName);\n    const objectDescriptor = Object.getOwnPropertyDescriptor(element, propName);\n    const target = (prototypeDescriptor === null || prototypeDescriptor === void 0 ? void 0 : prototypeDescriptor.set) ? 'set' : 'value';\n    /* istanbul ignore if */ if (typeof (prototypeDescriptor === null || prototypeDescriptor === void 0 ? void 0 : prototypeDescriptor[target]) !== 'function' || prototypeDescriptor[target][Interceptor]) {\n        throw new Error(`Element ${element.tagName} does not implement \"${String(propName)}\".`);\n    }\n    function intercept(...args) {\n        const { applyNative = false, realArgs, then } = interceptorImpl.call(this, ...args);\n        const realFunc = (!applyNative && objectDescriptor || prototypeDescriptor)[target];\n        if (target === 'set') {\n            realFunc.call(this, realArgs);\n        } else {\n            realFunc.call(this, ...realArgs);\n        }\n        then === null || then === void 0 ? void 0 : then();\n    }\n    intercept[Interceptor] = Interceptor;\n    Object.defineProperty(element, propName, {\n        ...objectDescriptor !== null && objectDescriptor !== void 0 ? objectDescriptor : prototypeDescriptor,\n        [target]: intercept\n    });\n}\nfunction prepareValueInterceptor(element) {\n    prepareInterceptor(element, 'value', function interceptorImpl(v) {\n        const isUI = isUIValue(v);\n        if (isUI) {\n            startTrackValue(this);\n        }\n        return {\n            applyNative: !!isUI,\n            realArgs: sanitizeValue(this, v),\n            then: isUI ? undefined : ()=>trackOrSetValue(this, String(v))\n        };\n    });\n}\nfunction sanitizeValue(element, v) {\n    // Workaround for JSDOM\n    if (isElementType(element, 'input', {\n        type: 'number'\n    }) && String(v) !== '' && !Number.isNaN(Number(v))) {\n        // Setting value to \"1.\" results in `null` in JSDOM\n        return String(Number(v));\n    }\n    return String(v);\n}\nfunction prepareSelectionInterceptor(element) {\n    prepareInterceptor(element, 'setSelectionRange', function interceptorImpl(start, ...others) {\n        const isUI = isUISelectionStart(start);\n        return {\n            applyNative: !!isUI,\n            realArgs: [\n                Number(start),\n                ...others\n            ],\n            then: ()=>isUI ? undefined : setUISelectionClean(element)\n        };\n    });\n    prepareInterceptor(element, 'selectionStart', function interceptorImpl(v) {\n        return {\n            realArgs: v,\n            then: ()=>setUISelectionClean(element)\n        };\n    });\n    prepareInterceptor(element, 'selectionEnd', function interceptorImpl(v) {\n        return {\n            realArgs: v,\n            then: ()=>setUISelectionClean(element)\n        };\n    });\n    prepareInterceptor(element, 'select', function interceptorImpl() {\n        return {\n            realArgs: [],\n            then: ()=>setUISelectionRaw(element, {\n                    anchorOffset: 0,\n                    focusOffset: getUIValue(element).length\n                })\n        };\n    });\n}\nfunction prepareRangeTextInterceptor(element) {\n    prepareInterceptor(element, 'setRangeText', function interceptorImpl(...realArgs) {\n        return {\n            realArgs,\n            then: ()=>{\n                setUIValueClean(element);\n                setUISelectionClean(element);\n            }\n        };\n    });\n}\n\nexport { prepareInterceptor, prepareRangeTextInterceptor, prepareSelectionInterceptor, prepareValueInterceptor };\n","import { dispatchDOMEvent } from '../event/dispatchEvent.js';\nimport '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { isElementType } from '../utils/misc/isElementType.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { getInitialValue, clearInitialValue } from './UI.js';\nimport '@testing-library/dom';\nimport { prepareValueInterceptor, prepareSelectionInterceptor, prepareRangeTextInterceptor } from './interceptor.js';\n\nconst isPrepared = Symbol('Node prepared with document state workarounds');\nfunction prepareDocument(document) {\n    if (document[isPrepared]) {\n        return;\n    }\n    document.addEventListener('focus', (e)=>{\n        const el = e.target;\n        prepareElement(el);\n    }, {\n        capture: true,\n        passive: true\n    });\n    // Our test environment defaults to `document.body` as `activeElement`.\n    // In other environments this might be `null` when preparing.\n    // istanbul ignore else\n    if (document.activeElement) {\n        prepareElement(document.activeElement);\n    }\n    document.addEventListener('blur', (e)=>{\n        const el = e.target;\n        const initialValue = getInitialValue(el);\n        if (initialValue !== undefined) {\n            if (el.value !== initialValue) {\n                dispatchDOMEvent(el, 'change');\n            }\n            clearInitialValue(el);\n        }\n    }, {\n        capture: true,\n        passive: true\n    });\n    document[isPrepared] = isPrepared;\n}\nfunction prepareElement(el) {\n    if (el[isPrepared]) {\n        return;\n    }\n    if (isElementType(el, [\n        'input',\n        'textarea'\n    ])) {\n        prepareValueInterceptor(el);\n        prepareSelectionInterceptor(el);\n        prepareRangeTextInterceptor(el);\n    }\n    el[isPrepared] = isPrepared;\n}\n\nexport { prepareDocument };\n","function wait(config) {\n    const delay = config.delay;\n    if (typeof delay !== 'number') {\n        return;\n    }\n    return Promise.all([\n        new Promise((resolve)=>globalThis.setTimeout(()=>resolve(), delay)),\n        config.advanceTimers(delay)\n    ]);\n}\n\nexport { wait };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getActiveElementOrBody } from '../utils/focus/getActiveElement.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nvar DOM_KEY_LOCATION;\n(function(DOM_KEY_LOCATION) {\n    DOM_KEY_LOCATION[DOM_KEY_LOCATION[\"STANDARD\"] = 0] = \"STANDARD\";\n    DOM_KEY_LOCATION[DOM_KEY_LOCATION[\"LEFT\"] = 1] = \"LEFT\";\n    DOM_KEY_LOCATION[DOM_KEY_LOCATION[\"RIGHT\"] = 2] = \"RIGHT\";\n    DOM_KEY_LOCATION[DOM_KEY_LOCATION[\"NUMPAD\"] = 3] = \"NUMPAD\";\n})(DOM_KEY_LOCATION || (DOM_KEY_LOCATION = {}));\nconst modifierKeys = [\n    'Alt',\n    'AltGraph',\n    'Control',\n    'Fn',\n    'Meta',\n    'Shift',\n    'Symbol'\n];\nfunction isModifierKey(key) {\n    return modifierKeys.includes(key);\n}\nconst modifierLocks = [\n    'CapsLock',\n    'FnLock',\n    'NumLock',\n    'ScrollLock',\n    'SymbolLock'\n];\nfunction isModifierLock(key) {\n    return modifierLocks.includes(key);\n}\nclass KeyboardHost {\n    isKeyPressed(keyDef) {\n        return !!this.pressed[String(keyDef.code)];\n    }\n    getPressedKeys() {\n        return Object.values(this.pressed).map((p)=>p.keyDef);\n    }\n    /** Press a key */ async keydown(instance, keyDef) {\n        var // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        _this_pressed, _code, _this_pressed_code;\n        const key = String(keyDef.key);\n        const code = String(keyDef.code);\n        const target = getActiveElementOrBody(instance.config.document);\n        this.setKeydownTarget(target);\n        var _;\n        (_ = (_this_pressed = this.pressed)[_code = code]) !== null && _ !== void 0 ? _ : _this_pressed[_code] = {\n            keyDef,\n            unpreventedDefault: false\n        };\n        if (isModifierKey(key)) {\n            this.modifiers[key] = true;\n        }\n        const unprevented = instance.dispatchUIEvent(target, 'keydown', {\n            key,\n            code\n        });\n        if (isModifierLock(key) && !this.modifiers[key]) {\n            this.modifiers[key] = true;\n            this.modifierLockStart[key] = true;\n        }\n        (_this_pressed_code = this.pressed[code]).unpreventedDefault || (_this_pressed_code.unpreventedDefault = unprevented);\n        if (unprevented && this.hasKeyPress(key)) {\n            instance.dispatchUIEvent(getActiveElementOrBody(instance.config.document), 'keypress', {\n                key,\n                code,\n                charCode: keyDef.key === 'Enter' ? 13 : String(keyDef.key).charCodeAt(0)\n            });\n        }\n    }\n    /** Release a key */ async keyup(instance, keyDef) {\n        const key = String(keyDef.key);\n        const code = String(keyDef.code);\n        const unprevented = this.pressed[code].unpreventedDefault;\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete this.pressed[code];\n        if (isModifierKey(key) && !Object.values(this.pressed).find((p)=>p.keyDef.key === key)) {\n            this.modifiers[key] = false;\n        }\n        instance.dispatchUIEvent(getActiveElementOrBody(instance.config.document), 'keyup', {\n            key,\n            code\n        }, !unprevented);\n        if (isModifierLock(key) && this.modifiers[key]) {\n            if (this.modifierLockStart[key]) {\n                this.modifierLockStart[key] = false;\n            } else {\n                this.modifiers[key] = false;\n            }\n        }\n    }\n    setKeydownTarget(target) {\n        if (target !== this.lastKeydownTarget) {\n            this.carryChar = '';\n        }\n        this.lastKeydownTarget = target;\n    }\n    hasKeyPress(key) {\n        return (key.length === 1 || key === 'Enter') && !this.modifiers.Control && !this.modifiers.Alt;\n    }\n    constructor(system){\n        _define_property(this, \"system\", void 0);\n        _define_property(this, \"modifiers\", {\n            Alt: false,\n            AltGraph: false,\n            CapsLock: false,\n            Control: false,\n            Fn: false,\n            FnLock: false,\n            Meta: false,\n            NumLock: false,\n            ScrollLock: false,\n            Shift: false,\n            Symbol: false,\n            SymbolLock: false\n        });\n        _define_property(this, \"pressed\", {});\n        _define_property(this, \"carryChar\", '');\n        _define_property(this, \"lastKeydownTarget\", undefined);\n        _define_property(this, \"modifierLockStart\", {});\n        this.system = system;\n    }\n}\n\nexport { DOM_KEY_LOCATION, KeyboardHost };\n","import { DOM_KEY_LOCATION } from '../system/keyboard.js';\n\n/**\n * Mapping for a default US-104-QWERTY keyboard\n */ const defaultKeyMap = [\n    // alphanumeric keys\n    ...'0123456789'.split('').map((c)=>({\n            code: `Digit${c}`,\n            key: c\n        })),\n    ...')!@#$%^&*('.split('').map((c, i)=>({\n            code: `Digit${i}`,\n            key: c,\n            shiftKey: true\n        })),\n    ...'abcdefghijklmnopqrstuvwxyz'.split('').map((c)=>({\n            code: `Key${c.toUpperCase()}`,\n            key: c\n        })),\n    ...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').map((c)=>({\n            code: `Key${c}`,\n            key: c,\n            shiftKey: true\n        })),\n    // alphanumeric block - functional\n    {\n        code: 'Space',\n        key: ' '\n    },\n    {\n        code: 'AltLeft',\n        key: 'Alt',\n        location: DOM_KEY_LOCATION.LEFT\n    },\n    {\n        code: 'AltRight',\n        key: 'Alt',\n        location: DOM_KEY_LOCATION.RIGHT\n    },\n    {\n        code: 'ShiftLeft',\n        key: 'Shift',\n        location: DOM_KEY_LOCATION.LEFT\n    },\n    {\n        code: 'ShiftRight',\n        key: 'Shift',\n        location: DOM_KEY_LOCATION.RIGHT\n    },\n    {\n        code: 'ControlLeft',\n        key: 'Control',\n        location: DOM_KEY_LOCATION.LEFT\n    },\n    {\n        code: 'ControlRight',\n        key: 'Control',\n        location: DOM_KEY_LOCATION.RIGHT\n    },\n    {\n        code: 'MetaLeft',\n        key: 'Meta',\n        location: DOM_KEY_LOCATION.LEFT\n    },\n    {\n        code: 'MetaRight',\n        key: 'Meta',\n        location: DOM_KEY_LOCATION.RIGHT\n    },\n    {\n        code: 'OSLeft',\n        key: 'OS',\n        location: DOM_KEY_LOCATION.LEFT\n    },\n    {\n        code: 'OSRight',\n        key: 'OS',\n        location: DOM_KEY_LOCATION.RIGHT\n    },\n    {\n        code: 'Tab',\n        key: 'Tab'\n    },\n    {\n        code: 'CapsLock',\n        key: 'CapsLock'\n    },\n    {\n        code: 'Backspace',\n        key: 'Backspace'\n    },\n    {\n        code: 'Enter',\n        key: 'Enter'\n    },\n    // function\n    {\n        code: 'Escape',\n        key: 'Escape'\n    },\n    // arrows\n    {\n        code: 'ArrowUp',\n        key: 'ArrowUp'\n    },\n    {\n        code: 'ArrowDown',\n        key: 'ArrowDown'\n    },\n    {\n        code: 'ArrowLeft',\n        key: 'ArrowLeft'\n    },\n    {\n        code: 'ArrowRight',\n        key: 'ArrowRight'\n    },\n    // control pad\n    {\n        code: 'Home',\n        key: 'Home'\n    },\n    {\n        code: 'End',\n        key: 'End'\n    },\n    {\n        code: 'Delete',\n        key: 'Delete'\n    },\n    {\n        code: 'PageUp',\n        key: 'PageUp'\n    },\n    {\n        code: 'PageDown',\n        key: 'PageDown'\n    },\n    // Special keys that are not part of a default US-layout but included for specific behavior\n    {\n        code: 'Fn',\n        key: 'Fn'\n    },\n    {\n        code: 'Symbol',\n        key: 'Symbol'\n    },\n    {\n        code: 'AltRight',\n        key: 'AltGraph'\n    }\n];\n\nexport { defaultKeyMap };\n","function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nclass Buttons {\n    getButtons() {\n        let v = 0;\n        for (const button of Object.keys(this.pressed)){\n            // eslint-disable-next-line no-bitwise\n            v |= 2 ** Number(button);\n        }\n        return v;\n    }\n    down(keyDef) {\n        const button = getMouseButtonId(keyDef.button);\n        if (button in this.pressed) {\n            this.pressed[button].push(keyDef);\n            return undefined;\n        }\n        this.pressed[button] = [\n            keyDef\n        ];\n        return button;\n    }\n    up(keyDef) {\n        const button = getMouseButtonId(keyDef.button);\n        if (button in this.pressed) {\n            this.pressed[button] = this.pressed[button].filter((k)=>k.name !== keyDef.name);\n            if (this.pressed[button].length === 0) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this.pressed[button];\n                return button;\n            }\n        }\n        return undefined;\n    }\n    constructor(){\n        _define_property(this, \"pressed\", {});\n    }\n}\nconst MouseButton = {\n    primary: 0,\n    secondary: 1,\n    auxiliary: 2,\n    back: 3,\n    X1: 3,\n    forward: 4,\n    X2: 4\n};\nfunction getMouseButtonId(button = 0) {\n    if (button in MouseButton) {\n        return MouseButton[button];\n    }\n    return Number(button);\n}\n// On the `MouseEvent.button` property auxiliary and secondary button are flipped compared to `MouseEvent.buttons`.\nconst MouseButtonFlip = {\n    1: 2,\n    2: 1\n};\nfunction getMouseEventButton(button) {\n    button = getMouseButtonId(button);\n    if (button in MouseButtonFlip) {\n        return MouseButtonFlip[button];\n    }\n    return button;\n}\n\nexport { Buttons, MouseButton, MouseButtonFlip, getMouseButtonId, getMouseEventButton };\n","function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nclass Device {\n    get countPressed() {\n        return this.pressedKeys.size;\n    }\n    isPressed(keyDef) {\n        return this.pressedKeys.has(keyDef.name);\n    }\n    addPressed(keyDef) {\n        return this.pressedKeys.add(keyDef.name);\n    }\n    removePressed(keyDef) {\n        return this.pressedKeys.delete(keyDef.name);\n    }\n    constructor(){\n        _define_property(this, \"pressedKeys\", new Set());\n    }\n}\n\nexport { Device };\n","function getTreeDiff(a, b) {\n    const treeA = [];\n    for(let el = a; el; el = el.parentElement){\n        treeA.push(el);\n    }\n    const treeB = [];\n    for(let el = b; el; el = el.parentElement){\n        treeB.push(el);\n    }\n    let i = 0;\n    for(;; i++){\n        if (i >= treeA.length || i >= treeB.length || treeA[treeA.length - 1 - i] !== treeB[treeB.length - 1 - i]) {\n            break;\n        }\n    }\n    return [\n        treeA.slice(0, treeA.length - i),\n        treeB.slice(0, treeB.length - i),\n        treeB.slice(treeB.length - i)\n    ];\n}\n\nexport { getTreeDiff };\n","import { getUIValue } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\n\nfunction resolveCaretPosition({ target, node, offset }) {\n    if (hasOwnSelection(target)) {\n        return {\n            node: target,\n            offset: offset !== null && offset !== void 0 ? offset : getUIValue(target).length\n        };\n    } else if (node) {\n        return {\n            node,\n            offset: offset !== null && offset !== void 0 ? offset : node.nodeType === 3 ? node.nodeValue.length : node.childNodes.length\n        };\n    }\n    return findNodeAtTextOffset(target, offset);\n}\nfunction findNodeAtTextOffset(node, offset, isRoot = true) {\n    // When clicking after the content the browser behavior can be complicated:\n    // 1. If there is textContent after the last element child,\n    // the cursor is moved there.\n    // 2. If there is textContent in the last element child,\n    // the browser moves the cursor to the last non-empty text node inside this element.\n    // 3. Otherwise the cursor is moved to the end of the target.\n    let i = offset === undefined ? node.childNodes.length - 1 : 0;\n    const step = offset === undefined ? -1 : +1;\n    while(offset === undefined ? i >= (isRoot ? Math.max(node.childNodes.length - 1, 0) : 0) : i <= node.childNodes.length){\n        if (offset && i === node.childNodes.length) {\n            throw new Error('The given offset is out of bounds.');\n        }\n        const c = node.childNodes.item(i);\n        const text = String(c.textContent);\n        if (text.length) {\n            if (offset !== undefined && text.length < offset) {\n                offset -= text.length;\n            } else if (c.nodeType === 1) {\n                return findNodeAtTextOffset(c, offset, false);\n            } else {\n                // The pre-commit hooks keeps changing this\n                // See https://github.com/kentcdodds/kcd-scripts/issues/218\n                /* istanbul ignore else */ // eslint-disable-next-line no-lonely-if\n                if (c.nodeType === 3) {\n                    return {\n                        node: c,\n                        offset: offset !== null && offset !== void 0 ? offset : c.nodeValue.length\n                    };\n                }\n            }\n        }\n        i += step;\n    }\n    return {\n        node,\n        offset: node.childNodes.length\n    };\n}\n\nexport { resolveCaretPosition };\n","import { getUIValue, setUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { hasNoSelection, hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { resolveCaretPosition } from './resolveCaretPosition.js';\n\nfunction setSelectionPerMouseDown({ document, target, clickCount, node, offset }) {\n    if (hasNoSelection(target)) {\n        return;\n    }\n    const targetHasOwnSelection = hasOwnSelection(target);\n    // On non-input elements the text selection per multiple click\n    // can extend beyond the target boundaries.\n    // The exact mechanism what is considered in the same line is unclear.\n    // Looks it might be every inline element.\n    // TODO: Check what might be considered part of the same line of text.\n    const text = String(targetHasOwnSelection ? getUIValue(target) : target.textContent);\n    const [start, end] = node ? // which elements might be considered in the same line of text.\n    // TODO: support expanding initial range on multiple clicks if node is given\n    [\n        offset,\n        offset\n    ] : getTextRange(text, offset, clickCount);\n    // TODO: implement modifying selection per shift/ctrl+mouse\n    if (targetHasOwnSelection) {\n        setUISelection(target, {\n            anchorOffset: start !== null && start !== void 0 ? start : text.length,\n            focusOffset: end !== null && end !== void 0 ? end : text.length\n        });\n        return {\n            node: target,\n            start: start !== null && start !== void 0 ? start : 0,\n            end: end !== null && end !== void 0 ? end : text.length\n        };\n    } else {\n        const { node: startNode, offset: startOffset } = resolveCaretPosition({\n            target,\n            node,\n            offset: start\n        });\n        const { node: endNode, offset: endOffset } = resolveCaretPosition({\n            target,\n            node,\n            offset: end\n        });\n        const range = target.ownerDocument.createRange();\n        try {\n            range.setStart(startNode, startOffset);\n            range.setEnd(endNode, endOffset);\n        } catch (e) {\n            throw new Error('The given offset is out of bounds.');\n        }\n        const selection = document.getSelection();\n        selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n        selection === null || selection === void 0 ? void 0 : selection.addRange(range.cloneRange());\n        return range;\n    }\n}\nfunction getTextRange(text, pos, clickCount) {\n    if (clickCount % 3 === 1 || text.length === 0) {\n        return [\n            pos,\n            pos\n        ];\n    }\n    const textPos = pos !== null && pos !== void 0 ? pos : text.length;\n    if (clickCount % 3 === 2) {\n        return [\n            textPos - text.substr(0, pos).match(/(\\w+|\\s+|\\W)?$/)[0].length,\n            pos === undefined ? pos : pos + text.substr(pos).match(/^(\\w+|\\s+|\\W)?/)[0].length\n        ];\n    }\n    // triple click\n    return [\n        textPos - text.substr(0, pos).match(/[^\\r\\n]*$/)[0].length,\n        pos === undefined ? pos : pos + text.substr(pos).match(/^[^\\r\\n]*/)[0].length\n    ];\n}\n\nexport { setSelectionPerMouseDown };\n","function isDifferentPointerPosition(positionA, positionB) {\n    var _positionA_coords, _positionB_coords, _positionA_coords1, _positionB_coords1, _positionA_caret, _positionB_caret, _positionA_caret1, _positionB_caret1;\n    return positionA.target !== positionB.target || ((_positionA_coords = positionA.coords) === null || _positionA_coords === void 0 ? void 0 : _positionA_coords.x) !== ((_positionB_coords = positionB.coords) === null || _positionB_coords === void 0 ? void 0 : _positionB_coords.y) || ((_positionA_coords1 = positionA.coords) === null || _positionA_coords1 === void 0 ? void 0 : _positionA_coords1.y) !== ((_positionB_coords1 = positionB.coords) === null || _positionB_coords1 === void 0 ? void 0 : _positionB_coords1.y) || ((_positionA_caret = positionA.caret) === null || _positionA_caret === void 0 ? void 0 : _positionA_caret.node) !== ((_positionB_caret = positionB.caret) === null || _positionB_caret === void 0 ? void 0 : _positionB_caret.node) || ((_positionA_caret1 = positionA.caret) === null || _positionA_caret1 === void 0 ? void 0 : _positionA_caret1.offset) !== ((_positionB_caret1 = positionB.caret) === null || _positionB_caret1 === void 0 ? void 0 : _positionB_caret1.offset);\n}\n\nexport { isDifferentPointerPosition };\n","import '../../event/behavior/click.js';\nimport '../../event/behavior/cut.js';\nimport '../../event/behavior/keydown.js';\nimport '../../event/behavior/keypress.js';\nimport '../../event/behavior/keyup.js';\nimport '../../event/behavior/paste.js';\nimport '@testing-library/dom';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { isDisabled } from '../../utils/misc/isDisabled.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport { getTreeDiff } from '../../utils/misc/getTreeDiff.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { focusElement } from '../../event/focus.js';\nimport { setSelectionPerMouseDown } from '../../event/selection/setSelectionPerMouse.js';\nimport { modifySelectionPerMouseMove } from '../../event/selection/modifySelectionPerMouse.js';\nimport { getMouseEventButton, Buttons } from './buttons.js';\nimport { isDifferentPointerPosition } from './shared.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n/**\n * This object is the single \"virtual\" mouse that might be controlled by multiple different pointer devices.\n */ class Mouse {\n    move(instance, position) {\n        const prevPosition = this.position;\n        const prevTarget = this.getTarget(instance);\n        this.position = position;\n        if (!isDifferentPointerPosition(prevPosition, position)) {\n            return;\n        }\n        const nextTarget = this.getTarget(instance);\n        const init = this.getEventInit('mousemove');\n        const [leave, enter] = getTreeDiff(prevTarget, nextTarget);\n        return {\n            leave: ()=>{\n                if (prevTarget !== nextTarget) {\n                    instance.dispatchUIEvent(prevTarget, 'mouseout', init);\n                    leave.forEach((el)=>instance.dispatchUIEvent(el, 'mouseleave', init));\n                }\n            },\n            enter: ()=>{\n                if (prevTarget !== nextTarget) {\n                    instance.dispatchUIEvent(nextTarget, 'mouseover', init);\n                    enter.forEach((el)=>instance.dispatchUIEvent(el, 'mouseenter', init));\n                }\n            },\n            move: ()=>{\n                instance.dispatchUIEvent(nextTarget, 'mousemove', init);\n                this.modifySelecting(instance);\n            }\n        };\n    }\n    down(instance, keyDef, pointer) {\n        const button = this.buttons.down(keyDef);\n        if (button === undefined) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        this.buttonDownTarget[button] = target;\n        const disabled = isDisabled(target);\n        const init = this.getEventInit('mousedown', keyDef.button);\n        if (disabled || instance.dispatchUIEvent(target, 'mousedown', init)) {\n            this.startSelecting(instance, init.detail);\n            focusElement(target);\n        }\n        if (!disabled && getMouseEventButton(keyDef.button) === 2) {\n            instance.dispatchUIEvent(target, 'contextmenu', this.getEventInit('contextmenu', keyDef.button, pointer));\n        }\n    }\n    up(instance, keyDef, pointer) {\n        const button = this.buttons.up(keyDef);\n        if (button === undefined) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        if (!isDisabled(target)) {\n            instance.dispatchUIEvent(target, 'mouseup', this.getEventInit('mouseup', keyDef.button));\n            this.endSelecting();\n            const clickTarget = getTreeDiff(this.buttonDownTarget[button], target)[2][0];\n            if (clickTarget) {\n                const init = this.getEventInit('click', keyDef.button, pointer);\n                if (init.detail) {\n                    instance.dispatchUIEvent(clickTarget, init.button === 0 ? 'click' : 'auxclick', init);\n                    if (init.button === 0 && init.detail === 2) {\n                        instance.dispatchUIEvent(clickTarget, 'dblclick', {\n                            ...this.getEventInit('dblclick', keyDef.button),\n                            detail: init.detail\n                        });\n                    }\n                }\n            }\n        }\n    }\n    resetClickCount() {\n        this.clickCount.reset();\n    }\n    getEventInit(type, button, pointer) {\n        const init = {\n            ...this.position.coords\n        };\n        if (pointer) {\n            init.pointerId = pointer.pointerId;\n            init.pointerType = pointer.pointerType;\n            init.isPrimary = pointer.isPrimary;\n        }\n        init.button = getMouseEventButton(button);\n        init.buttons = this.buttons.getButtons();\n        if (type === 'mousedown') {\n            init.detail = this.clickCount.getOnDown(init.button);\n        } else if (type === 'mouseup') {\n            init.detail = this.clickCount.getOnUp(init.button);\n        } else if (type === 'click' || type === 'auxclick') {\n            init.detail = this.clickCount.incOnClick(init.button);\n        }\n        return init;\n    }\n    getTarget(instance) {\n        var _this_position_target;\n        return (_this_position_target = this.position.target) !== null && _this_position_target !== void 0 ? _this_position_target : instance.config.document.body;\n    }\n    startSelecting(instance, clickCount) {\n        var _this_position_caret, _this_position_caret1;\n        // TODO: support extending range (shift)\n        this.selecting = setSelectionPerMouseDown({\n            document: instance.config.document,\n            target: this.getTarget(instance),\n            node: (_this_position_caret = this.position.caret) === null || _this_position_caret === void 0 ? void 0 : _this_position_caret.node,\n            offset: (_this_position_caret1 = this.position.caret) === null || _this_position_caret1 === void 0 ? void 0 : _this_position_caret1.offset,\n            clickCount\n        });\n    }\n    modifySelecting(instance) {\n        var _this_position_caret, _this_position_caret1;\n        if (!this.selecting) {\n            return;\n        }\n        modifySelectionPerMouseMove(this.selecting, {\n            document: instance.config.document,\n            target: this.getTarget(instance),\n            node: (_this_position_caret = this.position.caret) === null || _this_position_caret === void 0 ? void 0 : _this_position_caret.node,\n            offset: (_this_position_caret1 = this.position.caret) === null || _this_position_caret1 === void 0 ? void 0 : _this_position_caret1.offset\n        });\n    }\n    endSelecting() {\n        this.selecting = undefined;\n    }\n    constructor(){\n        _define_property(this, \"position\", {});\n        _define_property(this, \"buttons\", new Buttons());\n        _define_property(this, \"selecting\", void 0);\n        _define_property(this, \"buttonDownTarget\", {});\n        // According to spec the `detail` on click events should be the number\n        // of *consecutive* clicks with a specific button.\n        // On `mousedown` and `mouseup` it should be this number increased by one.\n        // But the browsers don't implement it this way.\n        // If another button is pressed,\n        //   in Webkit: the `mouseup` on the previously pressed button has `detail: 0` and no `click`/`auxclick`.\n        //   in Gecko: the `mouseup` and click events have the same detail as the `mousedown`.\n        // If there is a delay while a button is pressed,\n        // the `mouseup` and `click` are normal, but a following `mousedown` starts a new click count.\n        // We'll follow the minimal implementation of Webkit.\n        _define_property(this, \"clickCount\", new class {\n            incOnClick(button) {\n                const current = this.down[button] === undefined ? undefined : Number(this.down[button]) + 1;\n                this.count = this.count[button] === undefined ? {} : {\n                    [button]: Number(this.count[button]) + 1\n                };\n                return current;\n            }\n            getOnDown(button) {\n                var _this_count_button;\n                this.down = {\n                    [button]: (_this_count_button = this.count[button]) !== null && _this_count_button !== void 0 ? _this_count_button : 0\n                };\n                var _this_count_button1;\n                this.count = {\n                    [button]: (_this_count_button1 = this.count[button]) !== null && _this_count_button1 !== void 0 ? _this_count_button1 : 0\n                };\n                return Number(this.count[button]) + 1;\n            }\n            getOnUp(button) {\n                return this.down[button] === undefined ? undefined : Number(this.down[button]) + 1;\n            }\n            reset() {\n                this.count = {};\n            }\n            constructor(){\n                _define_property(this, \"down\", {});\n                _define_property(this, \"count\", {});\n            }\n        }());\n    }\n}\n\nexport { Mouse };\n","import { setUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { resolveCaretPosition } from './resolveCaretPosition.js';\n\nfunction modifySelectionPerMouseMove(selectionRange, { document, target, node, offset }) {\n    const selectionFocus = resolveCaretPosition({\n        target,\n        node,\n        offset\n    });\n    if ('node' in selectionRange) {\n        // When the mouse is dragged outside of an input/textarea,\n        // the selection is extended to the beginning or end of the input\n        // depending on pointer position.\n        // TODO: extend selection according to pointer position\n        /* istanbul ignore else */ if (selectionFocus.node === selectionRange.node) {\n            const anchorOffset = selectionFocus.offset < selectionRange.start ? selectionRange.end : selectionRange.start;\n            const focusOffset = selectionFocus.offset > selectionRange.end || selectionFocus.offset < selectionRange.start ? selectionFocus.offset : selectionRange.end;\n            setUISelection(selectionRange.node, {\n                anchorOffset,\n                focusOffset\n            });\n        }\n    } else {\n        const range = selectionRange.cloneRange();\n        const cmp = range.comparePoint(selectionFocus.node, selectionFocus.offset);\n        if (cmp < 0) {\n            range.setStart(selectionFocus.node, selectionFocus.offset);\n        } else if (cmp > 0) {\n            range.setEnd(selectionFocus.node, selectionFocus.offset);\n        }\n        const selection = document.getSelection();\n        selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n        selection === null || selection === void 0 ? void 0 : selection.addRange(range.cloneRange());\n    }\n}\n\nexport { modifySelectionPerMouseMove };\n","import { PointerEventsCheckLevel } from '../../options.js';\nimport { getWindow } from '../misc/getWindow.js';\nimport { isElementType } from '../misc/isElementType.js';\nimport { ApiLevel, getLevelRef } from '../misc/level.js';\n\nfunction hasPointerEvents(instance, element) {\n    var _checkPointerEvents;\n    return ((_checkPointerEvents = checkPointerEvents(instance, element)) === null || _checkPointerEvents === void 0 ? void 0 : _checkPointerEvents.pointerEvents) !== 'none';\n}\nfunction closestPointerEventsDeclaration(element) {\n    const window = getWindow(element);\n    for(let el = element, tree = []; el === null || el === void 0 ? void 0 : el.ownerDocument; el = el.parentElement){\n        tree.push(el);\n        const pointerEvents = window.getComputedStyle(el).pointerEvents;\n        if (pointerEvents && ![\n            'inherit',\n            'unset'\n        ].includes(pointerEvents)) {\n            return {\n                pointerEvents,\n                tree\n            };\n        }\n    }\n    return undefined;\n}\nconst PointerEventsCheck = Symbol('Last check for pointer-events');\nfunction checkPointerEvents(instance, element) {\n    const lastCheck = element[PointerEventsCheck];\n    const needsCheck = instance.config.pointerEventsCheck !== PointerEventsCheckLevel.Never && (!lastCheck || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachApiCall) && lastCheck[ApiLevel.Call] !== getLevelRef(instance, ApiLevel.Call) || hasBitFlag(instance.config.pointerEventsCheck, PointerEventsCheckLevel.EachTrigger) && lastCheck[ApiLevel.Trigger] !== getLevelRef(instance, ApiLevel.Trigger));\n    if (!needsCheck) {\n        return lastCheck === null || lastCheck === void 0 ? void 0 : lastCheck.result;\n    }\n    const declaration = closestPointerEventsDeclaration(element);\n    element[PointerEventsCheck] = {\n        [ApiLevel.Call]: getLevelRef(instance, ApiLevel.Call),\n        [ApiLevel.Trigger]: getLevelRef(instance, ApiLevel.Trigger),\n        result: declaration\n    };\n    return declaration;\n}\nfunction assertPointerEvents(instance, element) {\n    const declaration = checkPointerEvents(instance, element);\n    if ((declaration === null || declaration === void 0 ? void 0 : declaration.pointerEvents) === 'none') {\n        throw new Error([\n            `Unable to perform pointer interaction as the element ${declaration.tree.length > 1 ? 'inherits' : 'has'} \\`pointer-events: none\\`:`,\n            '',\n            printTree(declaration.tree)\n        ].join('\\n'));\n    }\n}\nfunction printTree(tree) {\n    return tree.reverse().map((el, i)=>[\n            ''.padEnd(i),\n            el.tagName,\n            el.id && `#${el.id}`,\n            el.hasAttribute('data-testid') && `(testId=${el.getAttribute('data-testid')})`,\n            getLabelDescr(el),\n            tree.length > 1 && i === 0 && '  <-- This element declared `pointer-events: none`',\n            tree.length > 1 && i === tree.length - 1 && '  <-- Asserted pointer events here'\n        ].filter(Boolean).join('')).join('\\n');\n}\nfunction getLabelDescr(element) {\n    var _element_labels;\n    let label;\n    if (element.hasAttribute('aria-label')) {\n        label = element.getAttribute('aria-label');\n    } else if (element.hasAttribute('aria-labelledby')) {\n        var _element_ownerDocument_getElementById_textContent, _element_ownerDocument_getElementById;\n        label = (_element_ownerDocument_getElementById = element.ownerDocument.getElementById(element.getAttribute('aria-labelledby'))) === null || _element_ownerDocument_getElementById === void 0 ? void 0 : (_element_ownerDocument_getElementById_textContent = _element_ownerDocument_getElementById.textContent) === null || _element_ownerDocument_getElementById_textContent === void 0 ? void 0 : _element_ownerDocument_getElementById_textContent.trim();\n    } else if (isElementType(element, [\n        'button',\n        'input',\n        'meter',\n        'output',\n        'progress',\n        'select',\n        'textarea'\n    ]) && ((_element_labels = element.labels) === null || _element_labels === void 0 ? void 0 : _element_labels.length)) {\n        label = Array.from(element.labels).map((el)=>{\n            var _el_textContent;\n            return (_el_textContent = el.textContent) === null || _el_textContent === void 0 ? void 0 : _el_textContent.trim();\n        }).join('|');\n    } else if (isElementType(element, 'button')) {\n        var _element_textContent;\n        label = (_element_textContent = element.textContent) === null || _element_textContent === void 0 ? void 0 : _element_textContent.trim();\n    }\n    label = label === null || label === void 0 ? void 0 : label.replace(/\\n/g, '  ');\n    if (Number(label === null || label === void 0 ? void 0 : label.length) > 30) {\n        label = `${label === null || label === void 0 ? void 0 : label.substring(0, 29)}…`;\n    }\n    return label ? `(label=${label})` : '';\n}\n// With the eslint rule and prettier the bitwise operation isn't nice to read\nfunction hasBitFlag(conf, flag) {\n    // eslint-disable-next-line no-bitwise\n    return (conf & flag) > 0;\n}\n\nexport { assertPointerEvents, hasPointerEvents };\n","import '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport { getTreeDiff } from '../../utils/misc/getTreeDiff.js';\nimport '../../utils/misc/level.js';\nimport { assertPointerEvents, hasPointerEvents } from '../../utils/pointer/cssPointerEvents.js';\nimport { isDifferentPointerPosition } from './shared.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nclass Pointer {\n    init(instance, position) {\n        this.position = position;\n        const target = this.getTarget(instance);\n        const [, enter] = getTreeDiff(null, target);\n        const init = this.getEventInit();\n        assertPointerEvents(instance, target);\n        instance.dispatchUIEvent(target, 'pointerover', init);\n        enter.forEach((el)=>instance.dispatchUIEvent(el, 'pointerenter', init));\n        return this;\n    }\n    move(instance, position) {\n        const prevPosition = this.position;\n        const prevTarget = this.getTarget(instance);\n        this.position = position;\n        if (!isDifferentPointerPosition(prevPosition, position)) {\n            return;\n        }\n        const nextTarget = this.getTarget(instance);\n        const init = this.getEventInit();\n        const [leave, enter] = getTreeDiff(prevTarget, nextTarget);\n        return {\n            leave: ()=>{\n                if (hasPointerEvents(instance, prevTarget)) {\n                    if (prevTarget !== nextTarget) {\n                        instance.dispatchUIEvent(prevTarget, 'pointerout', init);\n                        leave.forEach((el)=>instance.dispatchUIEvent(el, 'pointerleave', init));\n                    }\n                }\n            },\n            enter: ()=>{\n                assertPointerEvents(instance, nextTarget);\n                if (prevTarget !== nextTarget) {\n                    instance.dispatchUIEvent(nextTarget, 'pointerover', init);\n                    enter.forEach((el)=>instance.dispatchUIEvent(el, 'pointerenter', init));\n                }\n            },\n            move: ()=>{\n                instance.dispatchUIEvent(nextTarget, 'pointermove', init);\n            }\n        };\n    }\n    down(instance, _keyDef) {\n        if (this.isDown) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        assertPointerEvents(instance, target);\n        this.isDown = true;\n        this.isPrevented = !instance.dispatchUIEvent(target, 'pointerdown', this.getEventInit());\n    }\n    up(instance, _keyDef) {\n        if (!this.isDown) {\n            return;\n        }\n        const target = this.getTarget(instance);\n        assertPointerEvents(instance, target);\n        this.isDown = false;\n        instance.dispatchUIEvent(target, 'pointerup', this.getEventInit());\n    }\n    release(instance) {\n        const target = this.getTarget(instance);\n        const [leave] = getTreeDiff(target, null);\n        const init = this.getEventInit();\n        // Currently there is no PointerEventsCheckLevel that would\n        // make this check not use the *asserted* cached value from `up`.\n        /* istanbul ignore else */ if (hasPointerEvents(instance, target)) {\n            instance.dispatchUIEvent(target, 'pointerout', init);\n            leave.forEach((el)=>instance.dispatchUIEvent(el, 'pointerleave', init));\n        }\n        this.isCancelled = true;\n    }\n    getTarget(instance) {\n        var _this_position_target;\n        return (_this_position_target = this.position.target) !== null && _this_position_target !== void 0 ? _this_position_target : instance.config.document.body;\n    }\n    getEventInit() {\n        return {\n            ...this.position.coords,\n            pointerId: this.pointerId,\n            pointerType: this.pointerType,\n            isPrimary: this.isPrimary\n        };\n    }\n    constructor({ pointerId, pointerType, isPrimary }){\n        _define_property(this, \"pointerId\", void 0);\n        _define_property(this, \"pointerType\", void 0);\n        _define_property(this, \"isPrimary\", void 0);\n        _define_property(this, \"isMultitouch\", false);\n        _define_property(this, \"isCancelled\", false);\n        _define_property(this, \"isDown\", false);\n        _define_property(this, \"isPrevented\", false);\n        _define_property(this, \"position\", {});\n        this.pointerId = pointerId;\n        this.pointerType = pointerType;\n        this.isPrimary = isPrimary;\n        this.isMultitouch = !isPrimary;\n    }\n}\n\nexport { Pointer };\n","import { Buttons } from './buttons.js';\nimport { Device } from './device.js';\nimport { Mouse } from './mouse.js';\nimport { Pointer } from './pointer.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nclass PointerHost {\n    isKeyPressed(keyDef) {\n        return this.devices.get(keyDef.pointerType).isPressed(keyDef);\n    }\n    async press(instance, keyDef, position) {\n        const pointerName = this.getPointerName(keyDef);\n        const pointer = keyDef.pointerType === 'touch' ? this.pointers.new(pointerName, keyDef).init(instance, position) : this.pointers.get(pointerName);\n        // TODO: deprecate the following implicit setting of position\n        pointer.position = position;\n        if (pointer.pointerType !== 'touch') {\n            this.mouse.position = position;\n        }\n        this.devices.get(keyDef.pointerType).addPressed(keyDef);\n        this.buttons.down(keyDef);\n        pointer.down(instance, keyDef);\n        if (pointer.pointerType !== 'touch' && !pointer.isPrevented) {\n            this.mouse.down(instance, keyDef, pointer);\n        }\n    }\n    async move(instance, pointerName, position) {\n        const pointer = this.pointers.get(pointerName);\n        // In (some?) browsers this order of events can be observed.\n        // This interweaving of events is probably unnecessary.\n        // While the order of mouse (or pointer) events is defined per spec,\n        // the order in which they interweave/follow on a user interaction depends on the implementation.\n        const pointermove = pointer.move(instance, position);\n        const mousemove = pointer.pointerType === 'touch' || pointer.isPrevented && pointer.isDown ? undefined : this.mouse.move(instance, position);\n        pointermove === null || pointermove === void 0 ? void 0 : pointermove.leave();\n        mousemove === null || mousemove === void 0 ? void 0 : mousemove.leave();\n        pointermove === null || pointermove === void 0 ? void 0 : pointermove.enter();\n        mousemove === null || mousemove === void 0 ? void 0 : mousemove.enter();\n        pointermove === null || pointermove === void 0 ? void 0 : pointermove.move();\n        mousemove === null || mousemove === void 0 ? void 0 : mousemove.move();\n    }\n    async release(instance, keyDef, position) {\n        const device = this.devices.get(keyDef.pointerType);\n        device.removePressed(keyDef);\n        this.buttons.up(keyDef);\n        const pointer = this.pointers.get(this.getPointerName(keyDef));\n        // TODO: deprecate the following implicit setting of position\n        pointer.position = position;\n        if (pointer.pointerType !== 'touch') {\n            this.mouse.position = position;\n        }\n        if (device.countPressed === 0) {\n            pointer.up(instance, keyDef);\n        }\n        if (pointer.pointerType === 'touch') {\n            pointer.release(instance);\n        }\n        if (!pointer.isPrevented) {\n            if (pointer.pointerType === 'touch' && !pointer.isMultitouch) {\n                const mousemove = this.mouse.move(instance, pointer.position);\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.leave();\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.enter();\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.move();\n                this.mouse.down(instance, keyDef, pointer);\n            }\n            if (!pointer.isMultitouch) {\n                const mousemove = this.mouse.move(instance, pointer.position);\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.leave();\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.enter();\n                mousemove === null || mousemove === void 0 ? void 0 : mousemove.move();\n                this.mouse.up(instance, keyDef, pointer);\n            }\n        }\n    }\n    getPointerName(keyDef) {\n        return keyDef.pointerType === 'touch' ? keyDef.name : keyDef.pointerType;\n    }\n    getPreviousPosition(pointerName) {\n        return this.pointers.has(pointerName) ? this.pointers.get(pointerName).position : undefined;\n    }\n    resetClickCount() {\n        this.mouse.resetClickCount();\n    }\n    getMouseTarget(instance) {\n        var _this_mouse_position_target;\n        return (_this_mouse_position_target = this.mouse.position.target) !== null && _this_mouse_position_target !== void 0 ? _this_mouse_position_target : instance.config.document.body;\n    }\n    setMousePosition(position) {\n        this.mouse.position = position;\n        this.pointers.get('mouse').position = position;\n    }\n    constructor(system){\n        _define_property(this, \"system\", void 0);\n        _define_property(this, \"mouse\", void 0);\n        _define_property(this, \"buttons\", void 0);\n        _define_property(this, \"devices\", new class {\n            get(k) {\n                var // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n                _this_registry, _k;\n                var _;\n                (_ = (_this_registry = this.registry)[_k = k]) !== null && _ !== void 0 ? _ : _this_registry[_k] = new Device();\n                return this.registry[k];\n            }\n            constructor(){\n                _define_property(this, \"registry\", {});\n            }\n        }());\n        _define_property(this, \"pointers\", new class {\n            new(pointerName, keyDef) {\n                const isPrimary = keyDef.pointerType !== 'touch' || !Object.values(this.registry).some((p)=>p.pointerType === 'touch' && !p.isCancelled);\n                if (!isPrimary) {\n                    Object.values(this.registry).forEach((p)=>{\n                        if (p.pointerType === keyDef.pointerType && !p.isCancelled) {\n                            p.isMultitouch = true;\n                        }\n                    });\n                }\n                this.registry[pointerName] = new Pointer({\n                    pointerId: this.nextId++,\n                    pointerType: keyDef.pointerType,\n                    isPrimary\n                });\n                return this.registry[pointerName];\n            }\n            get(pointerName) {\n                if (!this.has(pointerName)) {\n                    throw new Error(`Trying to access pointer \"${pointerName}\" which does not exist.`);\n                }\n                return this.registry[pointerName];\n            }\n            has(pointerName) {\n                return pointerName in this.registry;\n            }\n            constructor(){\n                _define_property(this, \"registry\", {\n                    mouse: new Pointer({\n                        pointerId: 1,\n                        pointerType: 'mouse',\n                        isPrimary: true\n                    })\n                });\n                _define_property(this, \"nextId\", 2);\n            }\n        }());\n        this.system = system;\n        this.buttons = new Buttons();\n        this.mouse = new Mouse();\n    }\n}\n\nexport { PointerHost };\n","import { KeyboardHost } from './keyboard.js';\nimport { PointerHost } from './pointer/index.js';\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n/**\n * @internal Do not create/alter this by yourself as this type might be subject to changes.\n */ class System {\n    getUIEventModifiers() {\n        return {\n            altKey: this.keyboard.modifiers.Alt,\n            ctrlKey: this.keyboard.modifiers.Control,\n            metaKey: this.keyboard.modifiers.Meta,\n            shiftKey: this.keyboard.modifiers.Shift,\n            modifierAltGraph: this.keyboard.modifiers.AltGraph,\n            modifierCapsLock: this.keyboard.modifiers.CapsLock,\n            modifierFn: this.keyboard.modifiers.Fn,\n            modifierFnLock: this.keyboard.modifiers.FnLock,\n            modifierNumLock: this.keyboard.modifiers.NumLock,\n            modifierScrollLock: this.keyboard.modifiers.ScrollLock,\n            modifierSymbol: this.keyboard.modifiers.Symbol,\n            modifierSymbolLock: this.keyboard.modifiers.SymbolLock\n        };\n    }\n    constructor(){\n        _define_property(this, \"keyboard\", new KeyboardHost(this));\n        _define_property(this, \"pointer\", new PointerHost(this));\n    }\n}\n\nexport { System };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport { wait } from '../utils/misc/wait.js';\nimport '../options.js';\nimport { parseKeyDef } from './parseKeyDef.js';\n\nasync function keyboard(text) {\n    const actions = parseKeyDef(this.config.keyboardMap, text);\n    for(let i = 0; i < actions.length; i++){\n        await wait(this.config);\n        await keyboardAction(this, actions[i]);\n    }\n}\nasync function keyboardAction(instance, { keyDef, releasePrevious, releaseSelf, repeat }) {\n    const { system } = instance;\n    // Release the key automatically if it was pressed before.\n    if (system.keyboard.isKeyPressed(keyDef)) {\n        await system.keyboard.keyup(instance, keyDef);\n    }\n    if (!releasePrevious) {\n        for(let i = 1; i <= repeat; i++){\n            await system.keyboard.keydown(instance, keyDef);\n            if (i < repeat) {\n                await wait(instance.config);\n            }\n        }\n        // Release the key only on the last iteration on `state.repeatKey`.\n        if (releaseSelf) {\n            await system.keyboard.keyup(instance, keyDef);\n        }\n    }\n}\nasync function releaseAllKeys(instance) {\n    for (const k of instance.system.keyboard.getPressedKeys()){\n        await instance.system.keyboard.keyup(instance, k);\n    }\n}\n\nexport { keyboard, releaseAllKeys };\n","import '../utils/click/isClickableInput.js';\nimport { createDataTransfer } from '../utils/dataTransfer/DataTransfer.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport { hasOwnSelection } from '../utils/focus/selection.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { getUISelection, getUIValue } from './UI.js';\n\nfunction copySelection(target) {\n    const data = hasOwnSelection(target) ? {\n        'text/plain': readSelectedValueFromInput(target)\n    } : {\n        'text/plain': String(target.ownerDocument.getSelection())\n    };\n    const dt = createDataTransfer(getWindow(target));\n    for(const type in data){\n        if (data[type]) {\n            dt.setData(type, data[type]);\n        }\n    }\n    return dt;\n}\nfunction readSelectedValueFromInput(target) {\n    const sel = getUISelection(target);\n    const val = getUIValue(target);\n    return val.substring(sel.startOffset, sel.endOffset);\n}\n\nexport { copySelection };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { readNextDescriptor } from '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\nfunction parseKeyDef(pointerMap, keys) {\n    const defs = [];\n    do {\n        const { descriptor, consumedLength, releasePrevious, releaseSelf = true } = readNextDescriptor(keys, 'pointer');\n        const keyDef = pointerMap.find((p)=>p.name === descriptor);\n        if (keyDef) {\n            defs.push({\n                keyDef,\n                releasePrevious,\n                releaseSelf\n            });\n        }\n        keys = keys.slice(consumedLength);\n    }while (keys)\n    return defs;\n}\n\nexport { parseKeyDef };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport { setLevelRef, ApiLevel } from '../utils/misc/level.js';\nimport { wait } from '../utils/misc/wait.js';\nimport '../options.js';\nimport { parseKeyDef } from './parseKeyDef.js';\n\nasync function pointer(input) {\n    const { pointerMap } = this.config;\n    const actions = [];\n    (Array.isArray(input) ? input : [\n        input\n    ]).forEach((actionInput)=>{\n        if (typeof actionInput === 'string') {\n            actions.push(...parseKeyDef(pointerMap, actionInput));\n        } else if ('keys' in actionInput) {\n            actions.push(...parseKeyDef(pointerMap, actionInput.keys).map((i)=>({\n                    ...actionInput,\n                    ...i\n                })));\n        } else {\n            actions.push(actionInput);\n        }\n    });\n    for(let i = 0; i < actions.length; i++){\n        await wait(this.config);\n        await pointerAction(this, actions[i]);\n    }\n    this.system.pointer.resetClickCount();\n}\nasync function pointerAction(instance, action) {\n    var _previousPosition_caret, _previousPosition_caret1;\n    const pointerName = 'pointerName' in action && action.pointerName ? action.pointerName : 'keyDef' in action ? instance.system.pointer.getPointerName(action.keyDef) : 'mouse';\n    const previousPosition = instance.system.pointer.getPreviousPosition(pointerName);\n    var _action_target, _action_coords, _action_node, _action_offset;\n    const position = {\n        target: (_action_target = action.target) !== null && _action_target !== void 0 ? _action_target : getPrevTarget(instance, previousPosition),\n        coords: (_action_coords = action.coords) !== null && _action_coords !== void 0 ? _action_coords : previousPosition === null || previousPosition === void 0 ? void 0 : previousPosition.coords,\n        caret: {\n            node: (_action_node = action.node) !== null && _action_node !== void 0 ? _action_node : hasCaretPosition(action) ? undefined : previousPosition === null || previousPosition === void 0 ? void 0 : (_previousPosition_caret = previousPosition.caret) === null || _previousPosition_caret === void 0 ? void 0 : _previousPosition_caret.node,\n            offset: (_action_offset = action.offset) !== null && _action_offset !== void 0 ? _action_offset : hasCaretPosition(action) ? undefined : previousPosition === null || previousPosition === void 0 ? void 0 : (_previousPosition_caret1 = previousPosition.caret) === null || _previousPosition_caret1 === void 0 ? void 0 : _previousPosition_caret1.offset\n        }\n    };\n    if ('keyDef' in action) {\n        if (instance.system.pointer.isKeyPressed(action.keyDef)) {\n            setLevelRef(instance, ApiLevel.Trigger);\n            await instance.system.pointer.release(instance, action.keyDef, position);\n        }\n        if (!action.releasePrevious) {\n            setLevelRef(instance, ApiLevel.Trigger);\n            await instance.system.pointer.press(instance, action.keyDef, position);\n            if (action.releaseSelf) {\n                setLevelRef(instance, ApiLevel.Trigger);\n                await instance.system.pointer.release(instance, action.keyDef, position);\n            }\n        }\n    } else {\n        setLevelRef(instance, ApiLevel.Trigger);\n        await instance.system.pointer.move(instance, pointerName, position);\n    }\n}\nfunction hasCaretPosition(action) {\n    var _action_target, _ref;\n    return !!((_ref = (_action_target = action.target) !== null && _action_target !== void 0 ? _action_target : action.node) !== null && _ref !== void 0 ? _ref : action.offset !== undefined);\n}\nfunction getPrevTarget(instance, position) {\n    if (!position) {\n        throw new Error('This pointer has no previous position. Provide a target property!');\n    }\n    var _position_target;\n    return (_position_target = position.target) !== null && _position_target !== void 0 ? _position_target : instance.config.document.body;\n}\n\nexport { pointer };\n","import { getConfig } from '@testing-library/dom';\nimport '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { isElementType } from '../utils/misc/isElementType.js';\nimport { isDisabled } from '../utils/misc/isDisabled.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport { wait } from '../utils/misc/wait.js';\nimport { hasPointerEvents } from '../utils/pointer/cssPointerEvents.js';\nimport '../event/behavior/click.js';\nimport '../event/behavior/cut.js';\nimport '../event/behavior/keydown.js';\nimport '../event/behavior/keypress.js';\nimport '../event/behavior/keyup.js';\nimport '../event/behavior/paste.js';\nimport { focusElement } from '../event/focus.js';\n\nasync function selectOptions(select, values) {\n    return selectOptionsBase.call(this, true, select, values);\n}\nasync function deselectOptions(select, values) {\n    return selectOptionsBase.call(this, false, select, values);\n}\nasync function selectOptionsBase(newValue, select, values) {\n    if (!newValue && !select.multiple) {\n        throw getConfig().getElementError(`Unable to deselect an option in a non-multiple select. Use selectOptions to change the selection instead.`, select);\n    }\n    const valArray = Array.isArray(values) ? values : [\n        values\n    ];\n    const allOptions = Array.from(select.querySelectorAll('option, [role=\"option\"]'));\n    const selectedOptions = valArray.map((val)=>{\n        if (typeof val !== 'string' && allOptions.includes(val)) {\n            return val;\n        } else {\n            const matchingOption = allOptions.find((o)=>o.value === val || o.innerHTML === val);\n            if (matchingOption) {\n                return matchingOption;\n            } else {\n                throw getConfig().getElementError(`Value \"${String(val)}\" not found in options`, select);\n            }\n        }\n    }).filter((option)=>!isDisabled(option));\n    if (isDisabled(select) || !selectedOptions.length) return;\n    const selectOption = (option)=>{\n        option.selected = newValue;\n        this.dispatchUIEvent(select, 'input', {\n            bubbles: true,\n            cancelable: false,\n            composed: true\n        });\n        this.dispatchUIEvent(select, 'change');\n    };\n    if (isElementType(select, 'select')) {\n        if (select.multiple) {\n            for (const option of selectedOptions){\n                const withPointerEvents = this.config.pointerEventsCheck === 0 ? true : hasPointerEvents(this, option);\n                // events fired for multiple select are weird. Can't use hover...\n                if (withPointerEvents) {\n                    this.dispatchUIEvent(option, 'pointerover');\n                    this.dispatchUIEvent(select, 'pointerenter');\n                    this.dispatchUIEvent(option, 'mouseover');\n                    this.dispatchUIEvent(select, 'mouseenter');\n                    this.dispatchUIEvent(option, 'pointermove');\n                    this.dispatchUIEvent(option, 'mousemove');\n                    this.dispatchUIEvent(option, 'pointerdown');\n                    this.dispatchUIEvent(option, 'mousedown');\n                }\n                focusElement(select);\n                if (withPointerEvents) {\n                    this.dispatchUIEvent(option, 'pointerup');\n                    this.dispatchUIEvent(option, 'mouseup');\n                }\n                selectOption(option);\n                if (withPointerEvents) {\n                    this.dispatchUIEvent(option, 'click');\n                }\n                await wait(this.config);\n            }\n        } else if (selectedOptions.length === 1) {\n            const withPointerEvents = this.config.pointerEventsCheck === 0 ? true : hasPointerEvents(this, select);\n            // the click to open the select options\n            if (withPointerEvents) {\n                await this.click(select);\n            } else {\n                focusElement(select);\n            }\n            selectOption(selectedOptions[0]);\n            if (withPointerEvents) {\n                // the browser triggers another click event on the select for the click on the option\n                // this second click has no 'down' phase\n                this.dispatchUIEvent(select, 'pointerover');\n                this.dispatchUIEvent(select, 'pointerenter');\n                this.dispatchUIEvent(select, 'mouseover');\n                this.dispatchUIEvent(select, 'mouseenter');\n                this.dispatchUIEvent(select, 'pointerup');\n                this.dispatchUIEvent(select, 'mouseup');\n                this.dispatchUIEvent(select, 'click');\n            }\n            await wait(this.config);\n        } else {\n            throw getConfig().getElementError(`Cannot select multiple options on a non-multiple select`, select);\n        }\n    } else if (select.getAttribute('role') === 'listbox') {\n        for (const option of selectedOptions){\n            await this.click(option);\n            await this.unhover(option);\n        }\n    } else {\n        throw getConfig().getElementError(`Cannot select options on elements that are neither select nor listbox elements`, select);\n    }\n}\n\nexport { deselectOptions, selectOptions };\n","// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n    if (descriptor) {\n        Object.defineProperty(obj, prop, descriptor);\n    } else {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete obj[prop];\n    }\n}\nfunction setFiles(el, files) {\n    var _el_fakeFiles;\n    (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === void 0 ? void 0 : _el_fakeFiles.restore();\n    const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n    const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n    const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n    function restore() {\n        restoreProperty(el, 'type', typeDescr);\n        restoreProperty(el, 'value', valueDescr);\n        restoreProperty(el, 'files', filesDescr);\n    }\n    el[fakeFiles] = {\n        restore\n    };\n    Object.defineProperties(el, {\n        files: {\n            configurable: true,\n            get: ()=>files\n        },\n        value: {\n            configurable: true,\n            get: ()=>files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n            set (v) {\n                if (v === '') {\n                    restore();\n                } else {\n                    var _valueDescr_set;\n                    valueDescr === null || valueDescr === void 0 ? void 0 : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === void 0 ? void 0 : _valueDescr_set.call(el, v);\n                }\n            }\n        },\n        type: {\n            configurable: true,\n            get: ()=>'file',\n            set (v) {\n                if (v !== 'file') {\n                    restore();\n                    el.type = v;\n                }\n            }\n        }\n    });\n}\n\nexport { setFiles };\n","import { click, dblClick, tripleClick } from '../convenience/click.js';\nimport { hover, unhover } from '../convenience/hover.js';\nimport { tab } from '../convenience/tab.js';\nimport { keyboard } from '../keyboard/index.js';\nimport { copy } from '../clipboard/copy.js';\nimport { cut } from '../clipboard/cut.js';\nimport { paste } from '../clipboard/paste.js';\nimport { pointer } from '../pointer/index.js';\nimport { clear } from '../utility/clear.js';\nimport { deselectOptions, selectOptions } from '../utility/selectOptions.js';\nimport { type } from '../utility/type.js';\nimport { upload } from '../utility/upload.js';\n\nconst userEventApi = {\n    click,\n    dblClick,\n    tripleClick,\n    hover,\n    unhover,\n    tab,\n    keyboard,\n    copy,\n    cut,\n    paste,\n    pointer,\n    clear,\n    deselectOptions,\n    selectOptions,\n    type,\n    upload\n};\n\nexport { userEventApi };\n","async function click(element) {\n    const pointerIn = [];\n    if (!this.config.skipHover) {\n        pointerIn.push({\n            target: element\n        });\n    }\n    pointerIn.push({\n        keys: '[MouseLeft]',\n        target: element\n    });\n    return this.pointer(pointerIn);\n}\nasync function dblClick(element) {\n    return this.pointer([\n        {\n            target: element\n        },\n        '[MouseLeft][MouseLeft]'\n    ]);\n}\nasync function tripleClick(element) {\n    return this.pointer([\n        {\n            target: element\n        },\n        '[MouseLeft][MouseLeft][MouseLeft]'\n    ]);\n}\n\nexport { click, dblClick, tripleClick };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport { assertPointerEvents } from '../utils/pointer/cssPointerEvents.js';\n\nasync function hover(element) {\n    return this.pointer({\n        target: element\n    });\n}\nasync function unhover(element) {\n    assertPointerEvents(this, this.system.pointer.getMouseTarget(this));\n    return this.pointer({\n        target: element.ownerDocument.body\n    });\n}\n\nexport { hover, unhover };\n","async function tab({ shift } = {}) {\n    return this.keyboard(shift === true ? '{Shift>}{Tab}{/Shift}' : shift === false ? '[/ShiftLeft][/ShiftRight]{Tab}' : '{Tab}');\n}\n\nexport { tab };\n","import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { readNextDescriptor } from '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\n/**\n * Parse key defintions per `keyboardMap`\n *\n * Keys can be referenced by `{key}` or `{special}` as well as physical locations per `[code]`.\n * Everything else will be interpreted as a typed character - e.g. `a`.\n * Brackets `{` and `[` can be escaped by doubling - e.g. `foo[[bar` translates to `foo[bar`.\n * Keeping the key pressed can be written as `{key>}`.\n * When keeping the key pressed you can choose how long (how many keydown and keypress) the key is pressed `{key>3}`.\n * You can then release the key per `{key>3/}` or keep it pressed and continue with the next key.\n */ function parseKeyDef(keyboardMap, text) {\n    const defs = [];\n    do {\n        const { type, descriptor, consumedLength, releasePrevious, releaseSelf = true, repeat } = readNextDescriptor(text, 'keyboard');\n        var _keyboardMap_find;\n        const keyDef = (_keyboardMap_find = keyboardMap.find((def)=>{\n            if (type === '[') {\n                var _def_code;\n                return ((_def_code = def.code) === null || _def_code === void 0 ? void 0 : _def_code.toLowerCase()) === descriptor.toLowerCase();\n            } else if (type === '{') {\n                var _def_key;\n                return ((_def_key = def.key) === null || _def_key === void 0 ? void 0 : _def_key.toLowerCase()) === descriptor.toLowerCase();\n            }\n            return def.key === descriptor;\n        })) !== null && _keyboardMap_find !== void 0 ? _keyboardMap_find : {\n            key: 'Unknown',\n            code: 'Unknown',\n            [type === '[' ? 'code' : 'key']: descriptor\n        };\n        defs.push({\n            keyDef,\n            releasePrevious,\n            releaseSelf,\n            repeat\n        });\n        text = text.slice(consumedLength);\n    }while (text)\n    return defs;\n}\n\nexport { parseKeyDef };\n","import '../utils/click/isClickableInput.js';\nimport { writeDataTransferToClipboard } from '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { copySelection } from '../document/copySelection.js';\n\nasync function copy() {\n    const doc = this.config.document;\n    var _doc_activeElement;\n    const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== void 0 ? _doc_activeElement : /* istanbul ignore next */ doc.body;\n    const clipboardData = copySelection(target);\n    if (clipboardData.items.length === 0) {\n        return;\n    }\n    if (this.dispatchUIEvent(target, 'copy', {\n        clipboardData\n    }) && this.config.writeToClipboard) {\n        await writeDataTransferToClipboard(doc, clipboardData);\n    }\n    return clipboardData;\n}\n\nexport { copy };\n","import '../utils/click/isClickableInput.js';\nimport { writeDataTransferToClipboard } from '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { copySelection } from '../document/copySelection.js';\n\nasync function cut() {\n    const doc = this.config.document;\n    var _doc_activeElement;\n    const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== void 0 ? _doc_activeElement : /* istanbul ignore next */ doc.body;\n    const clipboardData = copySelection(target);\n    if (clipboardData.items.length === 0) {\n        return;\n    }\n    if (this.dispatchUIEvent(target, 'cut', {\n        clipboardData\n    }) && this.config.writeToClipboard) {\n        await writeDataTransferToClipboard(target.ownerDocument, clipboardData);\n    }\n    return clipboardData;\n}\n\nexport { cut };\n","import '../utils/click/isClickableInput.js';\nimport { createDataTransfer } from '../utils/dataTransfer/DataTransfer.js';\nimport { readDataTransferFromClipboard } from '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\nasync function paste(clipboardData) {\n    const doc = this.config.document;\n    var _doc_activeElement;\n    const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== void 0 ? _doc_activeElement : /* istanbul ignore next */ doc.body;\n    var _ref;\n    const dataTransfer = (_ref = typeof clipboardData === 'string' ? getClipboardDataFromString(doc, clipboardData) : clipboardData) !== null && _ref !== void 0 ? _ref : await readDataTransferFromClipboard(doc).catch(()=>{\n        throw new Error('`userEvent.paste()` without `clipboardData` requires the `ClipboardAPI` to be available.');\n    });\n    this.dispatchUIEvent(target, 'paste', {\n        clipboardData: dataTransfer\n    });\n}\nfunction getClipboardDataFromString(doc, text) {\n    const dt = createDataTransfer(getWindow(doc));\n    dt.setData('text', text);\n    return dt;\n}\n\nexport { paste };\n","import '../event/behavior/click.js';\nimport '../event/behavior/cut.js';\nimport '../event/behavior/keydown.js';\nimport '../event/behavior/keypress.js';\nimport '../event/behavior/keyup.js';\nimport '../event/behavior/paste.js';\nimport '@testing-library/dom';\nimport '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport { isEditable } from '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { isDisabled } from '../utils/misc/isDisabled.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { focusElement } from '../event/focus.js';\nimport { input } from '../event/input.js';\nimport { selectAll, isAllSelected } from '../event/selection/selectAll.js';\n\nasync function clear(element) {\n    if (!isEditable(element) || isDisabled(element)) {\n        throw new Error('clear()` is only supported on editable elements.');\n    }\n    focusElement(element);\n    if (element.ownerDocument.activeElement !== element) {\n        throw new Error('The element to be cleared could not be focused.');\n    }\n    selectAll(element);\n    if (!isAllSelected(element)) {\n        throw new Error('The element content to be cleared could not be selected.');\n    }\n    input(this, element, '', 'deleteContentBackward');\n}\n\nexport { clear };\n","import { releaseAllKeys } from '../keyboard/index.js';\nimport '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\nimport { setSelectionRange } from '../event/selection/setSelectionRange.js';\n\nasync function type(element, text, { skipClick = this.config.skipClick, skipAutoClose = this.config.skipAutoClose, initialSelectionStart, initialSelectionEnd } = {}) {\n    // TODO: properly type guard\n    // we use this workaround for now to prevent changing behavior\n    if (element.disabled) return;\n    if (!skipClick) {\n        await this.click(element);\n    }\n    if (initialSelectionStart !== undefined) {\n        setSelectionRange(element, initialSelectionStart, initialSelectionEnd !== null && initialSelectionEnd !== void 0 ? initialSelectionEnd : initialSelectionStart);\n    }\n    await this.keyboard(text);\n    if (!skipAutoClose) {\n        await releaseAllKeys(this);\n    }\n}\n\nexport { type };\n","import '../utils/click/isClickableInput.js';\nimport { createFileList } from '../utils/dataTransfer/FileList.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport { setFiles } from '../utils/edit/setFiles.js';\nimport { isElementType } from '../utils/misc/isElementType.js';\nimport { isDisabled } from '../utils/misc/isDisabled.js';\nimport { getWindow } from '../utils/misc/getWindow.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\nasync function upload(element, fileOrFiles) {\n    const input = isElementType(element, 'label') ? element.control : element;\n    if (!input || !isElementType(input, 'input', {\n        type: 'file'\n    })) {\n        throw new TypeError(`The ${input === element ? 'given' : 'associated'} ${input === null || input === void 0 ? void 0 : input.tagName} element does not accept file uploads`);\n    }\n    if (isDisabled(element)) return;\n    const files = (Array.isArray(fileOrFiles) ? fileOrFiles : [\n        fileOrFiles\n    ]).filter((file)=>!this.config.applyAccept || isAcceptableFile(file, input.accept)).slice(0, input.multiple ? undefined : 1);\n    const fileDialog = ()=>{\n        var _input_files;\n        // do not fire an input event if the file selection does not change\n        if (files.length === ((_input_files = input.files) === null || _input_files === void 0 ? void 0 : _input_files.length) && files.every((f, i)=>{\n            var _input_files;\n            return f === ((_input_files = input.files) === null || _input_files === void 0 ? void 0 : _input_files.item(i));\n        })) {\n            return;\n        }\n        setFiles(input, createFileList(getWindow(element), files));\n        this.dispatchUIEvent(input, 'input');\n        this.dispatchUIEvent(input, 'change');\n    };\n    input.addEventListener('fileDialog', fileDialog);\n    await this.click(element);\n    input.removeEventListener('fileDialog', fileDialog);\n}\nfunction isAcceptableFile(file, accept) {\n    if (!accept) {\n        return true;\n    }\n    const wildcards = [\n        'audio/*',\n        'image/*',\n        'video/*'\n    ];\n    return accept.split(',').some((acceptToken)=>{\n        if (acceptToken.startsWith('.')) {\n            // tokens starting with a dot represent a file extension\n            return file.name.endsWith(acceptToken);\n        } else if (wildcards.includes(acceptToken)) {\n            return file.type.startsWith(acceptToken.substr(0, acceptToken.length - 1));\n        }\n        return file.type === acceptToken;\n    });\n}\n\nexport { upload };\n","import { prepareDocument } from '../document/prepareDocument.js';\nimport { dispatchEvent, dispatchUIEvent } from '../event/dispatchEvent.js';\nimport '../utils/click/isClickableInput.js';\nimport { attachClipboardStubToView } from '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '../utils/keyDef/readNextDescriptor.js';\nimport { getDocumentFromNode } from '../utils/misc/getDocumentFromNode.js';\nimport { setLevelRef, ApiLevel } from '../utils/misc/level.js';\nimport { wait } from '../utils/misc/wait.js';\nimport { PointerEventsCheckLevel } from '../options.js';\nimport '@testing-library/dom';\nimport { defaultKeyMap } from '../keyboard/keyMap.js';\nimport { defaultKeyMap as defaultKeyMap$1 } from '../pointer/keyMap.js';\nimport { System } from '../system/index.js';\nimport { userEventApi } from './api.js';\nimport { wrapAsync } from './wrapAsync.js';\n\n/**\n * Default options applied when API is called per `userEvent.anyApi()`\n */ const defaultOptionsDirect = {\n    applyAccept: true,\n    autoModify: true,\n    delay: 0,\n    document: globalThis.document,\n    keyboardMap: defaultKeyMap,\n    pointerMap: defaultKeyMap$1,\n    pointerEventsCheck: PointerEventsCheckLevel.EachApiCall,\n    skipAutoClose: false,\n    skipClick: false,\n    skipHover: false,\n    writeToClipboard: false,\n    advanceTimers: ()=>Promise.resolve()\n};\n/**\n * Default options applied when API is called per `userEvent().anyApi()`\n */ const defaultOptionsSetup = {\n    ...defaultOptionsDirect,\n    writeToClipboard: true\n};\nfunction createConfig(options = {}, defaults = defaultOptionsSetup, node) {\n    const document = getDocument(options, node, defaults);\n    return {\n        ...defaults,\n        ...options,\n        document\n    };\n}\n/**\n * Start a \"session\" with userEvent.\n * All APIs returned by this function share an input device state and a default configuration.\n */ function setupMain(options = {}) {\n    const config = createConfig(options);\n    prepareDocument(config.document);\n    var _config_document_defaultView;\n    const view = (_config_document_defaultView = config.document.defaultView) !== null && _config_document_defaultView !== void 0 ? _config_document_defaultView : /* istanbul ignore next */ globalThis.window;\n    attachClipboardStubToView(view);\n    return createInstance(config).api;\n}\n/**\n * Setup in direct call per `userEvent.anyApi()`\n */ function setupDirect({ keyboardState, pointerState, ...options } = {}, node) {\n    const config = createConfig(options, defaultOptionsDirect, node);\n    prepareDocument(config.document);\n    var _ref;\n    const system = (_ref = pointerState !== null && pointerState !== void 0 ? pointerState : keyboardState) !== null && _ref !== void 0 ? _ref : new System();\n    return {\n        api: createInstance(config, system).api,\n        system\n    };\n}\n/**\n * Create a set of callbacks with different default settings but the same state.\n */ function setupSub(options) {\n    return createInstance({\n        ...this.config,\n        ...options\n    }, this.system).api;\n}\nfunction wrapAndBindImpl(instance, impl) {\n    function method(...args) {\n        setLevelRef(instance, ApiLevel.Call);\n        return wrapAsync(()=>impl.apply(instance, args).then(async (ret)=>{\n                await wait(instance.config);\n                return ret;\n            }));\n    }\n    Object.defineProperty(method, 'name', {\n        get: ()=>impl.name\n    });\n    return method;\n}\nfunction createInstance(config, system = new System()) {\n    const instance = {};\n    Object.assign(instance, {\n        config,\n        dispatchEvent: dispatchEvent.bind(instance),\n        dispatchUIEvent: dispatchUIEvent.bind(instance),\n        system,\n        levelRefs: {},\n        ...userEventApi\n    });\n    return {\n        instance,\n        api: {\n            ...Object.fromEntries(Object.entries(userEventApi).map(([name, api])=>[\n                    name,\n                    wrapAndBindImpl(instance, api)\n                ])),\n            setup: setupSub.bind(instance)\n        }\n    };\n}\nfunction getDocument(options, node, defaults) {\n    var _options_document, _ref;\n    return (_ref = (_options_document = options.document) !== null && _options_document !== void 0 ? _options_document : node && getDocumentFromNode(node)) !== null && _ref !== void 0 ? _ref : defaults.document;\n}\n\nexport { createConfig, createInstance, setupDirect, setupMain, setupSub };\n","const defaultKeyMap = [\n    {\n        name: 'MouseLeft',\n        pointerType: 'mouse',\n        button: 'primary'\n    },\n    {\n        name: 'MouseRight',\n        pointerType: 'mouse',\n        button: 'secondary'\n    },\n    {\n        name: 'MouseMiddle',\n        pointerType: 'mouse',\n        button: 'auxiliary'\n    },\n    {\n        name: 'TouchA',\n        pointerType: 'touch'\n    },\n    {\n        name: 'TouchB',\n        pointerType: 'touch'\n    },\n    {\n        name: 'TouchC',\n        pointerType: 'touch'\n    }\n];\n\nexport { defaultKeyMap };\n","function getDocumentFromNode(el) {\n    return isDocument(el) ? el : el.ownerDocument;\n}\nfunction isDocument(node) {\n    return node.nodeType === 9;\n}\n\nexport { getDocumentFromNode };\n","import { getConfig } from '@testing-library/dom';\n\n/**\n * Wrap an internal Promise\n */ function wrapAsync(implementation) {\n    return getConfig().asyncWrapper(implementation);\n}\n\nexport { wrapAsync };\n","import { setupDirect } from './setup.js';\n\nfunction clear(element) {\n    return setupDirect().api.clear(element);\n}\nfunction click(element, options = {}) {\n    return setupDirect(options, element).api.click(element);\n}\nfunction copy(options = {}) {\n    return setupDirect(options).api.copy();\n}\nfunction cut(options = {}) {\n    return setupDirect(options).api.cut();\n}\nfunction dblClick(element, options = {}) {\n    return setupDirect(options).api.dblClick(element);\n}\nfunction deselectOptions(select, values, options = {}) {\n    return setupDirect(options).api.deselectOptions(select, values);\n}\nfunction hover(element, options = {}) {\n    return setupDirect(options).api.hover(element);\n}\nasync function keyboard(text, options = {}) {\n    const { api, system } = setupDirect(options);\n    return api.keyboard(text).then(()=>system);\n}\nasync function pointer(input, options = {}) {\n    const { api, system } = setupDirect(options);\n    return api.pointer(input).then(()=>system);\n}\nfunction paste(clipboardData, options) {\n    return setupDirect(options).api.paste(clipboardData);\n}\nfunction selectOptions(select, values, options = {}) {\n    return setupDirect(options).api.selectOptions(select, values);\n}\nfunction tripleClick(element, options = {}) {\n    return setupDirect(options).api.tripleClick(element);\n}\nfunction type(element, text, options = {}) {\n    return setupDirect(options, element).api.type(element, text, options);\n}\nfunction unhover(element, options = {}) {\n    const { api, system } = setupDirect(options);\n    system.pointer.setMousePosition({\n        target: element\n    });\n    return api.unhover(element);\n}\nfunction upload(element, fileOrFiles, options = {}) {\n    return setupDirect(options).api.upload(element, fileOrFiles);\n}\nfunction tab(options = {}) {\n    return setupDirect().api.tab(options);\n}\n\nexport { clear, click, copy, cut, dblClick, deselectOptions, hover, keyboard, paste, pointer, selectOptions, tab, tripleClick, type, unhover, upload };\n","import { setupMain } from './setup.js';\nimport * as directApi from './directApi.js';\n\nconst userEvent = {\n    ...directApi,\n    setup: setupMain\n};\n\nexport { userEvent };\n"],"names":["clickableInputTypes","isElementType","element","tag","props","namespaceURI","Array","isArray","includes","tagName","toLowerCase","Object","entries","every","_ref","k","v","isClickableInput","type","getWindow","node","_node_ownerDocument","val","nodeType","isDocument","defaultView","ownerDocument","Error","name","String","readBlobText","blob","FileReader","Promise","res","rej","fr","onerror","onabort","onload","result","readAsText","createFileList","window","files","list","length","item","index","Symbol","iterator","i","constructor","FileList","setPrototypeOf","prototype","freeze","_define_property","obj","key","value","defineProperty","enumerable","configurable","writable","DataTransferItemStub","getAsFile","this","file","getAsString","callback","data","webkitGetAsEntry","dataOrFile","undefined","kind","DataTransferItemListStub","add","arguments","push","clear","splice","remove","getTypeMatcher","exact","group","sub","split","isGroup","startsWith","createDataTransfer","dt","DataTransfer","getData","format","_this_items_find","match","items","find","text","t","setData","matchIndex","findIndex","clearData","types","forEach","setDragImage","createDataTransferStub","get","getBlobFromDataTransferItem","s","Blob","createClipboardItem","_len","blobs","_key","dataMap","fromEntries","map","b","resolve","ClipboardItem","from","keys","getType","d","ClipboardStubControl","createClipboardStub","control","assign","EventTarget","read","readText","then","write","writeText","super","isClipboardStub","clipboard","async","writeDataTransferToClipboard","document","clipboardData","navigator","g","globalThis","isContentEditable","hasAttribute","getAttribute","getContentEditable","parentElement","getElement","closest","isEditable","isEditableInputOrTextArea","readOnly","editableInputTypes","maxLengthSupportedTypes","afterEach","resetClipboardStub","afterAll","detachClipboardStub","FOCUSABLE_SELECTOR","join","isFocusable","matches","bracketDict","ApiLevel","PointerEventsCheckLevel","readNextDescriptor","context","pos","startBracket","RegExp","test","readPrintableChar","readTag","descriptor","assertDescriptor","consumedLength","releasePrevious","releaseSelf","repeat","_text_slice_match","_text_slice_match1","releasePreviousModifier","escapedDescriptor","Number","slice","_text_slice_match_","repeatModifier","releaseSelfModifier","expectedEndBracket","endBracket","getErrorMessage","filter","Boolean","Math","max","substr","hasReleaseSelf","expected","found","setLevelRef","instance","level","levelRefs","getLevelRef","isDisabled","el","_el_querySelector","querySelector","contains","formAssociated","getActiveElement","activeElement","shadowRoot","body","getActiveElementOrBody","_getActiveElement","hasOwnSelection","isElement","wrapEvent","cb","_element","getConfig","eventWrapper","focusElement","target","findClosest","focus","blur","selection","getSelection","focusNode","contenteditable","isCollapsed","_contenteditable_firstChild","firstChild","setBaseAndExtent","updateSelectionOnFocus","behavior","click","event","dispatchEvent","cloneEvent","blurElement","UIValue","UISelection","InitialValue","getUIValue","setUIValueClean","clearInitialValue","setUISelection","focusOffset","focusOffsetParam","anchorOffset","anchorOffsetParam","mode","valueLength","sanitizeOffset","o","min","startOffset","endOffset","selectionStart","selectionEnd","startObj","setSelectionRange","getUISelection","_element_selectionStart","_element_selectionEnd","_element_UISelection","sel","setUISelectionClean","parseInt","build","onlyDigitsValue","hours","validHours","minuteCharacters","parsedMinutes","validMinutes","toString","padStart","isValidDateOrTimeValue","clone","cloneNode","getNextCursorPosition","offset","direction","inputType","isTextNode","nodeValue","nextNode","getNextCharacterContentNode","nextPlusOne","parentNode","getOffset","nextOffset","children","sibling","getDescendant","walkNodes","isTreatedAsCharacterContent","previousSibling","hasChildNodes","TrackChanges","startTrackValue","getOwnPropertyNames","some","REACT_VERSION","isReact17Element","previousValue","tracked","commitValueAfterInput","cursorOffset","_changes_tracked","changes","isJustReactStateUpdate","hasUISelection","getTargetTypeAndSelection","anchorNode","setSelection","_anchorNode_ownerDocument_getSelection","_anchorNode_ownerDocument","isDateOrTime","input","inputRange","typeAndSelection","_typeAndSelection_selection","getRangeAt","getInputRange","dispatchUIEvent","del","collapsed","nextPosition","startContainer","delRange","cloneRange","comparePoint","setStart","setEnd","deleteContents","endContainer","insertData","createTextNode","insertNode","editContenteditable","dataToInsert","supportsMaxLength","maxLength","_element_getAttribute","attr","getMaxLength","spaceUntilMaxLength","substring","newValue","newOffset","oldValue","inputData","prologEnd","prolog","epilogStart","epilog","builtValue","replace","firstDigit","secondDigit","buildTimeValue","calculateNewValue","_value_match","_value_match1","valueParts","isValidNumberInput","setUIValue","commitInput","editInputElement","inputInit","isVisible","display","visibility","getComputedStyle","moveSelection","selectAll","_getContentEditable","childNodes","_element_firstChild","walkRadio","querySelectorAll","CSS","escape","e","cut","keydown","_keydownBehavior_event_key","_keydownBehavior_event_key1","keydownBehavior","call","combinationBehavior","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Backspace","Delete","End","_getValueOrTextContent","_getValueOrTextContent_length","newPos","textContent","Home","PageDown","PageUp","Tab","dest","shift","focusableElements","enabledElements","sort","a","j","checkedRadio","prunedElements","activeRadioGroup","currentElement","checked","getTabDestination","system","keyboard","modifiers","Shift","code","Control","keypress","ClickInputOnEnter","href","form","submit","SubmitSingleInputOnEnter","keyup","_keyupBehavior_event_key","keyupBehavior"," ","paste","_event_clipboardData","eventMap","auxclick","EventType","defaultInit","bubbles","cancelable","composed","beforeinput","contextmenu","copy","change","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","getEventClass","mouseEvents","eventInitializer","ClipboardEvent","assignProps","Event","InputEvent","initUIEvent","_ref2","isComposing","MouseEvent","initUIEventModififiers","initMouseEvent","PointerEvent","_ref7","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","sanitizeNumber","KeyboardEvent","_ref5","location","charCode","createEvent","init","_window_Event","_window_AnimationEvent","AnimationEvent","_window_ClipboardEvent","_window_PopStateEvent","PopStateEvent","_window_ProgressEvent","ProgressEvent","_window_TransitionEvent","TransitionEvent","_window_UIEvent","UIEvent","_window_CompositionEvent","CompositionEvent","_window_FocusEvent","FocusEvent","_window_InputEvent","_window_KeyboardEvent","_window_MouseEvent","_window_DragEvent","DragEvent","_window_PointerEvent","_window_TouchEvent","TouchEvent","getEventConstructors","f","n","_ref3","view","detail","_ref4","altKey","ctrlKey","metaKey","shiftKey","modifierAltGraph","modifierCapsLock","modifierFn","modifierFnLock","modifierNumLock","modifierScrollLock","modifierSymbol","modifierSymbolLock","getModifierState","Alt","AltGraph","CapsLock","Fn","FnLock","Meta","NumLock","ScrollLock","SymbolLock","_ref6","x","y","screenX","screenY","clientX","clientY","button","buttons","relatedTarget","preventDefault","isMouseEvent","isKeyboardEvent","getUIEventModifiers","_behavior_type","behaviorImplementation","defaultPrevented","Interceptor","prepareInterceptor","propName","interceptorImpl","prototypeDescriptor","getOwnPropertyDescriptor","objectDescriptor","set","intercept","args","applyNative","realArgs","realFunc","prepareValueInterceptor","isUI","sanitizeValue","_element_TrackChanges_tracked","_element_TrackChanges","trackOrSetValue","isNaN","prepareSelectionInterceptor","start","isUISelectionStart","_len2","others","_key2","setUISelectionRaw","isPrepared","prepareDocument","addEventListener","prepareElement","capture","passive","initialValue","dispatchDOMEvent","_len3","_key3","wait","config","delay","all","setTimeout","advanceTimers","DOM_KEY_LOCATION","modifierKeys","isModifierKey","modifierLocks","isModifierLock","KeyboardHost","isKeyPressed","keyDef","pressed","getPressedKeys","values","p","_this_pressed","_code","_this_pressed_code","_","setKeydownTarget","unpreventedDefault","unprevented","modifierLockStart","hasKeyPress","charCodeAt","lastKeydownTarget","carryChar","defaultKeyMap","c","toUpperCase","LEFT","RIGHT","Buttons","getButtons","down","getMouseButtonId","up","MouseButton","primary","secondary","auxiliary","back","X1","forward","X2","MouseButtonFlip","getMouseEventButton","Device","countPressed","pressedKeys","size","isPressed","has","addPressed","removePressed","delete","Set","getTreeDiff","treeA","treeB","resolveCaretPosition","findNodeAtTextOffset","isRoot","step","setSelectionPerMouseDown","clickCount","hasNoSelection","targetHasOwnSelection","end","textPos","getTextRange","startNode","endNode","range","createRange","removeAllRanges","addRange","isDifferentPointerPosition","positionA","positionB","_positionA_coords","_positionB_coords","_positionA_coords1","_positionB_coords1","_positionA_caret","_positionB_caret","_positionA_caret1","_positionB_caret1","coords","caret","Mouse","move","position","prevPosition","prevTarget","getTarget","nextTarget","getEventInit","leave","enter","modifySelecting","pointer","buttonDownTarget","disabled","startSelecting","endSelecting","clickTarget","resetClickCount","reset","getOnDown","getOnUp","incOnClick","_this_position_target","_this_position_caret","_this_position_caret1","selecting","selectionRange","selectionFocus","cmp","modifySelectionPerMouseMove","current","count","_this_count_button","_this_count_button1","hasPointerEvents","_checkPointerEvents","checkPointerEvents","pointerEvents","PointerEventsCheck","lastCheck","pointerEventsCheck","Never","hasBitFlag","EachApiCall","Call","EachTrigger","Trigger","declaration","tree","closestPointerEventsDeclaration","assertPointerEvents","reverse","padEnd","id","getLabelDescr","_element_labels","label","_element_ownerDocument_getElementById_textContent","_element_ownerDocument_getElementById","getElementById","trim","labels","_el_textContent","_element_textContent","conf","flag","Pointer","_keyDef","isDown","isPrevented","release","isCancelled","isMultitouch","PointerHost","devices","press","pointerName","getPointerName","pointers","new","mouse","device","getPreviousPosition","getMouseTarget","_this_mouse_position_target","setMousePosition","_this_registry","_k","registry","nextId","System","keyboardAction","copySelection","readSelectedValueFromInput","parseKeyDef","pointerMap","defs","pointerAction","action","_previousPosition_caret","_previousPosition_caret1","previousPosition","_action_target","_action_coords","_action_node","_action_offset","getPrevTarget","hasCaretPosition","_position_target","selectOptionsBase","select","multiple","getElementError","valArray","allOptions","selectedOptions","matchingOption","innerHTML","option","selectOption","selected","withPointerEvents","unhover","fakeFiles","restoreProperty","prop","userEventApi","pointerIn","skipHover","dblClick","tripleClick","hover","tab","actions","keyboardMap","_keyboardMap_find","def","_def_code","_def_key","doc","_doc_activeElement","writeToClipboard","dataTransfer","getClipboardDataFromString","readDataTransferFromClipboard","catch","actionInput","isAllSelected","deselectOptions","selectOptions","skipClick","skipAutoClose","initialSelectionStart","initialSelectionEnd","releaseAllKeys","upload","fileOrFiles","TypeError","applyAccept","accept","wildcards","acceptToken","endsWith","isAcceptableFile","fileDialog","_input_files","_el_fakeFiles","restore","typeDescr","valueDescr","filesDescr","defineProperties","_valueDescr_set","setFiles","removeEventListener","defaultOptionsDirect","autoModify","defaultOptionsSetup","createConfig","options","defaults","_options_document","getDocument","setupDirect","keyboardState","pointerState","api","createInstance","setupSub","wrapAndBindImpl","impl","method","implementation","apply","ret","asyncWrapper","bind","setup","userEvent","directApi","_config_document_defaultView","realClipboard","stub","attachClipboardStubToView"],"sourceRoot":""}