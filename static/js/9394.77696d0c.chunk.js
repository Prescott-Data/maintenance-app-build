"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[9394,7091,9761],{99761:function(e,t,n){n.r(t),n.d(t,{OrganisationUnitListActions:function(){return A}});var l=n(28014),a=n(21039),i=n(95184),o=n(17982),c=n(85713),r=n(49266),s=n(15361),d=n(86284),u=n(72176),m=n(84586),g=n(14571),E=n(75204),h=n(50761),p=n(76680),w=n(41541),C=n(16680),k=n(99217);const A=e=>{let{model:t,onShowDetailsClick:n}=e;const l=(0,k.hv)(t),a=(0,m.useQueryClient)();return u.createElement(p.im,null,u.createElement(p.ZP,{modelId:t.id}),u.createElement(b,{deletable:l,model:t,onDeleteSuccess:()=>{a.invalidateQueries({queryKey:[{resource:"organisationUnits"}]})},onShowDetailsClick:n}))},b=e=>{let{deletable:t,model:n,onDeleteSuccess:m,onShowDetailsClick:p}=e;const[k,A]=(0,u.useState)(!1),b=(0,u.useRef)(null),f=(0,g.$P)(n.id,{relative:"path"}),S=(0,E.Gy)(n.id);return u.createElement("div",{ref:b},u.createElement(a.$,{small:!0,secondary:!0,onClick:()=>A(!k),dataTest:"row-actions-menu-button",icon:u.createElement(i.A,null)}),k&&u.createElement(o.A,{arrow:!1,placement:"bottom-end",reference:b,onClickOutside:()=>A(!1),dataTest:"row-actions-menu"},u.createElement(c.n,null,u.createElement(r.D,{dense:!0,label:l.A.t("Show details"),icon:u.createElement(s.A,null),onClick:()=>{p(n),A(!1)}}),u.createElement(r.D,{dense:!0,label:l.A.t("Edit"),icon:u.createElement(d.A,null),onClick:(e,t)=>{S(t),A(!1)},target:"_blank",href:f}),u.createElement(w.T,{condition:!t,content:C.H$.noDeleteAccess},u.createElement(h.S,{model:n,disabled:!t,onDeleteSuccess:()=>{m(),A(!1)},onCancel:()=>A(!1)})))))}},27013:function(e,t,n){n.r(t),n.d(t,{OrganisationUnitRow:function(){return p}});var l=n(28014),a=n(12537),i=n(62251),o=n(21039),c=n(75012),r=n(31353),s=n(43399),d=n(81807),u=n(79432),m=n(9730),g=n(72176),E=n(77091),h=n(99761);const p=e=>{let{row:t,toggleShowAll:n,showAllActive:p,isFiltering:w,fetchNextPage:C,onShowDetailsClick:k,hasErrored:A}=e;const b=t.getParentRow();return g.createElement(g.Fragment,null,g.createElement(a.J,{key:t.id},g.createElement(i.B,null,g.createElement("span",{style:{paddingLeft:2*t.depth+"rem",display:"flex"}},t.getCanExpand()?g.createElement(g.Fragment,null,w&&(p||t.original.childCount!==t.subRows.length)&&g.createElement(o.$,{secondary:!0,onClick:()=>{n(t.original.id)},icon:p?g.createElement(c.A,null):g.createElement(r.A,null)},"Show all"),g.createElement(o.$,{className:E.default.expandButton,secondary:!0,type:"button",dataTest:"row-expand-icon",loading:t.getIsExpanded()&&t.subRows.length<1&&!A,icon:t.getIsExpanded()?g.createElement(s.A,null):g.createElement(d.A,null),onClick:t.getToggleExpandedHandler()})):null,g.createElement(u.S,{checked:t.getIsSelected(),onChange:e=>{let{checked:n}=e;return t.toggleSelected(n)}}))),t.getVisibleCells().map((e=>g.createElement(i.B,{key:e.id},(0,m.Kv)(e.column.columnDef.cell,e.getContext())))),g.createElement(i.B,null,g.createElement(h.OrganisationUnitListActions,{model:t.original,onShowDetailsClick:k}))),!w&&b&&b.getIsExpanded()&&b.subRows.length<(null===b||void 0===b?void 0:b.original.childCount)&&t===b.subRows[b.subRows.length-1]&&g.createElement(a.J,null,g.createElement(i.B,{colSpan:"100",style:{textAlign:"center"},onClick:()=>C(b.original.id)},l.A.t("Load more for {{orgUnitName}}",{orgUnitName:b.original.displayName}))))}},77091:function(e,t,n){n.r(t),t.default={expandButton:"OrganisationUnitList_expandButton__AjbgN",listDetailsWrapper:"OrganisationUnitList_listDetailsWrapper__eX9Q3"}}}]);
//# sourceMappingURL=9394.77696d0c.chunk.js.map