{"version":3,"file":"static/js/8254.63734e0c.chunk.js","mappings":"oQAOO,SAASA,IACd,MAAMC,GAAmBC,EAAAA,EAAAA,IAAQ,oBAG3B,MACJC,EAAK,KACLC,IACEC,EAAAA,EAAAA,IAAS,YAAa,CACxBC,eAAgB,GAChBC,OAAQC,GAAaA,EAAUC,GAC/BC,MAAOD,IAAE,CACPA,SAGEE,GAAkBC,EAAAA,EAAAA,QAAO,CAC7BC,QAASA,KACP,MAAM,IAAIC,MAAM,kBAAkB,IAGtC,OAAoBC,EAAAA,cAAoBC,EAAAA,GAAsB,CAC5DC,SAAU,uBACVC,UAAWA,IAAMP,EAAgBQ,QAAQN,UACzCO,SAAUA,IAAMC,OAAOC,KAAKrB,EAAkB,WAChCc,EAAAA,cAAoB,MAAO,CACzCQ,UAAWC,EAAAA,QAAQC,iBACLV,EAAAA,cAAoBW,EAAAA,EAAO,CACzCC,KAAM,eACNC,MAAOC,EAAAA,EAAKC,EAAE,cACdC,SAAUF,EAAAA,EAAKC,EAAE,qDACjBE,eAAgB5B,EAAK6B,QAAU7B,EAAK8B,WAAQC,EAC5CD,MAAO9B,EAAK6B,WAAa7B,EAAK8B,MAC9BjB,SAAU,wBACIF,EAAAA,cAAoBqB,EAAAA,GAAiB,CACnDC,eAAe,EACfC,YAAa,GACbC,QAASnC,EAAK6B,WAAa7B,EAAK8B,MAChCM,IAAK7B,EACL8B,SAAUtC,EAAMuC,MAChBC,SAAUC,IACR,IAAI,SACFH,GACEG,EACJ,OAAOzC,EAAMwC,SAASF,EAAS,EAEjCI,OAAQ1C,EAAM0C,OACdC,QAAS3C,EAAM2C,YAEnB,C,+BCrDA,WAAgB,gBAAkB,wC","sources":["D2App/pages/dataElements/fields/OptionSetField.js","webpack://@dhis2/app-shell/./src/D2App/pages/dataElements/fields/OptionSetField.module.css?7034"],"sourcesContent":["import i18n from '@dhis2/d2-i18n';\nimport { Field } from '@dhis2/ui';\nimport React, { useRef } from 'react';\nimport { useField } from 'react-final-form';\nimport { useHref } from 'react-router';\nimport { EditableFieldWrapper, OptionSetSelect } from '../../../components';\nimport classes from './OptionSetField.module.css';\nexport function OptionSetField() {\n  const newOptionSetLink = useHref('/optionSets/new');\n  // Not using a dot path because setting the value to an empty string\n  // removes the option set from the form state entirely\n  const {\n    input,\n    meta\n  } = useField('optionSet', {\n    validateFields: [],\n    format: optionSet => optionSet.id,\n    parse: id => ({\n      id\n    })\n  });\n  const optionSetHandle = useRef({\n    refetch: () => {\n      throw new Error('Not initialized');\n    }\n  });\n  return /*#__PURE__*/React.createElement(EditableFieldWrapper, {\n    dataTest: \"formfields-optionset\",\n    onRefresh: () => optionSetHandle.current.refetch(),\n    onAddNew: () => window.open(newOptionSetLink, '_blank')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.optionSetSelect\n  }, /*#__PURE__*/React.createElement(Field, {\n    name: \"optionSet.id\",\n    label: i18n.t('Option set'),\n    helpText: i18n.t('Choose a set of predefined options for data entry'),\n    validationText: meta.touched ? meta.error : undefined,\n    error: meta.touched && !!meta.error,\n    dataTest: \"formfields-optionset\"\n  }, /*#__PURE__*/React.createElement(OptionSetSelect, {\n    showAllOption: true,\n    placeholder: \"\",\n    invalid: meta.touched && !!meta.error,\n    ref: optionSetHandle,\n    selected: input.value,\n    onChange: _ref => {\n      let {\n        selected\n      } = _ref;\n      return input.onChange(selected);\n    },\n    onBlur: input.onBlur,\n    onFocus: input.onFocus\n  }))));\n}","// extracted by mini-css-extract-plugin\nexport default {\"optionSetSelect\":\"OptionSetField_optionSetSelect__4gFHR\"};"],"names":["OptionSetField","newOptionSetLink","useHref","input","meta","useField","validateFields","format","optionSet","id","parse","optionSetHandle","useRef","refetch","Error","React","EditableFieldWrapper","dataTest","onRefresh","current","onAddNew","window","open","className","classes","optionSetSelect","Field","name","label","i18n","t","helpText","validationText","touched","error","undefined","OptionSetSelect","showAllOption","placeholder","invalid","ref","selected","value","onChange","_ref","onBlur","onFocus"],"sourceRoot":""}